/*! FEE Javascript Files 2020-05-06 */
;(function($,jQuery,undefined){
function array_diff(a,b){for(var c=[],d=[],e=0;e<a.length;e++)c[a[e]]=!0;for(e=0;e<b.length;e++)c[b[e]]?delete c[b[e]]:c[b[e]]=!0;for(var f in c)c.hasOwnProperty(f)&&d.push(f);return d}function executeFunctionByName(a,b){for(var c=Array.prototype.slice.call(arguments).splice(2,Number.MAX_VALUE),d=a.split("."),e=d.pop(),f=0;f<d.length;f++){if("undefined"==typeof b)return!1;b=b[d[f]]}return"undefined"!=typeof b[e]&&b[e].apply(this,c)}function getObjectByName(a){for(var b=a.split("."),c=window,d=b.pop(),e=0;e<b.length;e++)c=c[b[e]];return c[d]}!function(a,b){void 0!==a.__fee_globals&&void 0!==a.__fee_globals.jQuery&&a.__fee_globals.jQuery!==b.jQuery&&(a.__alien_globals=a.__alien_globals||{},a.__alien_globals.jQuery=b.jQuery,$=jQuery=b.jQuery=b.$=a.__fee_globals.jQuery)}(MediaSaturn,window),function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,!(!b.href||!f||"map"!==e.nodeName.toLowerCase())&&(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g))):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;e.length>d;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0||(b[d]=1,e=b[d]>0,b[d]=0,e)}})}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(c,d,e){var f,g,h,i,j={},k=c.split(".")[0];c=c.split(".")[1],f=k+"-"+c,e||(e=d,d=a.Widget),a.expr[":"][f.toLowerCase()]=function(b){return!!a.data(b,f)},a[k]=a[k]||{},g=a[k][c],h=a[k][c]=function(a,c){return this._createWidget?(arguments.length&&this._createWidget(a,c),b):new h(a,c)},a.extend(h,g,{version:e.version,_proto:a.extend({},e),_childConstructors:[]}),i=new d,i.options=a.widget.extend({},i.options),a.each(e,function(c,e){return a.isFunction(e)?(j[c]=function(){var a=function(){return d.prototype[c].apply(this,arguments)},b=function(a){return d.prototype[c].apply(this,a)};return function(){var c,d=this._super,f=this._superApply;return this._super=a,this._superApply=b,c=e.apply(this,arguments),this._super=d,this._superApply=f,c}}(),b):(j[c]=e,b)}),h.prototype=a.widget.extend(i,{widgetEventPrefix:g?i.widgetEventPrefix:c},j,{constructor:h,namespace:k,widgetName:c,widgetFullName:f}),g?(a.each(g._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,h,c._proto)}),delete g._childConstructors):d._childConstructors.push(h),a.widget.bridge(c,h)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):b):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;e.length-1>g;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(c,d,e){var f,g=this;"boolean"!=typeof c&&(e=d,d=c,c=!1),e?(d=f=a(d),this.bindings=this.bindings.add(d)):(e=d,d=this.element,f=this.widget()),a.each(e,function(e,h){function i(){return c||g.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof h?g[h]:h).apply(g,arguments):b}"string"!=typeof h&&(i.guid=h.guid=h.guid||i.guid||a.guid++);var j=e.match(/^(\w+)\s*(.*)$/),k=j[1]+g.eventNamespace,l=j[2];l?f.delegate(l,k,i):d.bind(k,i)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,e=1===c.which,f=!("string"!=typeof this.options.cancel||!c.target.nodeName)&&a(c.target).closest(this.options.cancel).length;return!(e&&!f&&this._mouseCapture(c))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0))}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a,b){function c(a,b,c){return[parseFloat(a[0])*(n.test(a[0])?b/100:1),parseFloat(a[1])*(n.test(a[1])?c/100:1)]}function d(b,c){return parseInt(a.css(b,c),10)||0}function e(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,g=Math.max,h=Math.abs,i=Math.round,j=/left|center|right/,k=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,n=/%$/,o=a.fn.position;a.position={scrollbarWidth:function(){if(f!==b)return f;var c,d,e=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=e.children()[0];return a("body").append(e),c=g.offsetWidth,e.css("overflow","scroll"),d=g.offsetWidth,c===d&&(d=e[0].clientWidth),e.remove(),f=c-d},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return o.apply(this,arguments);b=a.extend({},b);var f,n,p,q,r,s,t=a(b.of),u=a.position.getWithinInfo(b.within),v=a.position.getScrollInfo(u),w=(b.collision||"flip").split(" "),x={};return s=e(t),t[0].preventDefault&&(b.at="left top"),n=s.width,p=s.height,q=s.offset,r=a.extend({},q),a.each(["my","at"],function(){var a,c,d=(b[this]||"").split(" ");1===d.length&&(d=j.test(d[0])?d.concat(["center"]):k.test(d[0])?["center"].concat(d):["center","center"]),d[0]=j.test(d[0])?d[0]:"center",d[1]=k.test(d[1])?d[1]:"center",a=l.exec(d[0]),c=l.exec(d[1]),x[this]=[a?a[0]:0,c?c[0]:0],b[this]=[m.exec(d[0])[0],m.exec(d[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===b.at[0]?r.left+=n:"center"===b.at[0]&&(r.left+=n/2),"bottom"===b.at[1]?r.top+=p:"center"===b.at[1]&&(r.top+=p/2),f=c(x.at,n,p),r.left+=f[0],r.top+=f[1],this.each(function(){var e,j,k=a(this),l=k.outerWidth(),m=k.outerHeight(),o=d(this,"marginLeft"),s=d(this,"marginTop"),y=l+o+d(this,"marginRight")+v.width,z=m+s+d(this,"marginBottom")+v.height,A=a.extend({},r),B=c(x.my,k.outerWidth(),k.outerHeight());"right"===b.my[0]?A.left-=l:"center"===b.my[0]&&(A.left-=l/2),"bottom"===b.my[1]?A.top-=m:"center"===b.my[1]&&(A.top-=m/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=i(A.left),A.top=i(A.top)),e={marginLeft:o,marginTop:s},a.each(["left","top"],function(c,d){a.ui.position[w[c]]&&a.ui.position[w[c]][d](A,{targetWidth:n,targetHeight:p,elemWidth:l,elemHeight:m,collisionPosition:e,collisionWidth:y,collisionHeight:z,offset:[f[0]+B[0],f[1]+B[1]],my:b.my,at:b.at,within:u,elem:k})}),b.using&&(j=function(a){var c=q.left-A.left,d=c+n-l,e=q.top-A.top,f=e+p-m,i={target:{element:t,left:q.left,top:q.top,width:n,height:p},element:{element:k,left:A.left,top:A.top,width:l,height:m},horizontal:0>d?"left":c>0?"right":"center",vertical:0>f?"top":e>0?"bottom":"middle"};l>n&&n>h(c+d)&&(i.horizontal="center"),m>p&&p>h(e+f)&&(i.vertical="middle"),i.important=g(h(c),h(d))>g(h(e),h(f))?"horizontal":"vertical",b.using.call(this,a,i)}),k.offset(a.extend(A,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-f-e;b.collisionWidth>f?i>0&&0>=j?(c=a.left+i+b.collisionWidth-f-e,a.left+=i-c):a.left=j>0&&0>=i?e:i>j?e+f-b.collisionWidth:e:i>0?a.left+=i:j>0?a.left-=j:a.left=g(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-f-e;b.collisionHeight>f?i>0&&0>=j?(c=a.top+i+b.collisionHeight-f-e,a.top+=i-c):a.top=j>0&&0>=i?e:i>j?e+f-b.collisionHeight:e:i>0?a.top+=i:j>0?a.top-=j:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-g-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-g-f,(0>c||h(k)>c)&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||l>h(d))&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,g=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-g-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-g-f,a.top+n+o+p>k&&(0>d||h(k)>d)&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||l>h(c))&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML="",c.removeChild(b)}()}(jQuery),function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return!(this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(b),!!this.handle&&(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0))},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),!("original"===this.options.helper&&!a.contains(this.element[0].ownerDocument,this.element[0]))&&("invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",b)!==!1&&c._clear()}):this._trigger("stop",b)!==!1&&this._clear(),!1)},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return!this.options.handle||!!a(b.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;return e.containment?"window"===e.containment?void(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===e.containment?void(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):e.containment.constructor===Array?void(this.containment=e.containment):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),d=c[0],void(d&&(b="hidden"!==c.css("overflow"),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c))):void(this.containment=null)},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),left:e.scrollLeft()}),{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*d}},_generatePosition:function(b){var c,d,e,f,g=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=b.pageX,j=b.pageY;return this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(d=this.relative_container.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,b.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),b.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),b.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),b.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("ui-draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"ui-sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("ui-draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("ui-draggable"),e=this;a.each(d.sortables,function(){var f=!1,g=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,
this.instance.offset.click=d.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("ui-draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("ui-draggable"),d=c.options,e=!1;c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName?(d.axis&&"x"===d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("ui-draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){var d,e,f,g,h,i,j,k,l,m,n=a(this).data("ui-draggable"),o=n.options,p=o.snapTolerance,q=c.offset.left,r=q+n.helperProportions.width,s=c.offset.top,t=s+n.helperProportions.height;for(l=n.snapElements.length-1;l>=0;l--)h=n.snapElements[l].left,i=h+n.snapElements[l].width,j=n.snapElements[l].top,k=j+n.snapElements[l].height,h-p>r||q>i+p||j-p>t||s>k+p||!a.contains(n.snapElements[l].item.ownerDocument,n.snapElements[l].item)?(n.snapElements[l].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=!1):("inner"!==o.snapMode&&(d=p>=Math.abs(j-t),e=p>=Math.abs(k-s),f=p>=Math.abs(h-r),g=p>=Math.abs(i-q),d&&(c.position.top=n._convertPositionTo("relative",{top:j-n.helperProportions.height,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i}).left-n.margins.left)),m=d||e||f||g,"outer"!==o.snapMode&&(d=p>=Math.abs(j-s),e=p>=Math.abs(k-t),f=p>=Math.abs(h-q),g=p>=Math.abs(i-r),d&&(c.position.top=n._convertPositionTo("relative",{top:j,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k-n.helperProportions.height,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[l].snapping&&(d||e||f||g||m)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=d||e||f||g||m)}}),a.ui.plugin.add("draggable","stack",{start:function(){var b,c=this.data("ui-draggable").options,d=a.makeArray(a(c.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});d.length&&(b=parseInt(a(d[0]).css("zIndex"),10)||0,a(d).each(function(c){a(this).css("zIndex",b+c)}),this.css("zIndex",b+d.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a){function b(a,b,c){return a>b&&b+c>a}a.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b=this.options,c=b.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=0,c=a.ui.ddmanager.droppables[this.options.scope];c.length>b;b++)c[b]===this&&c.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,c){"accept"===b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current,e=!1;return!(!d||(d.currentItem||d.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"ui-droppable");return b.options.greedy&&!b.options.disabled&&b.options.scope===d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(e=!0,!1):void 0}),!e&&(!!this.accept.call(this.element[0],d.currentItem||d.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element)))},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.ui.intersect=function(a,c,d){if(!c.offset)return!1;var e,f,g=(a.positionAbs||a.position.absolute).left,h=g+a.helperProportions.width,i=(a.positionAbs||a.position.absolute).top,j=i+a.helperProportions.height,k=c.offset.left,l=k+c.proportions.width,m=c.offset.top,n=m+c.proportions.height;switch(d){case"fit":return g>=k&&l>=h&&i>=m&&n>=j;case"intersect":return g+a.helperProportions.width/2>k&&l>h-a.helperProportions.width/2&&i+a.helperProportions.height/2>m&&n>j-a.helperProportions.height/2;case"pointer":return e=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,f=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,b(f,m,c.proportions.height)&&b(e,k,c.proportions.width);case"touch":return(i>=m&&n>=i||j>=m&&n>=j||m>i&&j>n)&&(g>=k&&l>=g||h>=k&&l>=h||k>g&&h>l);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d,e,f=a.ui.ddmanager.droppables[b.options.scope]||[],g=c?c.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();a:for(d=0;f.length>d;d++)if(!(f[d].options.disabled||b&&!f[d].accept.call(f[d].element[0],b.currentItem||b.element))){for(e=0;h.length>e;e++)if(h[e]===f[d].element[0]){f[d].proportions.height=0;continue a}f[d].visible="none"!==f[d].element.css("display"),f[d].visible&&("mousedown"===g&&f[d]._activate.call(f[d],c),f[d].offset=f[d].element.offset(),f[d].proportions={width:f[d].element[0].offsetWidth,height:f[d].element[0].offsetHeight})}},drop:function(b,c){var d=!1;return a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,e,f,g=a.ui.intersect(b,this,this.options.tolerance),h=!g&&this.isover?"isout":g&&!this.isover?"isover":null;h&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===e}),f.length&&(d=a.data(f[0],"ui-droppable"),d.greedyChild="isover"===h)),d&&"isover"===h&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,c),d&&"isout"===h&&(d.isout=!1,d.isover=!0,d._over.call(d,c)))}})},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),function(a){function b(a){return parseInt(a,10)||0}function c(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,c,d,e,f,g=this,h=this.options;if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},c=0;b.length>c;c++)d=a.trim(b[c]),f="ui-resizable-"+d,e=a("<div class='ui-resizable-handle "+f+"'></div>"),e.css({zIndex:h.zIndex}),"se"===d&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[d]=".ui-resizable-"+d,this.element.append(e);this._renderAxis=function(b){var c,d,e,f;b=b||this.element;for(c in this.handles)this.handles[c].constructor===String&&(this.handles[c]=a(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(d=a(this.handles[c],this.element),f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(e,f),this._proportionallyResize()),a(this.handles[c]).length},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){g.resizing||(this.className&&(e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),g.axis=e&&e[1]?e[1]:"se")}),h.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(a(this).removeClass("ui-resizable-autohide"),g._handles.show())}).mouseleave(function(){h.disabled||g.resizing||(a(this).addClass("ui-resizable-autohide"),g._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,c=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),this},_mouseCapture:function(b){var c,d,e=!1;for(c in this.handles)d=a(this.handles[c])[0],(d===b.target||a.contains(d,b.target))&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(c){var d,e,f,g=this.options,h=this.element.position(),i=this.element;return this.resizing=!0,/absolute/.test(i.css("position"))?i.css({position:"absolute",top:i.css("top"),left:i.css("left")}):i.is(".ui-draggable")&&i.css({position:"absolute",top:h.top,left:h.left}),this._renderProxy(),d=b(this.helper.css("left")),e=b(this.helper.css("top")),g.containment&&(d+=a(g.containment).scrollLeft()||0,e+=a(g.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:d,top:e},this.size=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalPosition={left:d,top:e},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio="number"==typeof g.aspectRatio?g.aspectRatio:this.originalSize.width/this.originalSize.height||1,f=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===f?this.axis+"-resize":f),i.addClass("ui-resizable-resizing"),this._propagate("start",c),!0},_mouseDrag:function(b){var c,d=this.helper,e={},f=this.originalMousePosition,g=this.axis,h=this.position.top,i=this.position.left,j=this.size.width,k=this.size.height,l=b.pageX-f.left||0,m=b.pageY-f.top||0,n=this._change[g];return!!n&&(c=n.apply(this,[b,l,m]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(c=this._updateRatio(c,b)),c=this._respectSize(c,b),this._updateCache(c),this._propagate("resize",b),this.position.top!==h&&(e.top=this.position.top+"px"),this.position.left!==i&&(e.left=this.position.left+"px"),this.size.width!==j&&(e.width=this.size.width+"px"),this.size.height!==k&&(e.height=this.size.height+"px"),d.css(e),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(e)||this._trigger("resize",b,this.ui()),!1)},_mouseStop:function(b){this.resizing=!1;var c,d,e,f,g,h,i,j=this.options,k=this;return this._helper&&(c=this._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),e=d&&a.ui.hasScroll(c[0],"left")?0:k.sizeDiff.height,f=d?0:k.sizeDiff.width,g={width:k.helper.width()-f,height:k.helper.height()-e},h=parseInt(k.element.css("left"),10)+(k.position.left-k.originalPosition.left)||null,i=parseInt(k.element.css("top"),10)+(k.position.top-k.originalPosition.top)||null,j.animate||this.element.css(a.extend(g,{top:i,left:h})),k.helper.height(k.size.height),k.helper.width(k.size.width),this._helper&&!j.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,d,e,f,g,h=this.options;g={minWidth:c(h.minWidth)?h.minWidth:0,maxWidth:c(h.maxWidth)?h.maxWidth:1/0,minHeight:c(h.minHeight)?h.minHeight:0,maxHeight:c(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||a)&&(b=g.minHeight*this.aspectRatio,e=g.minWidth/this.aspectRatio,d=g.maxHeight*this.aspectRatio,f=g.maxWidth/this.aspectRatio,b>g.minWidth&&(g.minWidth=b),e>g.minHeight&&(g.minHeight=e),g.maxWidth>d&&(g.maxWidth=d),g.maxHeight>f&&(g.maxHeight=f)),this._vBoundaries=g},_updateCache:function(a){this.offset=this.helper.offset(),c(a.left)&&(this.position.left=a.left),c(a.top)&&(this.position.top=a.top),c(a.height)&&(this.size.height=a.height),c(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,d=this.size,e=this.axis;return c(a.height)?a.width=a.height*this.aspectRatio:c(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===e&&(a.left=b.left+(d.width-a.width),a.top=null),"nw"===e&&(a.top=b.top+(d.height-a.height),a.left=b.left+(d.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,d=this.axis,e=c(a.width)&&b.maxWidth&&b.maxWidth<a.width,f=c(a.height)&&b.maxHeight&&b.maxHeight<a.height,g=c(a.width)&&b.minWidth&&b.minWidth>a.width,h=c(a.height)&&b.minHeight&&b.minHeight>a.height,i=this.originalPosition.left+this.originalSize.width,j=this.position.top+this.size.height,k=/sw|nw|w/.test(d),l=/nw|ne|n/.test(d);return g&&(a.width=b.minWidth),h&&(a.height=b.minHeight),e&&(a.width=b.maxWidth),f&&(a.height=b.maxHeight),g&&k&&(a.left=i-b.minWidth),e&&k&&(a.left=i-b.maxWidth),h&&l&&(a.top=j-b.minHeight),f&&l&&(a.top=j-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,c,d,e,f=this.helper||this.element;for(a=0;this._proportionallyResizeElements.length>a;a++){if(e=this._proportionallyResizeElements[a],!this.borderDif)for(this.borderDif=[],c=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],d=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")],b=0;c.length>b;b++)this.borderDif[b]=(parseInt(c[b],10)||0)+(parseInt(d[b],10)||0);e.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset(),this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=this.originalSize,d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=this.originalSize,e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("ui-resizable"),d=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:c.sizeDiff.height,h=f?0:c.sizeDiff.width,i={width:c.size.width-h,height:c.size.height-g},j=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,k=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(i,k&&j?{top:k,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};e&&e.length&&a(e[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var c,d,e,f,g,h,i,j=a(this).data("ui-resizable"),k=j.options,l=j.element,m=k.containment,n=m instanceof a?m.get(0):/parent/.test(m)?l.parent().get(0):m;n&&(j.containerElement=a(n),/document/.test(m)||m===document?(j.containerOffset={left:0,top:0},j.containerPosition={left:0,top:0},j.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}):(c=a(n),d=[],a(["Top","Right","Left","Bottom"]).each(function(a,e){d[a]=b(c.css("padding"+e))}),j.containerOffset=c.offset(),j.containerPosition=c.position(),j.containerSize={height:c.innerHeight()-d[3],width:c.innerWidth()-d[1]},e=j.containerOffset,f=j.containerSize.height,g=j.containerSize.width,h=a.ui.hasScroll(n,"left")?n.scrollWidth:g,i=a.ui.hasScroll(n)?n.scrollHeight:f,j.parentData={element:n,left:e.left,top:e.top,width:h,height:i}))},resize:function(b){var c,d,e,f,g=a(this).data("ui-resizable"),h=g.options,i=g.containerOffset,j=g.position,k=g._aspectRatio||b.shiftKey,l={top:0,left:0},m=g.containerElement;m[0]!==document&&/static/.test(m.css("position"))&&(l=i),j.left<(g._helper?i.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-i.left:g.position.left-l.left),k&&(g.size.height=g.size.width/g.aspectRatio),g.position.left=h.helper?i.left:0),j.top<(g._helper?i.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-i.top:g.position.top),k&&(g.size.width=g.size.height*g.aspectRatio),g.position.top=g._helper?i.top:0),g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top,c=Math.abs((g._helper?g.offset.left-l.left:g.offset.left-l.left)+g.sizeDiff.width),d=Math.abs((g._helper?g.offset.top-l.top:g.offset.top-i.top)+g.sizeDiff.height),e=g.containerElement.get(0)===g.element.parent().get(0),f=/relative|absolute/.test(g.containerElement.css("position")),e&&f&&(c-=g.parentData.left),c+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-c,k&&(g.size.height=g.size.width/g.aspectRatio)),d+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-d,k&&(g.size.width=g.size.height*g.aspectRatio))},stop:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.containerOffset,e=b.containerPosition,f=b.containerElement,g=a(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,j=g.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j}),b._helper&&!c.animate&&/static/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j})}}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,d=function(b){a(b).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof c.alsoResize||c.alsoResize.parentNode?d(c.alsoResize):c.alsoResize.length?(c.alsoResize=c.alsoResize[0],d(c.alsoResize)):a.each(c.alsoResize,function(a){d(a)})},resize:function(b,c){var d=a(this).data("ui-resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data("ui-resizable-alsoresize"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?i(e.alsoResize):a.each(e.alsoResize,function(a,b){i(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:""),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("ui-resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.size,e=b.originalSize,f=b.originalPosition,g=b.axis,h="number"==typeof c.grid?[c.grid,c.grid]:c.grid,i=h[0]||1,j=h[1]||1,k=Math.round((d.width-e.width)/i)*i,l=Math.round((d.height-e.height)/j)*j,m=e.width+k,n=e.height+l,o=c.maxWidth&&m>c.maxWidth,p=c.maxHeight&&n>c.maxHeight,q=c.minWidth&&c.minWidth>m,r=c.minHeight&&c.minHeight>n;c.grid=h,q&&(m+=i),r&&(n+=j),o&&(m-=i),p&&(n-=j),/^(se|s|e)$/.test(g)?(b.size.width=m,b.size.height=n):/^(ne)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.top=f.top-l):/^(sw)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.left=f.left-k):(b.size.width=m,b.size.height=n,b.position.top=f.top-l,b.position.left=f.left-k)}})}(jQuery),function(a){function b(a,b,c){return a>b&&b+c>a}function c(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===a.axis||c(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(b),a(b.target).parents().each(function(){return a.data(this,f.widgetName+"-item")===f?(d=a(this),!1):void 0}),a.data(b.target,f.widgetName+"-item")===f&&(d=a(b.target)),!!d&&(!(this.options.handle&&!c&&(a(this.options.handle,d).find("*").addBack().each(function(){this===b.target&&(e=!0)}),!e))&&(this.currentItem=d,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(b,c,d){var e,f,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={
prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",g.cursor),this.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=!1;for(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-a(document).scrollTop()<g.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<g.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)),b.pageX-a(document).scrollLeft()<g.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<g.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed))),h!==!1&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c=this.items.length-1;c>=0;c--)if(d=this.items[c],e=d.item[0],f=this._intersectsWithPointer(d),f&&d.instance===this.currentContainer&&e!==this.currentItem[0]&&this.placeholder[1===f?"next":"prev"]()[0]!==e&&!a.contains(this.placeholder[0],e)&&("semi-dynamic"!==this.options.type||!a.contains(this.element[0],e))){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d),this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&"x"!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),f&&"y"!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&i>d+j,m="y"===this.options.axis||b+k>f&&g>b+k,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:b+this.helperProportions.width/2>f&&g>c-this.helperProportions.width/2&&d+this.helperProportions.height/2>h&&i>e-this.helperProportions.height/2},_intersectsWithPointer:function(a){var c="x"===this.options.axis||b(this.positionAbs.top+this.offset.click.top,a.top,a.height),d="y"===this.options.axis||b(this.positionAbs.left+this.offset.click.left,a.left,a.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return!!e&&(this.floating?g&&"right"===g||"down"===f?2:1:f&&("down"===f?2:1))},_intersectsWithSides:function(a){var c=b(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),d=b(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"===f&&d||"left"===f&&!d:e&&("down"===e&&c||"up"===e&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c,d,e,f,g=[],h=[],i=this._connectWith();if(i&&b)for(c=i.length-1;c>=0;c--)for(e=a(i[c]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&h.push([a.isFunction(f.options.items)?f.options.items.call(f.element):a(f.options.items,f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),f]);for(h.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),c=h.length-1;c>=0;c--)h[c][0].each(function(){g.push(this)});return a(g)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;b.length>c;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&(l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;j>d;d++)i=a(h[d]),i.data(this.widgetName+"-item",g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.items.length-1;c>=0;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",b.document[0]).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===d?b.currentItem.children().each(function(){a("<td>&#160;</td>",b.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(e)}):"img"===d&&e.attr("src",b.currentItem.attr("src")),c||e.css("visibility","hidden"),e},update:function(a,e){(!c||d.forcePlaceholderSize)&&(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}),b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),d.placeholder.update(b,b.placeholder)},_contactContainers:function(d){var e,f,g,h,i,j,k,l,m,n,o=null,p=null;for(e=this.containers.length-1;e>=0;e--)if(!a.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(o&&a.contains(this.containers[e].element[0],o.element[0]))continue;o=this.containers[e],p=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",d,this._uiHash(this)),this.containers[e].containerCache.over=0);if(o)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",d,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(g=1e4,h=null,n=o.floating||c(this.currentItem),i=n?"left":"top",j=n?"width":"height",k=this.positionAbs[i]+this.offset.click[i],f=this.items.length-1;f>=0;f--)a.contains(this.containers[p].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&(!n||b(this.positionAbs.top+this.offset.click.top,this.items[f].top,this.items[f].height))&&(l=this.items[f].item.offset()[i],m=!1,Math.abs(l-k)>Math.abs(l+this.items[f][j]-k)&&(m=!0,l+=this.items[f][j]),g>Math.abs(l-k)&&(g=Math.abs(l-k),h=this.items[f],this.direction=m?"up":"down"));if(!h&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return;h?this._rearrange(d,h,null,!0):this._rearrange(d,null,this.containers[p].element,!0),this._trigger("change",d,this._uiHash()),this.containers[p]._trigger("change",d,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",d,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(!d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),("document"===e.containment||"window"===e.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){this.reverting=!1;var c,d=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(c in this._storedCSS)("auto"===this._storedCSS[c]||"static"===this._storedCSS[c])&&(this._storedCSS[c]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||d.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(d.push(function(a){this._trigger("remove",a,this._uiHash())}),d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),c=this.containers.length-1;c>=0;c--)b||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[c])),this.containers[c].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[c])),this.containers[c].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!b){for(this._trigger("beforeStop",a,this._uiHash()),c=0;d.length>c;c++)d[c].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!b){for(c=0;d.length>c;c++)d[c].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})}(jQuery),function(a){var b=0;a.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var b,c,d,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e,g="input"===e;this.isMultiLine=!!f||!g&&this.element.prop("isContentEditable"),this.valueMethod=this.element[f||g?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return b=!0,d=!0,void(c=!0);b=!1,d=!1,c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=!0,this._move("previousPage",e);break;case f.PAGE_DOWN:b=!0,this._move("nextPage",e);break;case f.UP:b=!0,this._keyEvent("previous",e);break;case f.DOWN:b=!0,this._keyEvent("next",e);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(b=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(d){if(b)return b=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&d.preventDefault());if(!c){var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}}},input:function(a){return d?(d=!1,void a.preventDefault()):void this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),void this._change(a))}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(b){b.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target===b.element[0]||d.target===c||a.contains(c,d.target)||b.close()})})},menufocus:function(b,c){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});var d=c.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:d})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(d.value):this.liveRegion.text(d.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d,this.selectedItem=c})),!1!==this._trigger("select",a,{item:c})&&this._value(c.value),this.term=this._value(),this.close(a),this.selectedItem=c}}),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=this,c=++b;return function(d){c===b&&a.__response(d),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty();this._renderMenu(c,b),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").append(a("<a>").text(c.label)).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this._value(this.term),void this.menu.blur()):void this.menu[a](b):void this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments),this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(b))}})}(jQuery),function(a){var b,c,d,e,f="ui-button ui-widget ui-state-default ui-corner-all",g="ui-state-hover ui-state-active ",h="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",i=function(){var b=a(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},j=function(b){var c=b.name,d=b.form,e=a([]);return c&&(c=c.replace(/'/g,"\\'"),e=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,i),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var g=this,h=this.options,k="checkbox"===this.type||"radio"===this.type,l=k?"":"ui-state-active",m="ui-state-focus";null===h.label&&(h.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(f).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){h.disabled||this===b&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){h.disabled||a(this).removeClass(l)}).bind("click"+this.eventNamespace,function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){g.buttonElement.addClass(m)}).bind("blur"+this.eventNamespace,function(){g.buttonElement.removeClass(m)}),k&&(this.element.bind("change"+this.eventNamespace,function(){e||g.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){h.disabled||(e=!1,c=a.pageX,d=a.pageY)}).bind("mouseup"+this.eventNamespace,function(a){h.disabled||(c!==a.pageX||d!==a.pageY)&&(e=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return!h.disabled&&!e&&void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(h.disabled||e)return!1;a(this).addClass("ui-state-active"),g.buttonElement.attr("aria-pressed","true");var b=g.element[0];j(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!h.disabled&&(a(this).addClass("ui-state-active"),b=this,void g.document.one("mouseup",function(){b=null}))}).bind("mouseup"+this.eventNamespace,function(){return!h.disabled&&void a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){return!h.disabled&&void((b.keyCode===a.ui.keyCode.SPACE||b.keyCode===a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){
a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){var a,b,c;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(f+" "+g+" "+h).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?void(b?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b),"radio"===this.type?j(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var b=this.buttonElement.removeClass(h),c=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(c)))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}),a.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var b="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(a,b){function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(this._defaults,this.regional[""]),this.dpDiv=d(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.delegate(c,"mouseout",function(){a(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate(c,"mouseover",function(){a.datepicker._isDisabledDatepicker(f.inline?b.parent()[0]:f.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function e(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}a.extend(a.ui,{datepicker:{version:"1.10.3"}});var f,g="datepicker";a.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return e(this._defaults,a||{}),this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase(),e="div"===d||"span"===d,b.id||(this.uuid+=1,b.id="dp"+this.uuid),f=this._newInst(a(b),e),f.settings=a.extend({},c||{}),"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,c){var e=b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:e,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?d(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]),c.trigger=a([]),d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(c),a.data(b,g,c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove(),g&&(c.append=a("<span class='"+this._appendClass+"'>"+g+"</span>"),b[h?"before":"after"](c.append)),b.unbind("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),("focus"===d||"both"===d)&&b.focus(this._showDatepicker),("button"===d||"both"===d)&&(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type='button'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:e,title:e}):e)),b[h?"before":"after"](c.trigger),c.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;a.length>e;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,g,c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,f,h){var i,j,k,l,m,n=this._dialogInst;return n||(this.uuid+=1,i="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+i+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),n=this._dialogInst=this._newInst(this._dialogInput,!1),n.settings={},a.data(this._dialogInput[0],g,n)),e(n.settings,f||{}),c=c&&c.constructor===Date?this._formatDate(n,c):c,this._dialogInput.val(c),this._pos=h?h.length?h:[h.pageX,h.pageY]:null,this._pos||(j=document.documentElement.clientWidth,k=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,m=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[j/2-100+l,k/2-150+m]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),n.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],g,n),this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,g);d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,g),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===c||"span"===c)&&d.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;this._disabledInputs.length>b;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,g)}catch(c){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(c,d,f){var g,h,i,j,k=this._getInst(c);return 2===arguments.length&&"string"==typeof d?"defaults"===d?a.extend({},a.datepicker._defaults):k?"all"===d?a.extend({},k.settings):this._get(k,d):null:(g=d||{},"string"==typeof d&&(g={},g[d]=f),k&&(this._curInst===k&&this._hideDatepicker(),h=this._getDateDatepicker(c,!0),i=this._getMinMaxDate(k,"min"),j=this._getMinMaxDate(k,"max"),e(k.settings,g),null!==i&&g.dateFormat!==b&&g.minDate===b&&(k.settings.minDate=this._formatDate(k,i)),null!==j&&g.dateFormat!==b&&g.maxDate===b&&(k.settings.maxDate=this._formatDate(k,j)),"disabled"in g&&(g.disabled?this._disableDatepicker(c):this._enableDatepicker(c)),this._attachments(a(c),k),this._autoSize(k),this._setDate(k,h),this._updateAlternate(k),this._updateDatepicker(k)),b)},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),c=a.datepicker._get(f,"onSelect"),c?(d=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?1:-1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D"),g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?-1:1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D"),g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(c){var d,e,f=a.datepicker._getInst(c.target);return a.datepicker._get(f,"constrainInput")?(d=a.datepicker._possibleChars(a.datepicker._get(f,"dateFormat")),e=String.fromCharCode(null==c.charCode?c.keyCode:c.charCode),c.ctrlKey||c.metaKey||" ">e||!d||d.indexOf(e)>-1):b},_doKeyUp:function(b){var c,d=a.datepicker._getInst(b.target);if(d.input.val()!==d.lastVal)try{c=a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,a.datepicker._getFormatConfig(d)),c&&(a.datepicker._setDateFromField(d),a.datepicker._updateAlternate(d),a.datepicker._updateDatepicker(d))}catch(e){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var c,d,f,g,h,i,j;c=a.datepicker._getInst(b),a.datepicker._curInst&&a.datepicker._curInst!==c&&(a.datepicker._curInst.dpDiv.stop(!0,!0),c&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),d=a.datepicker._get(c,"beforeShow"),f=d?d.apply(b,[b,c]):{},f!==!1&&(e(c.settings,f),c.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(c),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),g=!1,a(b).parents().each(function(){return g|="fixed"===a(this).css("position"),!g}),h={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(c),h=a.datepicker._checkOffset(c,h,g),c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":g?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),c.inline||(i=a.datepicker._get(c,"showAnim"),j=a.datepicker._get(c,"duration"),c.dpDiv.zIndex(a(b).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[i]?c.dpDiv.show(i,a.datepicker._get(c,"showOptions"),j):c.dpDiv[i||"show"](i?j:null),a.datepicker._shouldFocusInput(c)&&c.input.focus(),a.datepicker._curInst=c))}},_updateDatepicker:function(b){this.maxRows=4,f=b,b.dpDiv.empty().append(this._generateHTML(b)),this._attachHandlers(b),b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var c,d=this._getNumberOfMonths(b),e=d[1],g=17;b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",g*e+"em"),b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus(),b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml),c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0),c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0),c},_findPos:function(b){for(var c,d=this._getInst(b),e=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,h=this._curInst;!h||b&&h!==a.data(b,g)||this._datepickerShowing&&(c=this._get(h,"showAnim"),d=this._get(h,"duration"),e=function(){a.datepicker._tidyDialog(h)},a.effects&&(a.effects.effect[c]||a.effects[c])?h.dpDiv.hide(c,a.datepicker._get(h,"showOptions"),d,e):h.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(h,"onClose"),f&&f.apply(h.input?h.input[0]:null,[h.input?h.input.val():"",h]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){var c=a(b.target),d=a.datepicker._getInst(c[0]);(c[0].id!==a.datepicker._mainDivId&&0===c.parents("#"+a.datepicker._mainDivId).length&&!c.hasClass(a.datepicker.markerClassName)&&!c.closest("."+a.datepicker._triggerClass).length&&a.datepicker._datepickerShowing&&(!a.datepicker._inDialog||!a.blockUI)||c.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==d)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear()),this._notifyChange(e),this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10),this._notifyChange(f),this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=a("a",e).html(),f.selectedMonth=f.currentMonth=c,f.selectedYear=f.currentYear=d,this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=null!=c?c:this._formatDate(f),f.input&&f.input.val(c),this._updateAlternate(f),d=this._get(f,"onSelect"),d?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change"),f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");f&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(c,d,this._getFormatConfig(b)),a(f).each(function(){a(this).val(e)}))},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(c,d,e){if(null==c||null==d)throw"Invalid arguments";if(d="object"==typeof d?""+d:d+"",""===d)return null;var f,g,h,i,j=0,k=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof k?k:(new Date).getFullYear()%100+parseInt(k,10),m=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,n=(e?e.dayNames:null)||this._defaults.dayNames,o=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,p=(e?e.monthNames:null)||this._defaults.monthNames,q=-1,r=-1,s=-1,t=-1,u=!1,v=function(a){var b=c.length>f+1&&c.charAt(f+1)===a;return b&&f++,b},w=function(a){var b=v(a),c="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2,e=RegExp("^\\d{1,"+c+"}"),f=d.substring(j).match(e);if(!f)throw"Missing number at position "+j;return j+=f[0].length,parseInt(f[0],10)},x=function(c,e,f){var g=-1,h=a.map(v(c)?f:e,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(h,function(a,c){var e=c[1];return d.substr(j,e.length).toLowerCase()===e.toLowerCase()?(g=c[0],j+=e.length,!1):b}),-1!==g)return g+1;throw"Unknown name at position "+j},y=function(){if(d.charAt(j)!==c.charAt(f))throw"Unexpected literal at position "+j;j++};for(f=0;c.length>f;f++)if(u)"'"!==c.charAt(f)||v("'")?y():u=!1;else switch(c.charAt(f)){case"d":s=w("d");break;case"D":x("D",m,n);break;case"o":t=w("o");break;case"m":r=w("m");break;case"M":r=x("M",o,p);break;case"y":q=w("y");break;case"@":i=new Date(w("@")),q=i.getFullYear(),r=i.getMonth()+1,s=i.getDate();break;case"!":i=new Date((w("!")-this._ticksTo1970)/1e4),q=i.getFullYear(),r=i.getMonth()+1,s=i.getDate();break;case"'":v("'")?y():u=!0;break;default:y()}if(d.length>j&&(h=d.substr(j),!/^\s+/.test(h)))throw"Extra/unparsed characters found in date: "+h;if(-1===q?q=(new Date).getFullYear():100>q&&(q+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=q?0:-100)),t>-1)for(r=1,s=t;g=this._getDaysInMonth(q,r-1),!(g>=s);)r++,s-=g;if(i=this._daylightSavingAdjust(new Date(q,r-1,s)),i.getFullYear()!==q||i.getMonth()+1!==r||i.getDate()!==s)throw"Invalid date";return i},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=a.length>d+1&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;c>d.length;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;if(b)for(d=0;a.length>d;d++)if(m)"'"!==a.charAt(d)||i("'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=a.length>b+1&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;a.length>b;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,c){return a.settings[c]!==b?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(h){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var e=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,f=e.getFullYear(),g=e.getMonth(),h=e.getDate(),i=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,j=i.exec(c);j;){switch(j[2]||"d"){case"d":case"D":h+=parseInt(j[1],10);break;case"w":case"W":h+=7*parseInt(j[1],10);break;case"m":case"M":g+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g));break;case"y":case"Y":f+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g))}j=i.exec(c)}return new Date(f,g,h)},g=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return g=g&&"Invalid Date"==""+g?d:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}};a(this).bind(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,aa=a.drawYear;if(0>_&&(_+=12,aa--),$)for(b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),b=Z&&Z>b?Z:b;this._daylightSavingAdjust(new Date(aa,_,1))>b;)_--,0>_&&(_=11,aa--);for(a.drawMonth=_,a.drawYear=aa,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(aa,_-W,1)),this._getFormatConfig(a)):c,d=this._canAdjustMonth(a,-1,aa,_)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(aa,_+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,aa,_)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",
k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;U[0]>w;w++){for(x="",this.maxRows=4,y=0;U[1]>y;y++){if(z=this._daylightSavingAdjust(new Date(aa,_,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class='ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="'>"}for(B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,_,aa,Z,$,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",v=0;7>v;v++)D=(v+k)%7,C+="<th"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+m[D]+"'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(aa,_),aa===a.selectedYear&&_===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(aa,_)-k+7)%7,G=Math.ceil((F+E)/7),H=X&&this.maxRows>G?this.maxRows:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(aa,_,1-F)),J=0;H>J;J++){for(B+="<tr>",K=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;7>v;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==_,N=M&&!s||!L[0]||Z&&Z>I||$&&I>$,K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(M&&!r||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);B+=K+"</tr>"}_++,_>11&&(_=0,aa++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q)u+="<span class='ui-datepicker-month'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",k=0;12>k;k++)(!i||k>=d.getMonth())&&(!j||e.getMonth()>=k)&&(u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p>=o;o++)a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),e=a.drawMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"===c||"Y"===c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||h>=b.getFullYear())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0),0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))},a.datepicker=new c,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.10.3"}(jQuery),function(a){var b={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},c={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&a.fn.draggable&&this._makeDraggable(),this.options.resizable&&a.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var c=this;this._isOpen&&this._trigger("beforeClose",b)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||a(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){c._trigger("close",b)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,b){var c=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return c&&!b&&this._trigger("focus",a),c},open:function(){var b=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable(),b._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var a=this.element.find("[autofocus]");a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).focus()},_keepFocus:function(b){function c(){var b=this.document[0].activeElement,c=this.uiDialog[0]===b||a.contains(this.uiDialog[0],b);c||this._focusTabbable()}b.preventDefault(),c.call(this),this._delay(c)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)return b.preventDefault(),void this.close(b);if(b.keyCode===a.ui.keyCode.TAB){var c=this.uiDialog.find(":tabbable"),d=c.filter(":first"),e=c.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==d[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||(e.focus(1),b.preventDefault()):(d.focus(1),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=a("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault(),this.close(a)}}),b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(b),this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||a.html("&#160;"),a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),a.isEmptyObject(c)||a.isArray(c)&&!c.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(a.each(c,function(c,d){var e,f;d=a.isFunction(d)?{click:d,text:c}:d,d=a.extend({type:"button"},d),e=d.click,d.click=function(){e.apply(b.element[0],arguments)},f={icons:d.icons,text:d.showText},delete d.icons,delete d.showText,a("<button></button>",d).button(f).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,e){a(this).addClass("ui-dialog-dragging"),c._blockFrames(),c._trigger("dragStart",d,b(e))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(e,f){d.position=[f.position.left-c.document.scrollLeft(),f.position.top-c.document.scrollTop()],a(this).removeClass("ui-dialog-dragging"),c._unblockFrames(),c._trigger("dragStop",e,b(f))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var c=this,d=this.options,e=d.resizable,f=this.uiDialog.css("position"),g="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:g,start:function(d,e){a(this).addClass("ui-dialog-resizing"),c._blockFrames(),c._trigger("resizeStart",d,b(e))},resize:function(a,d){c._trigger("resize",a,b(d))},stop:function(e,f){d.height=a(this).height(),d.width=a(this).width(),a(this).removeClass("ui-dialog-resizing"),c._unblockFrames(),c._trigger("resizeStop",e,b(f))}}).css("position",f)},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(d){var e=this,f=!1,g={};a.each(d,function(a,d){e._setOption(a,d),a in b&&(f=!0),a in c&&(g[a]=d)}),f&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",g)},_setOption:function(a,b){var c,d,e=this.uiDialog;"dialogClass"===a&&e.removeClass(this.options.dialogClass).addClass(b),"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+b}),"draggable"===a&&(c=e.is(":data(ui-draggable)"),c&&!b&&e.draggable("destroy"),!c&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(d=e.is(":data(ui-resizable)"),d&&!b&&e.resizable("destroy"),d&&"string"==typeof b&&e.resizable("option","handles",b),d||b===!1||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,c,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),b=Math.max(0,d.minHeight-a),c="number"==typeof d.maxHeight?Math.max(0,d.maxHeight-a):"none","auto"===d.height?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,d.height-a)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return!!a(b.target).closest(".ui-dialog").length||!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=this,c=this.widgetFullName;a.ui.dialog.overlayInstances||this._delay(function(){a.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(d){b._allowInteraction(d)||(d.preventDefault(),a(".ui-dialog:visible:last .ui-dialog-content").data(c)._focusTabbable())})}),this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),a.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(a.ui.dialog.overlayInstances--,a.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),a.ui.dialog.overlayInstances=0,a.uiBackCompat!==!1&&a.widget("ui.dialog",a.ui.dialog,{_position:function(){var b,c=this.options.position,d=[],e=[0,0];c?(("string"==typeof c||"object"==typeof c&&"0"in c)&&(d=c.split?c.split(" "):[c[0],c[1]],1===d.length&&(d[1]=d[0]),a.each(["left","top"],function(a,b){+d[a]===d[a]&&(e[a]=d[a],d[a]=b)}),c={my:d[0]+(0>e[0]?e[0]:"+"+e[0])+" "+d[1]+(0>e[1]?e[1]:"+"+e[1]),at:d.join(" ")}),c=a.extend({},a.ui.dialog.prototype.options.position,c)):c=a.ui.dialog.prototype.options.position,b=this.uiDialog.is(":visible"),b||this.uiDialog.show(),this.uiDialog.position(c),b||this.uiDialog.hide()}})}(jQuery),function(a){a.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(b){var c=a(b.target).closest(".ui-menu-item");!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(b),c.has(".ui-menu").length?this.expand(b):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){var c=a(b.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(b,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,c)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){function c(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var d,e,f,g,h,i=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:i=!1,e=this.previousFilter||"",f=String.fromCharCode(b.keyCode),g=!1,clearTimeout(this.filterTimer),f===e?g=!0:f=e+f,h=RegExp("^"+c(f),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return h.test(a(this).children("a").text())}),d=g&&-1!==d.index(this.active.next())?this.active.nextAll(".ui-menu-item"):d,d.length||(f=String.fromCharCode(b.keyCode),h=RegExp("^"+c(f),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return h.test(a(this).children("a").text())})),d.length?(this.focus(b,d),d.length>1?(this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}i&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b,c=this.options.icons.submenu,d=this.element.find(this.options.menus);d.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),d=b.prev("a"),e=a("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(e),b.attr("aria-labelledby",d.attr("id"))}),b=d.add(this.element),b.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),b.children(":not(.ui-menu-item)").each(function(){var b=a(this);/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")}),b.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu),this._super(a,b)},focus:function(a,b){var c,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.height(),0>e?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[b]()),this.focus(c,d)},nextPage:function(b){var c,d,e;return this.active?void(this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=a(this),0>c.offset().top-d-e}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(b)},previousPage:function(b){var c,d,e;return this.active?void(this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d+e>0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item").first()))):void this.next(b)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)}})}(jQuery),function(a){var b=5;a.widget("ui.slider",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=[];for(c=d.values&&d.values.length||1,e.length>c&&(e.slice(c).remove(),e=e.slice(0,c)),b=e.length;c>b;b++)g.push(f);this.handles=e.add(a(g.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var b=this.options,c="";b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):this.range=a([])},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a),this._on(a,this._handleEvents),this._hoverable(a),this._focusable(a)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));(e>c||e===c&&(b===k._lastChangedValue||k.values(b)===l.min))&&(e=c,f=a(this),g=b)}),h=this._start(b,g),h!==!1&&(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),
c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._lastChangedValue=b,this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),void this._change(null,b);if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;d.length>f;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch("range"===b&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),b){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;e>d;d+=1)this._change(null,d);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),d=0;c.length>d;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(this._valueMin()>=a)return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=!this._animateOff&&h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=100*((i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())),k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?100*((d-e)/(f-e)):0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:h.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:h.animate}))},_handleEvents:{keydown:function(c){var d,e,f,g,h=a(c.target).data("ui-slider-handle-index");switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(c.target).addClass("ui-state-active"),d=this._start(c,h),d===!1))return}switch(g=this.options.step,e=f=this.options.values&&this.options.values.length?this.values(h):this.value(),c.keyCode){case a.ui.keyCode.HOME:f=this._valueMin();break;case a.ui.keyCode.END:f=this._valueMax();break;case a.ui.keyCode.PAGE_UP:f=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(e===this._valueMax())return;f=this._trimAlignValue(e+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e===this._valueMin())return;f=this._trimAlignValue(e-g)}this._slide(c,h,f)},click:function(a){a.preventDefault()},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}})}(jQuery),function(a){function b(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(b){return d.test(a("<div>").html(b.label||b.value||b).text())})}var c=a.ui.autocomplete.prototype,d=c._initSource;a.extend(c,{_initSource:function(){this.options.html&&a.isArray(this.options.source)?this.source=function(a,c){c(b(this.options.source,a.term))}:d.call(this)},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>")[this.options.html?"html":"text"](c.label)).appendTo(b)}})}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){a.ui=a.ui||{},a.ui.version="1.12.1";var b=0,c=Array.prototype.slice;a.cleanData=function(b){return function(c){var d,e,f;for(f=0;null!=(e=c[f]);f++)try{d=a._data(e,"events"),d&&d.remove&&a(e).triggerHandler("remove")}catch(g){}b(c)}}(a.cleanData),a.widget=function(b,c,d){var e,f,g,h={},i=b.split(".")[0];b=b.split(".")[1];var j=i+"-"+b;return d||(d=c,c=a.Widget),a.isArray(d)&&(d=a.extend.apply(null,[{}].concat(d))),a.expr[":"][j.toLowerCase()]=function(b){return!!a.data(b,j)},a[i]=a[i]||{},e=a[i][b],f=a[i][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new f(a,b)},a.extend(f,e,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),g=new c,g.options=a.widget.extend({},g.options),a.each(d,function(b,d){return a.isFunction(d)?void(h[b]=function(){function a(){return c.prototype[b].apply(this,arguments)}function e(a){return c.prototype[b].apply(this,a)}return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(h[b]=d)}),f.prototype=a.widget.extend(g,{widgetEventPrefix:e?g.widgetEventPrefix||b:b},h,{constructor:f,namespace:i,widgetName:b,widgetFullName:j}),e?(a.each(e._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,f,c._proto)}),delete e._childConstructors):c._childConstructors.push(f),a.widget.bridge(b,f),f},a.widget.extend=function(b){for(var d,e,f=c.call(arguments,1),g=0,h=f.length;h>g;g++)for(d in f[g])e=f[g][d],f[g].hasOwnProperty(d)&&void 0!==e&&(b[d]=a.isPlainObject(e)?a.isPlainObject(b[d])?a.widget.extend({},b[d],e):a.widget.extend({},e):e);return b},a.widget.bridge=function(b,d){var e=d.prototype.widgetFullName||b;a.fn[b]=function(f){var g="string"==typeof f,h=c.call(arguments,1),i=this;return g?this.length||"instance"!==f?this.each(function(){var c,d=a.data(this,e);return"instance"===f?(i=d,!1):d?a.isFunction(d[f])&&"_"!==f.charAt(0)?(c=d[f].apply(d,h),c!==d&&void 0!==c?(i=c&&c.jquery?i.pushStack(c.get()):c,!1):void 0):a.error("no such method '"+f+"' for "+b+" widget instance"):a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'")}):i=void 0:(h.length&&(f=a.widget.extend.apply(null,[f].concat(h))),this.each(function(){var b=a.data(this,e);b?(b.option(f||{}),b._init&&b._init()):a.data(this,e,new d(f,this))})),i}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(c,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=b++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=a(),this.hoverable=a(),this.focusable=a(),this.classesElementLookup={},d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this.options=a.widget.extend({},this.options,this._getCreateOptions(),c),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){var b=this;this._destroy(),a.each(this.classesElementLookup,function(a,c){b._removeClass(c,a)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d,e,f,g=b;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){for(e=g[b]=a.widget.extend({},this.options[b]),f=0;d.length-1>f;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b=d.pop(),1===arguments.length)return void 0===e[b]?null:e[b];e[b]=c}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];g[b]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return"classes"===a&&this._setOptionClasses(b),this.options[a]=b,"disabled"===a&&this._setOptionDisabled(b),this},_setOptionClasses:function(b){var c,d,e;for(c in b)e=this.classesElementLookup[c],b[c]!==this.options.classes[c]&&e&&e.length&&(d=a(e.get()),this._removeClass(e,c),d.addClass(this._classes({element:d,keys:c,classes:b,add:!0})))},_setOptionDisabled:function(a){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!a),a&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(b){function c(c,f){var g,h;for(h=0;c.length>h;h++)g=e.classesElementLookup[c[h]]||a(),g=a(b.add?a.unique(g.get().concat(b.element.get())):g.not(b.element).get()),e.classesElementLookup[c[h]]=g,d.push(c[h]),f&&b.classes[c[h]]&&d.push(b.classes[c[h]])}var d=[],e=this;return b=a.extend({element:this.element,classes:this.options.classes||{}},b),this._on(b.element,{remove:"_untrackClassesElement"}),b.keys&&c(b.keys.match(/\S+/g)||[],!0),b.extra&&c(b.extra.match(/\S+/g)||[]),d.join(" ")},_untrackClassesElement:function(b){var c=this;a.each(c.classesElementLookup,function(d,e){-1!==a.inArray(b.target,e)&&(c.classesElementLookup[d]=a(e.not(b.target).get()))})},_removeClass:function(a,b,c){return this._toggleClass(a,b,c,!1)},_addClass:function(a,b,c){return this._toggleClass(a,b,c,!0)},_toggleClass:function(a,b,c,d){d="boolean"==typeof d?d:c;var e="string"==typeof a||null===a,f={extra:e?b:c,keys:e?a:b,element:e?this.element:a,add:d};return f.element.toggleClass(this._classes(f),d),this},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^([\w:-]*)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.on(j,k,h):c.on(j,h)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,b.off(c).off(c),this.bindings=a(this.bindings.not(b).get()),this.focusable=a(this.focusable.not(b).get()),this.hoverable=a(this.hoverable.not(b).get())},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){this._addClass(a(b.currentTarget),null,"ui-state-hover")},mouseleave:function(b){this._removeClass(a(b.currentTarget),null,"ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){this._addClass(a(b.currentTarget),null,"ui-state-focus")},focusout:function(b){this._removeClass(a(b.currentTarget),null,"ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}}),a.widget,a.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var d=!1;a(document).on("mouseup",function(){d=!1}),a.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.on("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).on("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!d){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var c=this,e=1===b.which,f=!("string"!=typeof this.options.cancel||!b.target.nodeName)&&a(b.target).closest(this.options.cancel).length;return!(e&&!f&&this._mouseCapture(b))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return c._mouseMove(a)},this._mouseUpDelegate=function(a){return c._mouseUp(a)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),d=!0,!0))}},_mouseMove:function(b){if(this._mouseMoved){if(a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button)return this._mouseUp(b);if(!b.which)if(b.originalEvent.altKey||b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(b)}return(b.which||b.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,d=!1,b.preventDefault()},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),a.widget("ui.slider",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle"),f="<span tabindex='0'></span>",g=[];for(c=d.values&&d.values.length||1,e.length>c&&(e.slice(c).remove(),e=e.slice(0,c)),b=e.length;c>b;b++)g.push(f);this.handles=e.add(a(g.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b).attr("tabIndex",0)})},_createRange:function(){var b=this.options;b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=a("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===b.range||"max"===b.range)&&this._addClass(this.range,"ui-slider-range-"+b.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));(e>c||e===c&&(b===k._lastChangedValue||k.values(b)===l.min))&&(e=c,f=a(this),g=b)}),h=this._start(b,g),h!==!1&&(this._mouseSliding=!0,this._handleIndex=g,this._addClass(f,null,"ui-state-active"),f.trigger("focus"),i=f.offset(),j=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_uiHash:function(a,b,c){var d={handle:this.handles[a],handleIndex:a,value:void 0!==b?b:this.value()};return this._hasMultipleValues()&&(d.value=void 0!==b?b:this.values(a),d.values=c||this.values()),d},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(a,b){return this._trigger("start",a,this._uiHash(b))},_slide:function(a,b,c){var d,e,f=this.value(),g=this.values();this._hasMultipleValues()&&(e=this.values(b?0:1),f=this.values(b),2===this.options.values.length&&this.options.range===!0&&(c=0===b?Math.min(e,c):Math.max(e,c)),g[b]=c),c!==f&&(d=this._trigger("slide",a,this._uiHash(b,c,g)),d!==!1&&(this._hasMultipleValues()?this.values(b,c):this.value(c)))},_stop:function(a,b){this._trigger("stop",a,this._uiHash(b))},_change:function(a,b){this._keySliding||this._mouseSliding||(this._lastChangedValue=b,this._trigger("change",a,this._uiHash(b)))},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),void this._change(null,b);if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this._hasMultipleValues()?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;d.length>f;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch("range"===b&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(e=this.options.values.length),this._super(b,c),b){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(c),this.handles.css("horizontal"===c?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=e-1;d>=0;d--)this._change(null,d);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(a){this._super(a),this._toggleClass(null,"ui-state-disabled",!!a)},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this._hasMultipleValues()){for(c=this.options.values.slice(),d=0;c.length>d;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(this._valueMin()>=a)return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_calculateNewMax:function(){var a=this.options.max,b=this._valueMin(),c=this.options.step,d=Math.round((a-b)/c)*c;a=d+b,a>this.options.max&&(a-=c),this.max=parseFloat(a.toFixed(this._precision()))},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=""+a,c=b.indexOf(".");return-1===c?0:b.length-c-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(a){"vertical"===a&&this.range.css({width:"",left:""}),"horizontal"===a&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=!this._animateOff&&h.animate,k={};this._hasMultipleValues()?this.handles.each(function(d){c=100*((i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())),k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?100*((d-e)/(f-e)):0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:100-c+"%"},h.animate),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:100-c+"%"},h.animate))},_handleEvents:{keydown:function(b){var c,d,e,f,g=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(a(b.target),null,"ui-state-active"),c=this._start(b,g),c===!1))return}switch(f=this.options.step,d=e=this._hasMultipleValues()?this.values(g):this.value(),b.keyCode){case a.ui.keyCode.HOME:e=this._valueMin();break;case a.ui.keyCode.END:e=this._valueMax();break;case a.ui.keyCode.PAGE_UP:e=this._trimAlignValue(d+(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(d-(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(d===this._valueMax())return;e=this._trimAlignValue(d+f);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d===this._valueMin())return;e=this._trimAlignValue(d-f)}this._slide(b,g,e)},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),this._removeClass(a(b.target),null,"ui-state-active"))}}})}),function(a){a.fn.hoverIntent=function(b,c){var d={sensitivity:7,interval:100,timeout:0};d=a.extend(d,c?{over:b,out:c}:b);var e,f,g,h,i=function(a){e=a.pageX,f=a.pageY},j=function(b,c){return c.hoverIntent_t=clearTimeout(c.hoverIntent_t),Math.abs(g-e)+Math.abs(h-f)<d.sensitivity?(a(c).unbind("mousemove",i),c.hoverIntent_s=1,d.over.apply(c,[b])):(g=e,h=f,c.hoverIntent_t=setTimeout(function(){j(b,c)},d.interval),void 0)},k=function(a,b){return b.hoverIntent_t=clearTimeout(b.hoverIntent_t),b.hoverIntent_s=0,d.out.apply(b,[a])},l=function(b){var c=jQuery.extend({},b),e=this;e.hoverIntent_t&&(e.hoverIntent_t=clearTimeout(e.hoverIntent_t)),"mouseenter"==b.type?(g=c.pageX,h=c.pageY,a(e).bind("mousemove",i),1!=e.hoverIntent_s&&(e.hoverIntent_t=setTimeout(function(){j(c,e)},d.interval))):(a(e).unbind("mousemove",i),1==e.hoverIntent_s&&(e.hoverIntent_t=setTimeout(function(){k(c,e)},d.timeout)))};return this.bind("mouseenter",l).bind("mouseleave",l)}}(jQuery),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},b=[].slice;!function(a,b){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(c){return b(c,a)}):b(a.jQuery,a)}(this,function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return e=c(d),l=a.call(d,"ontouchstart")>=0,h={horizontal:{},vertical:{}},i=1,k={},j="waypoints-context-id",o="resize.waypoints",p="scroll.waypoints",q=1,r="waypoints-waypoint-ids",s="waypoint",t="waypoints",f=function(){function a(a){var b=this;this.$element=a,this.element=a[0],this.didResize=!1,this.didScroll=!1,this.id="context"+i++,this.oldScroll={x:a.scrollLeft(),y:a.scrollTop()},this.waypoints={horizontal:{},vertical:{}},a.data(j,this.id),k[this.id]=this,a.bind(p,function(){var a;if(!b.didScroll&&!l)return b.didScroll=!0,a=function(){return b.doScroll(),b.didScroll=!1},d.setTimeout(a,c[t].settings.scrollThrottle)}),a.bind(o,function(){var a;if(!b.didResize)return b.didResize=!0,a=function(){return c[t]("refresh"),b.didResize=!1},d.setTimeout(a,c[t].settings.resizeThrottle)})}return a.prototype.doScroll=function(){var a,b=this;return a={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!l||a.vertical.oldScroll&&a.vertical.newScroll||c[t]("refresh"),c.each(a,function(a,d){var e,f,g;return g=[],f=d.newScroll>d.oldScroll,e=f?d.forward:d.backward,c.each(b.waypoints[a],function(a,b){var c,e;return d.oldScroll<(c=b.offset)&&c<=d.newScroll?g.push(b):d.newScroll<(e=b.offset)&&e<=d.oldScroll?g.push(b):void 0}),g.sort(function(a,b){return a.offset-b.offset}),f||g.reverse(),c.each(g,function(a,b){if(b.options.continuous||a===g.length-1)return b.trigger([e])})}),this.oldScroll={x:a.horizontal.newScroll,y:a.vertical.newScroll}},a.prototype.refresh=function(){var a,b,d,e=this;return d=c.isWindow(this.element),b=this.$element.offset(),this.doScroll(),a={horizontal:{contextOffset:d?0:b.left,contextScroll:d?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:d?0:b.top,contextScroll:d?0:this.oldScroll.y,contextDimension:d?c[t]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},c.each(a,function(a,b){return c.each(e.waypoints[a],function(a,d){var e,f,g,h,i;if(e=d.options.offset,g=d.offset,f=c.isWindow(d.element)?0:d.$element.offset()[b.offsetProp],c.isFunction(e)?e=e.apply(d.element):"string"==typeof e&&(e=parseFloat(e),d.options.offset.indexOf("%")>-1&&(e=Math.ceil(b.contextDimension*e/100))),d.offset=f-b.contextOffset+b.contextScroll-e,(!d.options.onlyOnScroll||null==g)&&d.enabled)return null!==g&&g<(h=b.oldScroll)&&h<=d.offset?d.trigger([b.backward]):null!==g&&g>(i=b.oldScroll)&&i>=d.offset?d.trigger([b.forward]):null===g&&b.oldScroll>=d.offset?d.trigger([b.forward]):void 0;
})})},a.prototype.checkEmpty=function(){if(c.isEmptyObject(this.waypoints.horizontal)&&c.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([o,p].join(" ")),delete k[this.id]},a}(),g=function(){function a(a,b,d){var e,f;d=c.extend({},c.fn[s].defaults,d),"bottom-in-view"===d.offset&&(d.offset=function(){var a;return a=c[t]("viewportHeight"),c.isWindow(b.element)||(a=b.$element.height()),a-c(this).outerHeight()}),this.$element=a,this.element=a[0],this.axis=d.horizontal?"horizontal":"vertical",this.callback=d.handler,this.context=b,this.enabled=d.enabled,this.id="waypoints"+q++,this.offset=null,this.options=d,b.waypoints[this.axis][this.id]=this,h[this.axis][this.id]=this,e=null!=(f=a.data(r))?f:[],e.push(this.id),a.data(r,e)}return a.prototype.trigger=function(a){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,a),this.options.triggerOnce?this.destroy():void 0},a.prototype.disable=function(){return this.enabled=!1},a.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},a.prototype.destroy=function(){return delete h[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},a.getWaypointsByElement=function(a){var b,d;return(d=c(a).data(r))?(b=c.extend({},h.horizontal,h.vertical),c.map(d,function(a){return b[a]})):[]},a}(),n={init:function(a,b){var d;return null==b&&(b={}),null==(d=b.handler)&&(b.handler=a),this.each(function(){var a,d,e,h;return a=c(this),e=null!=(h=b.context)?h:c.fn[s].defaults.context,c.isWindow(e)||(e=a.closest(e)),e=c(e),d=k[e.data(j)],d||(d=new f(e)),new g(a,d,b)}),c[t]("refresh"),this},disable:function(){return n._invoke(this,"disable")},enable:function(){return n._invoke(this,"enable")},destroy:function(){return n._invoke(this,"destroy")},prev:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){if(b>0)return a.push(c[b-1])})},next:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){if(b<c.length-1)return a.push(c[b+1])})},_traverse:function(a,b,e){var f,g;return null==a&&(a="vertical"),null==b&&(b=d),g=m.aggregate(b),f=[],this.each(function(){var b;return b=c.inArray(this,g[a]),e(f,b,g[a])}),this.pushStack(f)},_invoke:function(a,b){return a.each(function(){var a;return a=g.getWaypointsByElement(this),c.each(a,function(a,c){return c[b](),!0})}),this}},c.fn[s]=function(){var a,d;return d=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],n[d]?n[d].apply(this,a):c.isFunction(d)?n.init.apply(this,arguments):c.isPlainObject(d)?n.init.apply(this,[null,d]):d?c.error("The "+d+" method does not exist in jQuery Waypoints."):c.error("jQuery Waypoints needs a callback function or handler option.")},c.fn[s].defaults={context:d,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},m={refresh:function(){return c.each(k,function(a,b){return b.refresh()})},viewportHeight:function(){var a;return null!=(a=d.innerHeight)?a:e.height()},aggregate:function(a){var b,d,e;return b=h,a&&(b=null!=(e=k[c(a).data(j)])?e.waypoints:void 0),b?(d={horizontal:[],vertical:[]},c.each(d,function(a,e){return c.each(b[a],function(a,b){return e.push(b)}),e.sort(function(a,b){return a.offset-b.offset}),d[a]=c.map(e,function(a){return a.element}),d[a]=c.unique(d[a])}),d):[]},above:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset<=a.oldScroll.y})},below:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset>a.oldScroll.y})},left:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset<=a.oldScroll.x})},right:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset>a.oldScroll.x})},enable:function(){return m._invoke("enable")},disable:function(){return m._invoke("disable")},destroy:function(){return m._invoke("destroy")},extendFn:function(a,b){return n[a]=b},_invoke:function(a){var b;return b=c.extend({},h.vertical,h.horizontal),c.each(b,function(b,c){return c[a](),!0})},_filter:function(a,b,d){var e,f;return(e=k[c(a).data(j)])?(f=[],c.each(e.waypoints[b],function(a,b){if(d(e,b))return f.push(b)}),f.sort(function(a,b){return a.offset-b.offset}),c.map(f,function(a){return a.element})):[]}},c[t]=function(){var a,c;return c=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],m[c]?m[c].apply(null,a):m.aggregate.call(null,c)},c[t].settings={resizeThrottle:100,scrollThrottle:30},e.load(function(){return c[t]("refresh")})})}.call(this),!function(a){function b(){}function c(a){function c(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function e(b,c){a.fn[b]=function(e){if("string"==typeof e){for(var g=d.call(arguments,1),h=0,i=this.length;i>h;h++){var j=this[h],k=a.data(j,b);if(k)if(a.isFunction(k[e])&&"_"!==e.charAt(0)){var l=k[e].apply(k,g);if(void 0!==l)return l}else f("no such method '"+e+"' for "+b+" instance");else f("cannot call methods on "+b+" prior to initialization; attempted to call '"+e+"'")}return this}return this.each(function(){var d=a.data(this,b);d?(d.option(e),d._init()):(d=new c(this,e),a.data(this,b,d))})}}if(a){var f="undefined"==typeof console?b:function(a){console.error(a)};return a.bridget=function(a,b){c(b),e(a,b)},a.bridget}}var d=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],c):c("object"==typeof exports?require("jquery"):a.jQuery)}(window),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):"object"==typeof exports?module.exports=f:a.eventie=f}(window),function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if(a instanceof RegExp){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if(a instanceof RegExp)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:e.EventEmitter=a}.call(this),function(a){function b(a){if(a){if("string"==typeof d[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var b,e=0,f=c.length;f>e;e++)if(b=c[e]+a,"string"==typeof d[b])return b}}var c="Webkit Moz ms Ms O".split(" "),d=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return b}):"object"==typeof exports?module.exports=b:a.getStyleProperty=b}(window),function(a){function b(a){var b=parseFloat(a),c=-1===a.indexOf("%")&&!isNaN(b);return c&&b}function c(){}function d(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0,c=g.length;c>b;b++){var d=g[b];a[d]=0}return a}function e(c){function e(){if(!m){m=!0;var d=a.getComputedStyle;if(j=function(){var a=d?function(a){return d(a,null)}:function(a){return a.currentStyle};return function(b){var c=a(b);return c||f("Style returned "+c+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),c}}(),k=c("boxSizing")){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[k]="border-box";var g=document.body||document.documentElement;g.appendChild(e);var h=j(e);l=200===b(h.width),g.removeChild(e)}}}function h(a){if(e(),"string"==typeof a&&(a=document.querySelector(a)),a&&"object"==typeof a&&a.nodeType){var c=j(a);if("none"===c.display)return d();var f={};f.width=a.offsetWidth,f.height=a.offsetHeight;for(var h=f.isBorderBox=!(!k||!c[k]||"border-box"!==c[k]),m=0,n=g.length;n>m;m++){var o=g[m],p=c[o];p=i(a,p);var q=parseFloat(p);f[o]=isNaN(q)?0:q}var r=f.paddingLeft+f.paddingRight,s=f.paddingTop+f.paddingBottom,t=f.marginLeft+f.marginRight,u=f.marginTop+f.marginBottom,v=f.borderLeftWidth+f.borderRightWidth,w=f.borderTopWidth+f.borderBottomWidth,x=h&&l,y=b(c.width);y!==!1&&(f.width=y+(x?0:r+v));var z=b(c.height);return z!==!1&&(f.height=z+(x?0:s+w)),f.innerWidth=f.width-(r+v),f.innerHeight=f.height-(s+w),f.outerWidth=f.width+t,f.outerHeight=f.height+u,f}}function i(b,c){if(a.getComputedStyle||-1===c.indexOf("%"))return c;var d=b.style,e=d.left,f=b.runtimeStyle,g=f&&f.left;return g&&(f.left=b.currentStyle.left),d.left=c,c=d.pixelLeft,d.left=e,g&&(f.left=g),c}var j,k,l,m=!1;return h}var f="undefined"==typeof console?c:function(a){console.error(a)},g=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],e):"object"==typeof exports?module.exports=e(require("desandro-get-style-property")):a.getSize=e(a.getStyleProperty)}(window),function(a){function b(a){"function"==typeof a&&(b.isReady?a():g.push(a))}function c(a){var c="readystatechange"===a.type&&"complete"!==f.readyState;b.isReady||c||d()}function d(){b.isReady=!0;for(var a=0,c=g.length;c>a;a++){var d=g[a];d()}}function e(e){return"complete"===f.readyState?d():(e.bind(f,"DOMContentLoaded",c),e.bind(f,"readystatechange",c),e.bind(a,"load",c)),b}var f=a.document,g=[];b.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],e):"object"==typeof exports?module.exports=e(require("eventie")):a.docReady=e(a.eventie)}(window),function(a){function b(a,b){return a[g](b)}function c(a){if(!a.parentNode){var b=document.createDocumentFragment();b.appendChild(a)}}function d(a,b){c(a);for(var d=a.parentNode.querySelectorAll(b),e=0,f=d.length;f>e;e++)if(d[e]===a)return!0;return!1}function e(a,d){return c(a),b(a,d)}var f,g=function(){if(a.matches)return"matches";if(a.matchesSelector)return"matchesSelector";for(var b=["webkit","moz","ms","o"],c=0,d=b.length;d>c;c++){var e=b[c],f=e+"MatchesSelector";if(a[f])return f}}();if(g){var h=document.createElement("div"),i=b(h,"div");f=i?b:e}else f=d;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return f}):"object"==typeof exports?module.exports=f:window.matchesSelector=f}(Element.prototype),function(a,b){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("doc-ready"),require("desandro-matches-selector")):a.fizzyUIUtils=b(a,a.docReady,a.matchesSelector)}(window,function(a,b,c){var d={};d.extend=function(a,b){for(var c in b)a[c]=b[c];return a},d.modulo=function(a,b){return(a%b+b)%b};var e=Object.prototype.toString;d.isArray=function(a){return"[object Array]"==e.call(a)},d.makeArray=function(a){var b=[];if(d.isArray(a))b=a;else if(a&&"number"==typeof a.length)for(var c=0,e=a.length;e>c;c++)b.push(a[c]);else b.push(a);return b},d.indexOf=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},d.removeFrom=function(a,b){var c=d.indexOf(a,b);-1!=c&&a.splice(c,1)},d.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1==a.nodeType&&"string"==typeof a.nodeName},d.setText=function(){function a(a,c){b=b||(void 0!==document.documentElement.textContent?"textContent":"innerText"),a[b]=c}var b;return a}(),d.getParent=function(a,b){for(;a!=document.body;)if(a=a.parentNode,c(a,b))return a},d.getQueryElement=function(a){return"string"==typeof a?document.querySelector(a):a},d.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},d.filterFindElements=function(a,b){a=d.makeArray(a);for(var e=[],f=0,g=a.length;g>f;f++){var h=a[f];if(d.isElement(h))if(b){c(h,b)&&e.push(h);for(var i=h.querySelectorAll(b),j=0,k=i.length;k>j;j++)e.push(i[j])}else e.push(h)}return e},d.debounceMethod=function(a,b,c){var d=a.prototype[b],e=b+"Timeout";a.prototype[b]=function(){var a=this[e];a&&clearTimeout(a);var b=arguments,f=this;this[e]=setTimeout(function(){d.apply(f,b),delete f[e]},c||100)}},d.toDashed=function(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()};var f=a.console;return d.htmlInit=function(c,e){b(function(){for(var b=d.toDashed(e),g=document.querySelectorAll(".js-"+b),h="data-"+b+"-options",i=0,j=g.length;j>i;i++){var k,l=g[i],m=l.getAttribute(h);try{k=m&&JSON.parse(m)}catch(n){f&&f.error("Error parsing "+h+" on "+l.nodeName.toLowerCase()+(l.id?"#"+l.id:"")+": "+n);continue}var o=new c(l,k),p=a.jQuery;p&&p.data(l,e,o)}})},d}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(c,d,e,f){return b(a,c,d,e,f)}):"object"==typeof exports?module.exports=b(a,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(a.Outlayer={},a.Outlayer.Item=b(a,a.EventEmitter,a.getSize,a.getStyleProperty,a.fizzyUIUtils))}(window,function(a,b,c,d,e){function f(a){for(var b in a)return!1;return b=null,!0}function g(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}var h=a.getComputedStyle,i=h?function(a){return h(a,null)}:function(a){return a.currentStyle},j=d("transition"),k=d("transform"),l=j&&k,m=!!d("perspective"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[j],o=["transform","transition","transitionDuration","transitionProperty"],p=function(){for(var a={},b=0,c=o.length;c>b;b++){var e=o[b],f=d(e);f&&f!==e&&(a[e]=f)}return a}();e.extend(g.prototype,b.prototype),g.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},g.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},g.prototype.getSize=function(){this.size=c(this.element)},g.prototype.css=function(a){var b=this.element.style;for(var c in a){var d=p[c]||c;b[d]=a[c]}},g.prototype.getPosition=function(){var a=i(this.element),b=this.layout.options,c=b.isOriginLeft,d=b.isOriginTop,e=parseInt(a[c?"left":"right"],10),f=parseInt(a[d?"top":"bottom"],10);e=isNaN(e)?0:e,f=isNaN(f)?0:f;var g=this.layout.size;e-=c?g.paddingLeft:g.paddingRight,f-=d?g.paddingTop:g.paddingBottom,this.position.x=e,this.position.y=f},g.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,c={},d=b.isOriginLeft?"paddingLeft":"paddingRight",e=b.isOriginLeft?"left":"right",f=b.isOriginLeft?"right":"left",g=this.position.x+a[d];g=b.percentPosition&&!b.isHorizontal?g/a.width*100+"%":g+"px",c[e]=g,c[f]="";var h=b.isOriginTop?"paddingTop":"paddingBottom",i=b.isOriginTop?"top":"bottom",j=b.isOriginTop?"bottom":"top",k=this.position.y+a[h];k=b.percentPosition&&b.isHorizontal?k/a.height*100+"%":k+"px",c[i]=k,c[j]="",this.css(c),this.emitEvent("layout",[this])};var q=m?function(a,b){return"translate3d("+a+"px, "+b+"px, 0)"}:function(a,b){return"translate("+a+"px, "+b+"px)"};g.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),g=e===this.position.x&&f===this.position.y;if(this.setPosition(a,b),g&&!this.isTransitioning)return void this.layoutPosition();var h=a-c,i=b-d,j={},k=this.layout.options;h=k.isOriginLeft?h:-h,i=k.isOriginTop?i:-i,j.transform=q(h,i),this.transition({to:j,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},g.prototype.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},g.prototype.moveTo=l?g.prototype._transitionTo:g.prototype.goTo,g.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10),this.position.y=parseInt(b,10)},g.prototype._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)},g.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);var b=this._transn;for(var c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);if(a.from){this.css(a.from);var d=this.element.offsetHeight;d=null}this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0};var r=k&&e.toDashed(k)+",opacity";g.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:r,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(n,this,!1))},g.prototype.transition=g.prototype[j?"_transition":"_nonTransition"],g.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},g.prototype.onotransitionend=function(a){this.ontransitionend(a)};var s={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};g.prototype.ontransitionend=function(a){if(a.target===this.element){var b=this._transn,c=s[a.propertyName]||a.propertyName;if(delete b.ingProperties[c],f(b.ingProperties)&&this.disableTransition(),c in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[c]),c in b.onEnd){var d=b.onEnd[c];d.call(this),delete b.onEnd[c]}this.emitEvent("transitionEnd",[this])}},g.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(n,this,!1),this.isTransitioning=!1},g.prototype._removeStyles=function(a){var b={};for(var c in a)b[c]="";this.css(b)};var t={transitionProperty:"",transitionDuration:""};return g.prototype.removeTransitionStyles=function(){this.css(t)},g.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},g.prototype.remove=function(){if(!j||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var a=this;this.once("transitionEnd",function(){a.removeElem()}),this.hide()},g.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("visibleStyle");b[c]=this.onRevealTransitionEnd,this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0,onTransitionEnd:b})},g.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},g.prototype.getHideRevealTransitionEndProperty=function(a){var b=this.layout.options[a];if(b.opacity)return"opacity";for(var c in b)return c},g.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("hiddenStyle");b[c]=this.onHideTransitionEnd,this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:b})},g.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},g.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},g}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,d,e,f,g){return b(a,c,d,e,f,g)}):"object"==typeof exports?module.exports=b(a,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):a.Outlayer=b(a,a.eventie,a.EventEmitter,a.getSize,a.fizzyUIUtils,a.Outlayer.Item)}(window,function(a,b,c,d,e,f){function g(a,b){var c=e.getQueryElement(a);if(!c)return void(h&&h.error("Bad element for "+this.constructor.namespace+": "+(c||a)));this.element=c,i&&(this.$element=i(this.element)),this.options=e.extend({},this.constructor.defaults),this.option(b);var d=++k;this.element.outlayerGUID=d,l[d]=this,this._create(),this.options.isInitLayout&&this.layout()}var h=a.console,i=a.jQuery,j=function(){},k=0,l={};return g.namespace="outlayer",g.Item=f,g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e.extend(g.prototype,c.prototype),g.prototype.option=function(a){e.extend(this.options,a)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(a){for(var b=this._filterFindItemElements(a),c=this.constructor.Item,d=[],e=0,f=b.length;f>e;e++){var g=b[e],h=new c(g,this);d.push(h)}return d},g.prototype._filterFindItemElements=function(a){return e.filterFindElements(a,this.options.itemSelector)},g.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,a),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=d(this.element)},g.prototype._getMeasurement=function(a,b){var c,f=this.options[a];f?("string"==typeof f?c=this.element.querySelector(f):e.isElement(f)&&(c=f),this[a]=c?d(c)[b]:f):this[a]=0},g.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},g.prototype._getItemsForLayout=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];e.isIgnored||b.push(e)}return b},g.prototype._layoutItems=function(a,b){if(this._emitCompleteOnItems("layout",a),a&&a.length){for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d],g=this._getItemLayoutPosition(f);g.item=f,g.isInstant=b||f.isLayoutInstant,c.push(g)}this._processLayoutQueue(c)}},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},g.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}},g.prototype._getContainerSize=j,g.prototype._setContainerMeasure=function(a,b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth),a=Math.max(a,0),this.element.style[b?"width":"height"]=a+"px"}},g.prototype._emitCompleteOnItems=function(a,b){function c(){e.emitEvent(a+"Complete",[b])}function d(){g++,g===f&&c()}var e=this,f=b.length;if(!b||!f)return void c();for(var g=0,h=0,i=b.length;i>h;h++){var j=b[h];j.once(a,d)}},g.prototype.ignore=function(a){var b=this.getItem(a);b&&(b.isIgnored=!0)},g.prototype.unignore=function(a){var b=this.getItem(a);b&&delete b.isIgnored},g.prototype.stamp=function(a){if(a=this._find(a)){this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;c>b;b++){var d=a[b];this.ignore(d)}}},g.prototype.unstamp=function(a){if(a=this._find(a))for(var b=0,c=a.length;c>b;b++){var d=a[b];e.removeFrom(this.stamps,d),this.unignore(d)}},g.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=e.makeArray(a)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var a=0,b=this.stamps.length;b>a;a++){var c=this.stamps[a];this._manageStamp(c)}}},g.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},g.prototype._manageStamp=j,g.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect,e=d(a),f={left:b.left-c.left-e.marginLeft,top:b.top-c.top-e.marginTop,right:c.right-b.right-e.marginRight,bottom:c.bottom-b.bottom-e.marginBottom};return f},g.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},g.prototype.bindResize=function(){this.isResizeBound||(b.bind(a,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&b.unbind(a,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){function a(){b.resize(),delete b.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var b=this;this.resizeTimeout=setTimeout(a,100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var a=d(this.element),b=this.size&&a;return b&&a.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(a){var b=this._itemize(a);return b.length&&(this.items=this.items.concat(b)),b},g.prototype.appended=function(a){var b=this.addItems(a);b.length&&(this.layoutItems(b,!0),this.reveal(b))},g.prototype.prepended=function(a){var b=this._itemize(a);if(b.length){var c=this.items.slice(0);this.items=b.concat(c),this._resetLayout(),this._manageStamps(),this.layoutItems(b,!0),this.reveal(b),this.layoutItems(c)}},g.prototype.reveal=function(a){this._emitCompleteOnItems("reveal",a);for(var b=a&&a.length,c=0;b&&b>c;c++){var d=a[c];d.reveal()}},g.prototype.hide=function(a){this._emitCompleteOnItems("hide",a);for(var b=a&&a.length,c=0;b&&b>c;c++){var d=a[c];d.hide()}},g.prototype.revealItemElements=function(a){var b=this.getItems(a);this.reveal(b)},g.prototype.hideItemElements=function(a){var b=this.getItems(a);this.hide(b)},g.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},g.prototype.getItems=function(a){a=e.makeArray(a);for(var b=[],c=0,d=a.length;d>c;c++){var f=a[c],g=this.getItem(f);g&&b.push(g)}return b},g.prototype.remove=function(a){var b=this.getItems(a);if(this._emitCompleteOnItems("remove",b),b&&b.length)for(var c=0,d=b.length;d>c;c++){var f=b[c];f.remove(),e.removeFrom(this.items,f)}},g.prototype.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="";for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];d.destroy()}this.unbindResize();var e=this.element.outlayerGUID;delete l[e],delete this.element.outlayerGUID,i&&i.removeData(this.element,this.constructor.namespace)},g.data=function(a){a=e.getQueryElement(a);var b=a&&a.outlayerGUID;return b&&l[b]},g.create=function(a,b){function c(){g.apply(this,arguments)}return Object.create?c.prototype=Object.create(g.prototype):e.extend(c.prototype,g.prototype),c.prototype.constructor=c,c.defaults=e.extend({},g.defaults),e.extend(c.defaults,b),c.prototype.settings={},c.namespace=a,c.data=g.data,c.Item=function(){f.apply(this,arguments)},c.Item.prototype=new f,e.htmlInit(c,a),i&&i.bridget&&i.bridget(a,c),c},g.Item=f,g}),function(a,b){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],b):"object"==typeof exports?module.exports=b(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):a.Masonry=b(a.Outlayer,a.getSize,a.fizzyUIUtils)}(window,function(a,b,c){var d=a.create("masonry");return d.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0},d.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],c=a&&a.element;this.columnWidth=c&&b(c).outerWidth||this.containerWidth}var d=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,f=e/d,g=d-e%d,h=g&&1>g?"round":"floor";f=Math[h](f),this.cols=Math.max(f,1)},d.prototype.getContainerWidth=function(){var a=this.options.isFitWidth?this.element.parentNode:this.element,c=b(a);this.containerWidth=c&&c.innerWidth},d.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,d=b&&1>b?"round":"ceil",e=Math[d](a.size.outerWidth/this.columnWidth);e=Math.min(e,this.cols);for(var f=this._getColGroup(e),g=Math.min.apply(Math,f),h=c.indexOf(f,g),i={x:this.columnWidth*h,y:g},j=g+a.size.outerHeight,k=this.cols+1-f.length,l=0;k>l;l++)this.colYs[h+l]=j;return i},d.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;c>d;d++){var e=this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,e)}return b},d.prototype._manageStamp=function(a){var c=b(a),d=this._getElementOffset(a),e=this.options.isOriginLeft?d.left:d.right,f=e+c.outerWidth,g=Math.floor(e/this.columnWidth);g=Math.max(0,g);var h=Math.floor(f/this.columnWidth);
h-=f%this.columnWidth?0:1,h=Math.min(this.cols-1,h);for(var i=(this.options.isOriginTop?d.top:d.bottom)+c.outerHeight,j=g;h>=j;j++)this.colYs[j]=Math.max(i,this.colYs[j])},d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this.options.isFitWidth&&(a.width=this._getContainerFitWidth()),a},d.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},d.prototype.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!==this.containerWidth},d}),!function(a){"undefined"==typeof a.fn.each2&&a.extend(a.fn,{each2:function(b){for(var c=a([0]),d=-1,e=this.length;++d<e&&(c.context=c[0]=this[d])&&b.call(c[0],d,c)!==!1;);return this}})}(jQuery),function(a,b){"use strict";function c(b){var c=a(document.createTextNode(""));b.before(c),c.before(b),c.remove()}function d(a){function b(a){return O[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function e(a,b){for(var c=0,d=b.length;d>c;c+=1)if(g(a,b[c]))return c;return-1}function f(){var b=a(N);b.appendTo(document.body);var c={width:b.width()-b[0].clientWidth,height:b.height()-b[0].clientHeight};return b.remove(),c}function g(a,c){return a===c||a!==b&&c!==b&&(null!==a&&null!==c&&(a.constructor===String?a+""==c+"":c.constructor===String&&c+""==a+""))}function h(a,b,c){var d,e,f;if(null===a||a.length<1)return[];for(d=a.split(b),e=0,f=d.length;f>e;e+=1)d[e]=c(d[e]);return d}function i(a){return a.outerWidth(!1)-a.width()}function j(c){var d="keyup-change-value";c.on("keydown",function(){a.data(c,d)===b&&a.data(c,d,c.val())}),c.on("keyup",function(){var e=a.data(c,d);e!==b&&c.val()!==e&&(a.removeData(c,d),c.trigger("keyup-change"))})}function k(c){c.on("mousemove",function(c){var d=L;(d===b||d.x!==c.pageX||d.y!==c.pageY)&&a(c.target).trigger("mousemove-filtered",c)})}function l(a,c,d){d=d||b;var e;return function(){var b=arguments;window.clearTimeout(e),e=window.setTimeout(function(){c.apply(d,b)},a)}}function m(a,b){var c=l(a,function(a){b.trigger("scroll-debounced",a)});b.on("scroll",function(a){e(a.target,b.get())>=0&&c(a)})}function n(a){a[0]!==document.activeElement&&window.setTimeout(function(){var b,c=a[0],d=a.val().length;a.focus();var e=c.offsetWidth>0||c.offsetHeight>0;e&&c===document.activeElement&&(c.setSelectionRange?c.setSelectionRange(d,d):c.createTextRange&&(b=c.createTextRange(),b.collapse(!1),b.select()))},0)}function o(b){b=a(b)[0];var c=0,d=0;if("selectionStart"in b)c=b.selectionStart,d=b.selectionEnd-c;else if("selection"in document){b.focus();var e=document.selection.createRange();d=document.selection.createRange().text.length,e.moveStart("character",-b.value.length),c=e.text.length-d}return{offset:c,length:d}}function p(a){a.preventDefault(),a.stopPropagation()}function q(a){a.preventDefault(),a.stopImmediatePropagation()}function r(b){if(!I){var c=b[0].currentStyle||window.getComputedStyle(b[0],null);I=a(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"}),I.attr("class","select2-sizer"),a(document.body).append(I)}return I.text(b.val()),I.width()}function s(b,c,d){var e,f,g=[];e=a.trim(b.attr("class")),e&&(e=""+e,a(e.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&g.push(this)})),e=a.trim(c.attr("class")),e&&(e=""+e,a(e.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(f=d(this),f&&g.push(f))})),b.attr("class",g.join(" "))}function t(a,b,c,e){var f=d(a.toUpperCase()).indexOf(d(b.toUpperCase())),g=b.length;return 0>f?void c.push(e(a)):(c.push(e(a.substring(0,f))),c.push("<span class='select2-match'>"),c.push(e(a.substring(f,f+g))),c.push("</span>"),void c.push(e(a.substring(f+g,a.length))))}function u(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})}function v(c){var d,e=null,f=c.quietMillis||100,g=c.url,h=this;return function(i){window.clearTimeout(d),d=window.setTimeout(function(){var d=c.data,f=g,j=c.transport||a.fn.select2.ajaxDefaults.transport,k={type:c.type||"GET",cache:c.cache||!1,jsonpCallback:c.jsonpCallback||b,dataType:c.dataType||"json"},l=a.extend({},a.fn.select2.ajaxDefaults.params,k);d=d?d.call(h,i.term,i.page,i.context):null,f="function"==typeof f?f.call(h,i.term,i.page,i.context):f,e&&"function"==typeof e.abort&&e.abort(),c.params&&(a.isFunction(c.params)?a.extend(l,c.params.call(h)):a.extend(l,c.params)),a.extend(l,{url:f,dataType:c.dataType,data:d,success:function(a){var b=c.results(a,i.page,i);i.callback(b)},error:function(a,b,c){var d={hasError:!0,jqXHR:a,textStatus:b,errorThrown:c};i.callback(d)}}),e=j.call(h,l)},f)}}function w(b){var c,d,e=b,f=function(a){return""+a.text};a.isArray(e)&&(d=e,e={results:d}),a.isFunction(e)===!1&&(d=e,e=function(){return d});var g=e();return g.text&&(f=g.text,a.isFunction(f)||(c=g.text,f=function(a){return a[c]})),function(b){var c,d=b.term,g={results:[]};return""===d?void b.callback(e()):(c=function(e,g){var h,i;if(e=e[0],e.children){h={};for(i in e)e.hasOwnProperty(i)&&(h[i]=e[i]);h.children=[],a(e.children).each2(function(a,b){c(b,h.children)}),(h.children.length||b.matcher(d,f(h),e))&&g.push(h)}else b.matcher(d,f(e),e)&&g.push(e)},a(e().results).each2(function(a,b){c(b,g.results)}),void b.callback(g))}}function x(c){var d=a.isFunction(c);return function(e){var f=e.term,g={results:[]},h=d?c(e):c;a.isArray(h)&&(a(h).each(function(){var a=this.text!==b,c=a?this.text:this;(""===f||e.matcher(f,c))&&g.results.push(a?this:{id:this,text:this})}),e.callback(g))}}function y(b,c){if(a.isFunction(b))return!0;if(!b)return!1;if("string"==typeof b)return!0;throw new Error(c+" must be a string, function, or falsy value")}function z(b,c){if(a.isFunction(b)){var d=Array.prototype.slice.call(arguments,2);return b.apply(c,d)}return b}function A(b){var c=0;return a.each(b,function(a,b){b.children?c+=A(b.children):c++}),c}function B(a,c,d,e){var f,h,i,j,k,l=a,m=!1;if(!e.createSearchChoice||!e.tokenSeparators||e.tokenSeparators.length<1)return b;for(;;){for(h=-1,i=0,j=e.tokenSeparators.length;j>i&&(k=e.tokenSeparators[i],h=a.indexOf(k),!(h>=0));i++);if(0>h)break;if(f=a.substring(0,h),a=a.substring(h+k.length),f.length>0&&(f=e.createSearchChoice.call(this,f,c),f!==b&&null!==f&&e.id(f)!==b&&null!==e.id(f))){for(m=!1,i=0,j=c.length;j>i;i++)if(g(e.id(f),e.id(c[i]))){m=!0;break}m||d(f)}}return l!==a?a:void 0}function C(){var b=this;a.each(arguments,function(a,c){b[c].remove(),b[c]=null})}function D(b,c){var d=function(){};return d.prototype=new b,d.prototype.constructor=d,d.prototype.parent=b.prototype,d.prototype=a.extend(d.prototype,c),d}if(window.Select2===b){var E,F,G,H,I,J,K,L={x:0,y:0},M={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a=a.which?a.which:a){case M.LEFT:case M.RIGHT:case M.UP:case M.DOWN:return!0}return!1},isControl:function(a){var b=a.which;switch(b){case M.SHIFT:case M.CTRL:case M.ALT:return!0}return!!a.metaKey},isFunctionKey:function(a){return a=a.which?a.which:a,a>=112&&123>=a}},N="<div class='select2-measure-scrollbar'></div>",O={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};J=a(document),H=function(){var a=1;return function(){return a++}}(),E=D(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(c){var d,e,g=".select2-results";this.opts=c=this.prepareOpts(c),this.id=c.id,c.element.data("select2")!==b&&null!==c.element.data("select2")&&c.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=a(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(c.element.attr("id")||"autogen"+H()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",c.element.attr("title")),this.body=a(document.body),s(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",c.element.attr("style")),this.container.css(z(c.containerCss,this.opts.element)),this.container.addClass(z(c.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",p),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),s(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(z(c.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",p),this.results=d=this.container.find(g),this.search=e=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",p),k(this.results),this.dropdown.on("mousemove-filtered",g,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",g,this.bind(function(a){this._touchEvent=!0,this.highlightUnderEvent(a)})),this.dropdown.on("touchmove",g,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",g,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),m(80,this.results),this.dropdown.on("scroll-debounced",g,this.bind(this.loadMoreIfNeeded)),a(this.container).on("change",".select2-input",function(a){a.stopPropagation()}),a(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()}),a.fn.mousewheel&&d.mousewheel(function(a,b,c,e){var f=d.scrollTop();e>0&&0>=f-e?(d.scrollTop(0),p(a)):0>e&&d.get(0).scrollHeight-d.scrollTop()+e<=d.height()&&(d.scrollTop(d.get(0).scrollHeight-d.height()),p(a))}),j(e),e.on("keyup-change input paste",this.bind(this.updateResults)),e.on("focus",function(){e.addClass("select2-focused")}),e.on("blur",function(){e.removeClass("select2-focused")}),this.dropdown.on("mouseup",g,this.bind(function(b){a(b.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(b),this.selectHighlighted(b))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(a){a.stopPropagation()}),this.nextSearchTerm=b,a.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==c.maximumInputLength&&this.search.attr("maxlength",c.maximumInputLength);var h=c.element.prop("disabled");h===b&&(h=!1),this.enable(!h);var i=c.element.prop("readonly");i===b&&(i=!1),this.readonly(i),K=K||f(),this.autofocus=c.element.prop("autofocus"),c.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",c.searchInputPlaceholder)},destroy:function(){var a=this.opts.element,c=a.data("select2"),d=this;this.close(),a.length&&a[0].detachEvent&&d._sync&&a.each(function(){d._sync&&this.detachEvent("onpropertychange",d._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,c!==b&&(c.container.remove(),c.liveRegion.remove(),c.dropdown.remove(),a.show().removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show()),C.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(a){return a.is("option")?{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:g(a.attr("locked"),"locked")||g(a.data("locked"),!0)}:a.is("optgroup")?{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}:void 0},prepareOpts:function(c){var d,e,f,i,j=this;if(d=c.element,"select"===d.get(0).tagName.toLowerCase()&&(this.select=e=c.element),e&&a.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in c)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),c=a.extend({},{populateResults:function(d,e,f){var g,h=this.opts.id,i=this.liveRegion;(g=function(d,e,k){var l,m,n,o,p,q,r,s,t,u;d=c.sortResults(d,e,f);var v=[];for(l=0,m=d.length;m>l;l+=1)n=d[l],p=n.disabled===!0,o=!p&&h(n)!==b,q=n.children&&n.children.length>0,r=a("<li></li>"),r.addClass("select2-results-dept-"+k),r.addClass("select2-result"),r.addClass(o?"select2-result-selectable":"select2-result-unselectable"),p&&r.addClass("select2-disabled"),q&&r.addClass("select2-result-with-children"),r.addClass(j.opts.formatResultCssClass(n)),r.attr("role","presentation"),s=a(document.createElement("div")),s.addClass("select2-result-label"),s.attr("id","select2-result-label-"+H()),s.attr("role","option"),u=c.formatResult(n,s,f,j.opts.escapeMarkup),u!==b&&(s.html(u),r.append(s)),q&&(t=a("<ul></ul>"),t.addClass("select2-result-sub"),g(n.children,t,k+1),r.append(t)),r.data("select2-data",n),v.push(r[0]);e.append(v),i.text(c.formatMatches(d.length))})(e,d,0)}},a.fn.select2.defaults,c),"function"!=typeof c.id&&(f=c.id,c.id=function(a){return a[f]}),a.isArray(c.element.data("select2Tags"))){if("tags"in c)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+c.element.attr("id");c.tags=c.element.data("select2Tags")}if(e?(c.query=this.bind(function(a){var c,e,f,g={results:[],more:!1},h=a.term;f=function(b,c){var d;b.is("option")?a.matcher(h,b.text(),b)&&c.push(j.optionToData(b)):b.is("optgroup")&&(d=j.optionToData(b),b.children().each2(function(a,b){f(b,d.children)}),d.children.length>0&&c.push(d))},c=d.children(),this.getPlaceholder()!==b&&c.length>0&&(e=this.getPlaceholderOption(),e&&(c=c.not(e))),c.each2(function(a,b){f(b,g.results)}),a.callback(g)}),c.id=function(a){return a.id}):"query"in c||("ajax"in c?(i=c.element.data("ajax-url"),i&&i.length>0&&(c.ajax.url=i),c.query=v.call(c.element,c.ajax)):"data"in c?c.query=w(c.data):"tags"in c&&(c.query=x(c.tags),c.createSearchChoice===b&&(c.createSearchChoice=function(b){return{id:a.trim(b),text:a.trim(b)}}),c.initSelection===b&&(c.initSelection=function(b,d){var e=[];a(h(b.val(),c.separator,c.transformVal)).each(function(){var b={id:this,text:this},d=c.tags;a.isFunction(d)&&(d=d()),a(d).each(function(){return g(this.id,b.id)?(b=this,!1):void 0}),e.push(b)}),d(e)}))),"function"!=typeof c.query)throw"query function not defined for Select2 "+c.element.attr("id");if("top"===c.createSearchChoicePosition)c.createSearchChoicePosition=function(a,b){a.unshift(b)};else if("bottom"===c.createSearchChoicePosition)c.createSearchChoicePosition=function(a,b){a.push(b)};else if("function"!=typeof c.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return c},monitorSource:function(){var c,d=this.opts.element,e=this;d.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var a=d.prop("disabled");a===b&&(a=!1),this.enable(!a);var c=d.prop("readonly");c===b&&(c=!1),this.readonly(c),this.container&&(s(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(z(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(s(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(z(this.opts.dropdownCssClass,this.opts.element)))}),d.length&&d[0].attachEvent&&d.each(function(){this.attachEvent("onpropertychange",e._sync)}),c=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,c!==b&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new c(function(b){a.each(b,e._sync)}),this.propertyObserver.observe(d.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(b){var c=a.Event("select2-selecting",{val:this.id(b),object:b,choice:b});return this.opts.element.trigger(c),!c.isDefaultPrevented()},triggerChange:function(b){b=b||{},b=a.extend({},b,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(b),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var a=this._enabled&&!this._readonly,b=!a;return a!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",b),this.close(),this.enabledInterface=a,!0)},enable:function(a){a===b&&(a=!0),this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){a===b&&(a=!1),this._readonly!==a&&(this._readonly=a,this.opts.element.prop("readonly",a),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var b,c,d,e,f,g=this.dropdown,h=this.container,i=h.offset(),j=h.outerHeight(!1),k=h.outerWidth(!1),l=g.outerHeight(!1),m=a(window),n=m.width(),o=m.height(),p=m.scrollLeft()+n,q=m.scrollTop()+o,r=i.top+j,s=i.left,t=q>=r+l,u=i.top-l>=m.scrollTop(),v=g.outerWidth(!1),w=function(){return p>=s+v},x=function(){return i.left+p+h.outerWidth(!1)>v},y=g.hasClass("select2-drop-above");y?(c=!0,!u&&t&&(d=!0,c=!1)):(c=!1,!t&&u&&(d=!0,c=!0)),d&&(g.hide(),i=this.container.offset(),j=this.container.outerHeight(!1),k=this.container.outerWidth(!1),l=g.outerHeight(!1),p=m.scrollLeft()+n,q=m.scrollTop()+o,r=i.top+j,s=i.left,v=g.outerWidth(!1),g.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(f=a(".select2-results",g)[0],g.addClass("select2-drop-auto-width"),g.css("width",""),v=g.outerWidth(!1)+(f.scrollHeight===f.clientHeight?0:K.width),v>k?k=v:v=k,l=g.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(b=this.body.offset(),r-=b.top,s-=b.left),!w()&&x()&&(s=i.left+this.container.outerWidth(!1)-v),e={left:s,width:k},c?(e.top=i.top-l,e.bottom="auto",this.container.addClass("select2-drop-above"),g.addClass("select2-drop-above")):(e.top=r,e.bottom="auto",this.container.removeClass("select2-drop-above"),g.removeClass("select2-drop-above")),e=a.extend(e,z(this.opts.dropdownCss,this.opts.element)),g.css(e)},shouldOpen:function(){var b;return!this.opened()&&(this._enabled!==!1&&this._readonly!==!0&&(b=a.Event("select2-opening"),this.opts.element.trigger(b),!b.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),J.on("mousemove.select2Event",function(a){L.x=a.pageX,L.y=a.pageY}),!0)},opening:function(){var b,d=this.containerEventName,e="scroll."+d,f="resize."+d,g="orientationchange."+d;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),b=a("#select2-drop-mask"),0===b.length&&(b=a(document.createElement("div")),b.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),b.hide(),b.appendTo(this.body),b.on("mousedown touchstart click",function(d){c(b);var e,f=a("#select2-drop");f.length>0&&(e=f.data("select2"),e.opts.selectOnBlur&&e.selectHighlighted({noFocus:!0}),e.close(),d.preventDefault(),d.stopPropagation())})),this.dropdown.prev()[0]!==b[0]&&this.dropdown.before(b),a("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),b.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var h=this;this.container.parents().add(window).each(function(){a(this).on(f+" "+e+" "+g,function(){h.opened()&&h.positionDropdown()})})},close:function(){if(this.opened()){var b=this.containerEventName,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.parents().add(window).each(function(){a(this).off(c).off(d).off(e)}),this.clearDropdownAlignmentPreference(),a("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),J.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(a.Event("select2-close"))}},externalSearch:function(a){this.open(),this.search.val(a),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return z(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var b,c,d,e,f,g,h,i,j=this.results;if(c=this.highlight(),!(0>c)){if(0==c)return void j.scrollTop(0);b=this.findHighlightableChoices().find(".select2-result-label"),d=a(b[c]),i=(d.offset()||{}).top||0,e=i+d.outerHeight(!0),c===b.length-1&&(h=j.find("li.select2-more-results"),h.length>0&&(e=h.offset().top+h.outerHeight(!0))),f=j.offset().top+j.outerHeight(!1),e>f&&j.scrollTop(j.scrollTop()+(e-f)),g=i-j.offset().top,0>g&&"none"!=d.css("display")&&j.scrollTop(j.scrollTop()+g)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(b){for(var c=this.findHighlightableChoices(),d=this.highlight();d>-1&&d<c.length;){d+=b;var e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")&&!e.hasClass("select2-selected")){this.highlight(d);break}}},highlight:function(b){var c,d,f=this.findHighlightableChoices();return 0===arguments.length?e(f.filter(".select2-highlighted")[0],f.get()):(b>=f.length&&(b=f.length-1),0>b&&(b=0),this.removeHighlight(),c=a(f[b]),c.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",c.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(c.text()),d=c.data("select2-data"),void(d&&this.opts.element.trigger({type:"select2-highlight",val:this.id(d),choice:d})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(b){var c=a(b.target).closest(".select2-result-selectable");if(c.length>0&&!c.is(".select2-highlighted")){var d=this.findHighlightableChoices();this.highlight(d.index(c))}else 0==c.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var a,b=this.results,c=b.find("li.select2-more-results"),d=this.resultsPage+1,e=this,f=this.search.val(),g=this.context;0!==c.length&&(a=c.offset().top-b.offset().top-b.height(),a<=this.opts.loadMorePadding&&(c.addClass("select2-active"),this.opts.query({element:this.opts.element,term:f,page:d,context:g,matcher:this.opts.matcher,callback:this.bind(function(a){e.opened()&&(e.opts.populateResults.call(this,b,a.results,{term:f,page:d,context:g}),e.postprocessResults(a,!1,!1),a.more===!0?(c.detach().appendTo(b).html(e.opts.escapeMarkup(z(e.opts.formatLoadMore,e.opts.element,d+1))),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):c.remove(),e.positionDropdown(),e.resultsPage=d,e.context=a.context,this.opts.element.trigger({type:"select2-loaded",items:a}))})})))},tokenize:function(){},updateResults:function(c){function d(){j.removeClass("select2-active"),m.positionDropdown(),k.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?m.liveRegion.text(k.text()):m.liveRegion.text(m.opts.formatMatches(k.find('.select2-result-selectable:not(".select2-selected")').length))}function e(a){k.html(a),d()}var f,h,i,j=this.search,k=this.results,l=this.opts,m=this,n=j.val(),o=a.data(this.container,"select2-last-term");if((c===!0||!o||!g(n,o))&&(a.data(this.container,"select2-last-term",n),c===!0||this.showSearchInput!==!1&&this.opened())){i=++this.queryCount;var p=this.getMaximumSelectionSize();if(p>=1&&(f=this.data(),a.isArray(f)&&f.length>=p&&y(l.formatSelectionTooBig,"formatSelectionTooBig")))return void e("<li class='select2-selection-limit'>"+z(l.formatSelectionTooBig,l.element,p)+"</li>");if(j.val().length<l.minimumInputLength)return e(y(l.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+z(l.formatInputTooShort,l.element,j.val(),l.minimumInputLength)+"</li>":""),void(c&&this.showSearch&&this.showSearch(!0));if(l.maximumInputLength&&j.val().length>l.maximumInputLength)return void e(y(l.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+z(l.formatInputTooLong,l.element,j.val(),l.maximumInputLength)+"</li>":"");l.formatSearching&&0===this.findHighlightableChoices().length&&e("<li class='select2-searching'>"+z(l.formatSearching,l.element)+"</li>"),j.addClass("select2-active"),this.removeHighlight(),h=this.tokenize(),
h!=b&&null!=h&&j.val(h),this.resultsPage=1,l.query({element:l.element,term:j.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(f){var h;if(i==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(f.hasError!==b&&y(l.formatAjaxError,"formatAjaxError"))return void e("<li class='select2-ajax-error'>"+z(l.formatAjaxError,l.element,f.jqXHR,f.textStatus,f.errorThrown)+"</li>");if(this.context=f.context===b?null:f.context,this.opts.createSearchChoice&&""!==j.val()&&(h=this.opts.createSearchChoice.call(m,j.val(),f.results),h!==b&&null!==h&&m.id(h)!==b&&null!==m.id(h)&&0===a(f.results).filter(function(){return g(m.id(this),m.id(h))}).length&&this.opts.createSearchChoicePosition(f.results,h)),0===f.results.length&&y(l.formatNoMatches,"formatNoMatches"))return void e("<li class='select2-no-results'>"+z(l.formatNoMatches,l.element,j.val())+"</li>");k.empty(),m.opts.populateResults.call(this,k,f.results,{term:j.val(),page:this.resultsPage,context:null}),f.more===!0&&y(l.formatLoadMore,"formatLoadMore")&&(k.append("<li class='select2-more-results'>"+l.escapeMarkup(z(l.formatLoadMore,l.element,this.resultsPage))+"</li>"),window.setTimeout(function(){m.loadMoreIfNeeded()},10)),this.postprocessResults(f,c),d(),this.opts.element.trigger({type:"select2-loaded",items:f})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){n(this.search)},selectHighlighted:function(a){if(this._touchMoved)return void this.clearTouchMoved();var b=this.highlight(),c=this.results.find(".select2-highlighted"),d=c.closest(".select2-result").data("select2-data");d?(this.highlight(b),this.onSelect(d,a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==b?a.text():b)},getPlaceholderOption:function(){if(this.select){var c=this.select.children("option").first();if(this.opts.placeholderOption!==b)return"first"===this.opts.placeholderOption&&c||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===a.trim(c.text())&&""===c.val())return c}},initContainerWidth:function(){function c(){var c,d,e,f,g,h;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(c=this.opts.element.attr("style"),c!==b)for(d=c.split(";"),f=0,g=d.length;g>f;f+=1)if(h=d[f].replace(/\s/g,""),e=h.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==e&&e.length>=1)return e[1];return"resolve"===this.opts.width?(c=this.opts.element.css("width"),c.indexOf("%")>0?c:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}var d=c.call(this);null!==d&&this.container.css("width",d)}}),F=D(E,{createContainer:function(){var b=a(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return b},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var c,d,e;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),c=this.search.get(0),c.createTextRange?(d=c.createTextRange(),d.collapse(!1),d.select()):c.setSelectionRange&&(e=this.search.val().length,c.setSelectionRange(e,e))),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){a("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),C.call(this,"selection","focusser")},initContainer:function(){var b,d,e=this.container,f=this.dropdown,g=H();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=b=e.find(".select2-choice"),this.focusser=e.find(".select2-focusser"),b.find(".select2-chosen").attr("id","select2-chosen-"+g),this.focusser.attr("aria-labelledby","select2-chosen-"+g),this.results.attr("id","select2-results-"+g),this.search.attr("aria-owns","select2-results-"+g),this.focusser.attr("id","s2id_autogen"+g),d=a("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.focus(this.bind(function(){this.focus()})),this.focusser.prev().text(d.text()).attr("for",this.focusser.attr("id"));var h=this.opts.element.attr("title");this.opts.element.attr("title",h||d.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(a("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&229!=a.keyCode){if(a.which===M.PAGE_UP||a.which===M.PAGE_DOWN)return void p(a);switch(a.which){case M.UP:case M.DOWN:return this.moveHighlight(a.which===M.UP?-1:1),void p(a);case M.ENTER:return this.selectHighlighted(),void p(a);case M.TAB:return void this.selectHighlighted({noFocus:!0});case M.ESC:return this.cancel(a),void p(a)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&a.which!==M.TAB&&!M.isControl(a)&&!M.isFunctionKey(a)&&a.which!==M.ESC){if(this.opts.openOnEnter===!1&&a.which===M.ENTER)return void p(a);if(a.which==M.DOWN||a.which==M.UP||a.which==M.ENTER&&this.opts.openOnEnter){if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return;return this.open(),void p(a)}return a.which==M.DELETE||a.which==M.BACKSPACE?(this.opts.allowClear&&this.clear(),void p(a)):void 0}})),j(this.focusser),this.focusser.on("keyup-change input",this.bind(function(a){if(this.opts.minimumResultsForSearch>=0){if(a.stopPropagation(),this.opened())return;this.open()}})),b.on("mousedown touchstart","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),q(a),this.close(),this.selection&&this.selection.focus())})),b.on("mousedown touchstart",this.bind(function(d){c(b),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),p(d)})),f.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),b.on("focus",this.bind(function(a){p(a)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(a.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(b){var c=this.selection.data("select2-data");if(c){var d=a.Event("select2-clearing");if(this.opts.element.trigger(d),d.isDefaultPrevented())return;var e=this.getPlaceholderOption();this.opts.element.val(e?e.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),b!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.setPlaceholder(),a.nextSearchTerm=a.opts.nextSearchTerm(c,a.search.val()))})}},isPlaceholderOptionSelected:function(){var a;return this.getPlaceholder()!==b&&((a=this.getPlaceholderOption())!==b&&a.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===b||null===this.opts.element.val())},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=a.find("option").filter(function(){return this.selected&&!this.disabled});b(c.optionToData(d))}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=c.val(),f=null;b.query({matcher:function(a,c,d){var h=g(e,b.id(d));return h&&(f=d),h},callback:a.isFunction(d)?function(){d(f)}:a.noop})}),b},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===b?b:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&a!==b){if(this.select&&this.getPlaceholderOption()===b)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(a,b,c){var d=0,e=this;if(this.findHighlightableChoices().each2(function(a,b){return g(e.id(b.data("select2-data")),e.opts.element.val())?(d=a,!1):void 0}),c!==!1&&(b===!0&&d>=0?this.highlight(d):this.highlight(0)),b===!0){var f=this.opts.minimumResultsForSearch;f>=0&&this.showSearch(A(a.results)>=f)}},showSearch:function(b){this.showSearchInput!==b&&(this.showSearchInput=b,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!b),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!b),a(this.dropdown,this.container).toggleClass("select2-with-searchbox",b))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a)),this.updateSelection(a),this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.close(),b&&b.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),g(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var c,d,e=this.selection.find(".select2-chosen");this.selection.data("select2-data",a),e.empty(),null!==a&&(c=this.opts.formatSelection(a,e,this.opts.escapeMarkup)),c!==b&&e.append(c),d=this.opts.formatSelectionCssClass(a,e),d!==b&&e.addClass(d),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==b&&this.container.addClass("select2-allowclear")},val:function(){var a,c=!1,d=null,e=this,f=this.data();if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],arguments.length>1&&(c=arguments[1]),this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){return d=e.optionToData(b),!1}),this.updateSelection(d),this.setPlaceholder(),c&&this.triggerChange({added:d,removed:f});else{if(!a&&0!==a)return void this.clear(c);if(this.opts.initSelection===b)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a),this.opts.initSelection(this.opts.element,function(a){e.opts.element.val(a?e.id(a):""),e.updateSelection(a),e.setPlaceholder(),c&&e.triggerChange({added:a,removed:f})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(a){var c,d=!1;return 0===arguments.length?(c=this.selection.data("select2-data"),c==b&&(c=null),c):(arguments.length>1&&(d=arguments[1]),void(a?(c=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),d&&this.triggerChange({added:a,removed:c})):this.clear(d)))}}),G=D(E,{createContainer:function(){var b=a(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return b},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=[];a.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(a,b){d.push(c.optionToData(b))}),b(d)}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=h(c.val(),b.separator,b.transformVal),f=[];b.query({matcher:function(c,d,h){var i=a.grep(e,function(a){return g(a,b.id(h))}).length;return i&&f.push(h),i},callback:a.isFunction(d)?function(){for(var a=[],c=0;c<e.length;c++)for(var h=e[c],i=0;i<f.length;i++){var j=f[i];if(g(h,b.id(j))){a.push(j),f.splice(i,1);break}}d(a)}:a.noop})}),b},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a)))},destroy:function(){a("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),C.call(this,"searchContainer","selection")},initContainer:function(){var b,c=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=b=this.container.find(c);var d=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(){d.search[0].focus(),d.selectChoice(a(this))}),this.search.attr("id","s2id_autogen"+H()),this.search.prev().text(a("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.focus(this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){++this.keydowns;var c=b.find(".select2-search-choice-focus"),d=c.prev(".select2-search-choice:not(.select2-locked)"),e=c.next(".select2-search-choice:not(.select2-locked)"),f=o(this.search);if(c.length&&(a.which==M.LEFT||a.which==M.RIGHT||a.which==M.BACKSPACE||a.which==M.DELETE||a.which==M.ENTER)){var g=c;return a.which==M.LEFT&&d.length?g=d:a.which==M.RIGHT?g=e.length?e:null:a.which===M.BACKSPACE?this.unselect(c.first())&&(this.search.width(10),g=d.length?d:e):a.which==M.DELETE?this.unselect(c.first())&&(this.search.width(10),g=e.length?e:null):a.which==M.ENTER&&(g=null),this.selectChoice(g),p(a),void(g&&g.length||this.open())}if((a.which===M.BACKSPACE&&1==this.keydowns||a.which==M.LEFT)&&0==f.offset&&!f.length)return this.selectChoice(b.find(".select2-search-choice:not(.select2-locked)").last()),void p(a);if(this.selectChoice(null),this.opened())switch(a.which){case M.UP:case M.DOWN:return this.moveHighlight(a.which===M.UP?-1:1),void p(a);case M.ENTER:return this.selectHighlighted(),void p(a);case M.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case M.ESC:return this.cancel(a),void p(a)}if(a.which!==M.TAB&&!M.isControl(a)&&!M.isFunctionKey(a)&&a.which!==M.BACKSPACE&&a.which!==M.ESC){if(a.which===M.ENTER){if(this.opts.openOnEnter===!1)return;if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return}this.open(),(a.which===M.PAGE_UP||a.which===M.PAGE_DOWN)&&p(a),a.which===M.ENTER&&p(a)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(b){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),b.stopImmediatePropagation(),this.opts.element.trigger(a.Event("select2-blur"))})),this.container.on("click",c,this.bind(function(b){this.isInterfaceEnabled()&&(a(b.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.open(),this.focusSearch(),b.preventDefault()))})),this.container.on("focus",c,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder(),c=this.getMaxSearchWidth();a!==b&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(a).addClass("select2-default"),this.search.width(c>0?c:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(b){var c=[],d=[],f=this;a(b).each(function(){e(f.id(this),c)<0&&(c.push(f.id(this)),d.push(this))}),b=d,this.selection.find(".select2-search-choice").remove(),a(b).each(function(){f.addSelectedChoice(this)}),f.postprocessResults()},tokenize:function(){var a=this.search.val();a=this.opts.tokenizer.call(this,a,this.data(),this.bind(this.onSelect),this.opts),null!=a&&a!=b&&(this.search.val(a),a.length>0&&this.open())},onSelect:function(a,c){this.triggerSelect(a)&&""!==a.text&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(a,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),c&&c.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(c){var d,e,f=!c.locked,g=a("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),h=a("<li class='select2-search-choice select2-locked'><div></div></li>"),i=f?g:h,j=this.id(c),k=this.getVal();d=this.opts.formatSelection(c,i.find("div"),this.opts.escapeMarkup),d!=b&&i.find("div").replaceWith(a("<div></div>").html(d)),e=this.opts.formatSelectionCssClass(c,i.find("div")),e!=b&&i.addClass(e),f&&i.find(".select2-search-choice-close").on("mousedown",p).on("click dblclick",this.bind(function(b){this.isInterfaceEnabled()&&(this.unselect(a(b.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),p(b),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),i.data("select2-data",c),i.insertBefore(this.searchContainer),k.push(j),this.setVal(k)},unselect:function(b){var c,d,f=this.getVal();if(b=b.closest(".select2-search-choice"),0===b.length)throw"Invalid argument: "+b+". Must be .select2-search-choice";if(c=b.data("select2-data")){var g=a.Event("select2-removing");if(g.val=this.id(c),g.choice=c,this.opts.element.trigger(g),g.isDefaultPrevented())return!1;for(;(d=e(this.id(c),f))>=0;)f.splice(d,1),this.setVal(f),this.select&&this.postprocessResults();return b.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}),!0}},postprocessResults:function(a,b,c){var d=this.getVal(),f=this.results.find(".select2-result"),g=this.results.find(".select2-result-with-children"),h=this;f.each2(function(a,b){var c=h.id(b.data("select2-data"));e(c,d)>=0&&(b.addClass("select2-selected"),b.find(".select2-result-selectable").addClass("select2-selected"))}),g.each2(function(a,b){b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")}),-1==this.highlight()&&c!==!1&&this.opts.closeOnSelect===!0&&h.highlight(0),!this.opts.createSearchChoice&&!f.filter(".select2-result:not(.select2-selected)").length>0&&(!a||a&&!a.more&&0===this.results.find(".select2-no-results").length)&&y(h.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+z(h.opts.formatNoMatches,h.opts.element,h.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-i(this.search)},resizeSearch:function(){var a,b,c,d,e,f=i(this.search);a=r(this.search)+10,b=this.search.offset().left,c=this.selection.width(),d=this.selection.offset().left,e=c-(b-d)-f,a>e&&(e=c-f),40>e&&(e=c-f),0>=e&&(e=a),this.search.width(Math.floor(e))},getVal:function(){var a;return this.select?(a=this.select.val(),null===a?[]:a):(a=this.opts.element.val(),h(a,this.opts.separator,this.opts.transformVal))},setVal:function(b){var c;this.select?this.select.val(b):(c=[],a(b).each(function(){e(this,c)<0&&c.push(this)}),this.opts.element.val(0===c.length?"":c.join(this.opts.separator)))},buildChangeDetails:function(a,b){for(var b=b.slice(0),a=a.slice(0),c=0;c<b.length;c++)for(var d=0;d<a.length;d++)g(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),c>0&&c--,a.splice(d,1),d--);return{added:b,removed:a}},val:function(c,d){var e,f=this;if(0===arguments.length)return this.getVal();if(e=this.data(),e.length||(e=[]),!c&&0!==c)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(d&&this.triggerChange({added:this.data(),removed:e}));if(this.setVal(c),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),d&&this.triggerChange(this.buildChangeDetails(e,this.data()));else{if(this.opts.initSelection===b)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(b){var c=a.map(b,f.id);f.setVal(c),f.updateSelection(b),f.clearSearch(),d&&f.triggerChange(f.buildChangeDetails(e,f.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var b=[],c=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))}),this.setVal(b),this.triggerChange()},data:function(b,c){var d,e,f=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get():(e=this.data(),b||(b=[]),d=a.map(b,function(a){return f.opts.id(a)}),this.setVal(d),this.updateSelection(b),this.clearSearch(),void(c&&this.triggerChange(this.buildChangeDetails(e,this.data()))))}}),a.fn.select2=function(){var c,d,f,g,h,i=Array.prototype.slice.call(arguments,0),j=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],k=["opened","isFocused","container","dropdown"],l=["val","data"],m={search:"externalSearch"};return this.each(function(){if(0===i.length||"object"==typeof i[0])c=0===i.length?{}:a.extend({},i[0]),c.element=a(this),"select"===c.element.get(0).tagName.toLowerCase()?h=c.element.prop("multiple"):(h=c.multiple||!1,"tags"in c&&(c.multiple=h=!0)),d=h?new window.Select2["class"].multi:new window.Select2["class"].single,d.init(c);else{if("string"!=typeof i[0])throw"Invalid arguments to select2 plugin: "+i;if(e(i[0],j)<0)throw"Unknown method: "+i[0];if(g=b,d=a(this).data("select2"),d===b)return;if(f=i[0],"container"===f?g=d.container:"dropdown"===f?g=d.dropdown:(m[f]&&(f=m[f]),g=d[f].apply(d,i.slice(1))),e(i[0],k)>=0||e(i[0],l)>=0&&1==i.length)return!1}}),g===b?this:g},a.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){var e=[];return t(this.text(a),c.term,e,d),e.join("")},transformVal:function(b){return a.trim(b)},formatSelection:function(a,c,d){return a?d(this.text(a)):b},sortResults:function(a){return a},formatResultCssClass:function(a){return a.css},formatSelectionCssClass:function(){return b},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a==b?null:a.id},text:function(b){return b&&this.data&&this.data.text?a.isFunction(this.data.text)?this.data.text(b):b[this.data.text]:b.text},matcher:function(a,b){return d(""+b).toUpperCase().indexOf(d(""+a).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:B,escapeMarkup:u,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return b},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(a){var b="ontouchstart"in window||navigator.msMaxTouchPoints>0;return!b||!(a.opts.minimumResultsForSearch<0)}},a.fn.select2.locales=[],a.fn.select2.locales.en={formatMatches:function(a){return 1===a?"One result is available, press enter to select it.":a+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" or more character"+(1==c?"":"s")},formatInputTooLong:function(a,b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(){return"Loading more results"},formatSearching:function(){return"Searching"}},a.extend(a.fn.select2.defaults,a.fn.select2.locales.en),a.fn.select2.ajaxDefaults={transport:a.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:v,local:w,tags:x},util:{debounce:l,markMatch:t,escapeMarkup:u,stripDiacritics:d},"class":{"abstract":E,single:F,multi:G}}}}(jQuery),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";function b(b){return!b.nodeName||-1!==a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"])}function c(b){return a.isFunction(b)||a.isPlainObject(b)?b:{top:b,left:b}}var d=a.scrollTo=function(b,c,d){return a(window).scrollTo(b,c,d)};return d.defaults={axis:"xy",duration:0,limit:!0},a.fn.scrollTo=function(e,f,g){"object"==typeof f&&(g=f,f=0),"function"==typeof g&&(g={onAfter:g}),"max"===e&&(e=9e9),g=a.extend({},d.defaults,g),f=f||g.duration;var h=g.queue&&1<g.axis.length;return h&&(f/=2),g.offset=c(g.offset),g.over=c(g.over),this.each(function(){function i(b){var c=a.extend({},g,{queue:!0,duration:f,complete:b&&function(){b.call(l,n,g)}});m.animate(o,c)}if(null!==e){var j,k=b(this),l=k?this.contentWindow||window:this,m=a(l),n=e,o={};switch(typeof n){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(n)){n=c(n);break}n=k?a(n):a(n,l);case"object":if(0===n.length)return;(n.is||n.style)&&(j=(n=a(n)).offset())}var p=a.isFunction(g.offset)&&g.offset(l,n)||g.offset;a.each(g.axis.split(""),function(a,b){var c="x"===b?"Left":"Top",e=c.toLowerCase(),f="scroll"+c,q=m[f](),r=d.max(l,b);j?(o[f]=j[e]+(k?0:q-m.offset()[e]),g.margin&&(o[f]-=parseInt(n.css("margin"+c),10)||0,o[f]-=parseInt(n.css("border"+c+"Width"),10)||0),o[f]+=p[e]||0,g.over[e]&&(o[f]+=n["x"===b?"width":"height"]()*g.over[e])):(c=n[e],o[f]=c.slice&&"%"===c.slice(-1)?parseFloat(c)/100*r:c),g.limit&&/^\d+$/.test(o[f])&&(o[f]=0>=o[f]?0:Math.min(o[f],r)),!a&&1<g.axis.length&&(q===o[f]?o={}:h&&(i(g.onAfterFirst),o={}))}),i(g.onAfter)}})},d.max=function(c,d){var e="x"===d?"Width":"Height",f="scroll"+e;if(!b(c))return c[f]-a(c)[e.toLowerCase()]();var e="client"+e,g=c.ownerDocument||c.document,h=g.documentElement,g=g.body;return Math.max(h[f],g[f])-Math.min(h[e],g[e])},a.Tween.propHooks.scrollLeft=a.Tween.propHooks.scrollTop={
get:function(b){return a(b.elem)[b.prop]()},set:function(b){var c=this.get(b);if(b.options.interrupt&&b._last&&b._last!==c)return a(b.elem).stop();var d=Math.round(b.now);c!==d&&(a(b.elem)[b.prop](d),b._last=this.get(b))}},d}),!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b,c,d){var e=c.hash.slice(1),f=document.getElementById(e)||document.getElementsByName(e)[0];if(f){b&&b.preventDefault();var g=a(d.target);if(!(d.lock&&g.is(":animated")||d.onBefore&&!1===d.onBefore(b,f,g))){if(d.stop&&g.stop(!0),d.hash){var h=f.id===e?"id":"name",i=a("<a> </a>").attr(h,e).css({position:"absolute",top:a(window).scrollTop(),left:a(window).scrollLeft()});f[h]="",a("body").prepend(i),location.hash=c.hash,i.remove(),f[h]=e}g.scrollTo(f,d).trigger("notify.serialScroll",[f])}}}var c=location.href.replace(/#.*/,""),d=a.localScroll=function(b){a("body").localScroll(b)};return d.defaults={duration:1e3,axis:"y",event:"click",stop:!0,target:window,autoscroll:!0},a.fn.localScroll=function(e){function f(){return!!this.href&&!!this.hash&&this.href.replace(this.hash,"")===c&&(!e.filter||a(this).is(e.filter))}return(e=a.extend({},d.defaults,e)).autoscroll&&e.hash&&location.hash&&(e.target&&window.scrollTo(0,0),b(0,location,e)),e.lazy?this.on(e.event,"a,area",function(a){f.call(this)&&b(a,this,e)}):this.find("a,area").filter(f).bind(e.event,function(a){b(a,this,e)}).end().end()},d.hash=function(){},d}),function(a,b,c){function d(c,d,e){var f=b.createElement(c);return d&&(f.id=_+d),e&&(f.style.cssText=e),a(f)}function e(){return c.innerHeight?c.innerHeight:a(c).height()}function f(b,c){c!==Object(c)&&(c={}),this.cache={},this.el=b,this.value=function(b){var d;return void 0===this.cache[b]&&(d=a(this.el).attr("data-cbox-"+b),void 0!==d?this.cache[b]=d:void 0!==c[b]?this.cache[b]=c[b]:void 0!==Z[b]&&(this.cache[b]=Z[b])),this.cache[b]},this.get=function(b){var c=this.value(b);return a.isFunction(c)?c.call(this.el,this):c}}function g(a){var b=A.length,c=(R+a)%b;return c<0?b+c:c}function h(a,b){return Math.round((/%/.test(a)?("x"===b?B.width():e())/100:1)*parseInt(a,10))}function i(a,b){return a.get("photo")||a.get("photoRegex").test(b)}function j(a,b){return a.get("retinaUrl")&&c.devicePixelRatio>1?b.replace(a.get("photoRegex"),a.get("retinaSuffix")):b}function k(a){"contains"in t[0]&&!t[0].contains(a.target)&&a.target!==s[0]&&(a.stopPropagation(),t.focus())}function l(a){l.str!==a&&(t.add(s).removeClass(l.str).addClass(a),l.str=a)}function m(b){R=0,b&&b!==!1&&"nofollow"!==b?(A=a("."+aa).filter(function(){var c=a.data(this,$),d=new f(this,c);return d.get("rel")===b}),R=A.index(M.el),R===-1&&(A=A.add(M.el),R=A.length-1)):A=a(M.el)}function n(c){a(b).trigger(c),ha.triggerHandler(c)}function o(c){var e;if(!V){if(e=a(c).data($),M=new f(c,e),m(M.get("rel")),!T){T=U=!0,l(M.get("className")),t.css({visibility:"hidden",display:"block",opacity:""}),C=d(ia,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),v.css({width:"",height:""}).append(C),N=w.height()+z.height()+v.outerHeight(!0)-v.height(),O=x.width()+y.width()+v.outerWidth(!0)-v.width(),P=C.outerHeight(!0),Q=C.outerWidth(!0);var g=h(M.get("initialWidth"),"x"),i=h(M.get("initialHeight"),"y"),j=M.get("maxWidth"),o=M.get("maxHeight");M.w=(j!==!1?Math.min(g,h(j,"x")):g)-Q-O,M.h=(o!==!1?Math.min(i,h(o,"y")):i)-P-N,C.css({width:"",height:M.h}),X.position(),n(ba),M.get("onOpen"),L.add(F).hide(),t.focus(),M.get("trapFocus")&&b.addEventListener&&(b.addEventListener("focus",k,!0),ha.one(fa,function(){b.removeEventListener("focus",k,!0)})),M.get("returnFocus")&&ha.one(fa,function(){a(M.el).focus()})}var p=parseFloat(M.get("opacity"));s.css({opacity:p===p?p:"",cursor:M.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),M.get("closeButton")?K.html(M.get("close")).appendTo(v):K.appendTo("<div/>"),r()}}function p(){t||(Y=!1,B=a(c),t=d(ia).attr({id:$,"class":a.support.opacity===!1?_+"IE":"",role:"dialog",tabindex:"-1"}).hide(),s=d(ia,"Overlay").hide(),E=a([d(ia,"LoadingOverlay")[0],d(ia,"LoadingGraphic")[0]]),u=d(ia,"Wrapper"),v=d(ia,"Content").append(F=d(ia,"Title"),G=d(ia,"Current"),J=a('<button type="button"/>').attr({id:_+"Previous"}),I=a('<button type="button"/>').attr({id:_+"Next"}),H=d("button","Slideshow"),E),K=a('<button type="button"/>').attr({id:_+"Close"}),u.append(d(ia).append(d(ia,"TopLeft"),w=d(ia,"TopCenter"),d(ia,"TopRight")),d(ia,!1,"clear:left").append(x=d(ia,"MiddleLeft"),v,y=d(ia,"MiddleRight")),d(ia,!1,"clear:left").append(d(ia,"BottomLeft"),z=d(ia,"BottomCenter"),d(ia,"BottomRight"))).find("div div").css({"float":"left"}),D=d(ia,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),L=I.add(J).add(G).add(H)),b.body&&!t.parent().length&&a(b.body).append(s,t.append(u,D))}function q(){function c(a){a.which>1||a.shiftKey||a.altKey||a.metaKey||a.ctrlKey||(a.preventDefault(),o(this))}return!!t&&(Y||(Y=!0,I.click(function(){X.next()}),J.click(function(){X.prev()}),K.click(function(){X.close()}),s.click(function(){M.get("overlayClose")&&X.close()}),a(b).bind("keydown."+_,function(a){var b=a.keyCode;T&&M.get("escKey")&&27===b&&(a.preventDefault(),X.close()),T&&M.get("arrowKey")&&A[1]&&!a.altKey&&(37===b?(a.preventDefault(),J.click()):39===b&&(a.preventDefault(),I.click()))}),a.isFunction(a.fn.on)?a(b).on("click."+_,"."+aa,c):a("."+aa).live("click."+_,c)),!0)}function r(){var b,e,f,g=X.prep,k=++ja;if(U=!0,S=!1,n(ga),n(ca),M.get("onLoad"),M.h=M.get("height")?h(M.get("height"),"y")-P-N:M.get("innerHeight")&&h(M.get("innerHeight"),"y"),M.w=M.get("width")?h(M.get("width"),"x")-Q-O:M.get("innerWidth")&&h(M.get("innerWidth"),"x"),M.mw=M.w,M.mh=M.h,M.get("maxWidth")&&(M.mw=h(M.get("maxWidth"),"x")-Q-O,M.mw=M.w&&M.w<M.mw?M.w:M.mw),M.get("maxHeight")&&(M.mh=h(M.get("maxHeight"),"y")-P-N,M.mh=M.h&&M.h<M.mh?M.h:M.mh),b=M.get("href"),W=setTimeout(function(){E.show()},100),M.get("inline")){var l=a(b);f=a("<div>").hide().insertBefore(l),ha.one(ga,function(){f.replaceWith(l)}),g(l)}else M.get("iframe")?g(" "):M.get("html")?g(M.get("html")):i(M,b)?(b=j(M,b),S=new Image,a(S).addClass(_+"Photo").bind("error",function(){g(d(ia,"Error").html(M.get("imgError")))}).one("load",function(){k===ja&&setTimeout(function(){var b;a.each(["alt","longdesc","aria-describedby"],function(b,c){var d=a(M.el).attr(c)||a(M.el).attr("data-"+c);d&&S.setAttribute(c,d)}),M.get("retinaImage")&&c.devicePixelRatio>1&&(S.height=S.height/c.devicePixelRatio,S.width=S.width/c.devicePixelRatio),M.get("scalePhotos")&&(e=function(){S.height-=S.height*b,S.width-=S.width*b},M.mw&&S.width>M.mw&&(b=(S.width-M.mw)/S.width,e()),M.mh&&S.height>M.mh&&(b=(S.height-M.mh)/S.height,e())),M.h&&(S.style.marginTop=Math.max(M.mh-S.height,0)/2+"px"),A[1]&&(M.get("loop")||A[R+1])&&(S.style.cursor="pointer",S.onclick=function(){X.next()}),S.style.width=S.width+"px",S.style.height=S.height+"px",g(S)},1)}),S.src=b):b&&D.load(b,M.get("data"),function(b,c){k===ja&&g("error"===c?d(ia,"Error").html(M.get("xhrError")):a(this).contents())})}var s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,customPreventReposition:!1,rel:function(){return this.rel},href:function(){return a(this).attr("href")},title:function(){return this.title}},$="colorbox",_="cbox",aa=_+"Element",ba=_+"_open",ca=_+"_load",da=_+"_complete",ea=_+"_cleanup",fa=_+"_closed",ga=_+"_purge",ha=a("<a/>"),ia="div",ja=0,ka={},la=function(){function a(){clearTimeout(g)}function b(){(M.get("loop")||A[R+1])&&(a(),g=setTimeout(X.next,M.get("slideshowSpeed")))}function c(){H.html(M.get("slideshowStop")).unbind(i).one(i,d),ha.bind(da,b).bind(ca,a),t.removeClass(h+"off").addClass(h+"on")}function d(){a(),ha.unbind(da,b).unbind(ca,a),H.html(M.get("slideshowStart")).unbind(i).one(i,function(){X.next(),c()}),t.removeClass(h+"on").addClass(h+"off")}function e(){f=!1,H.hide(),a(),ha.unbind(da,b).unbind(ca,a),t.removeClass(h+"off "+h+"on")}var f,g,h=_+"Slideshow_",i="click."+_;return function(){f?M.get("slideshow")||(ha.unbind(ea,e),e()):M.get("slideshow")&&A[1]&&(f=!0,ha.one(ea,e),M.get("slideshowAuto")?c():d(),H.show())}}();a[$]||(a(p),X=a.fn[$]=a[$]=function(b,c){var d,e=this;if(b=b||{},a.isFunction(e))e=a("<a/>"),b.open=!0;else if(!e[0])return e;return e[0]?(p(),q()&&(c&&(b.onComplete=c),e.each(function(){var c=a.data(this,$)||{};a.data(this,$,a.extend(c,b))}).addClass(aa),d=new f(e[0],b),d.get("open")&&o(e[0])),e):e},X.position=function(b,c){function d(){w[0].style.width=z[0].style.width=v[0].style.width=parseInt(t[0].style.width,10)-O+"px",v[0].style.height=x[0].style.height=y[0].style.height=parseInt(t[0].style.height,10)-N+"px"}var f,g,i,j,k,l=0,m=0,n=t.offset();if(B.unbind("resize."+_),M.get("customPreventReposition")&&(j=t.css("top"),k=t.css("left")),t.css({top:-9e4,left:-9e4}),g=B.scrollTop(),i=B.scrollLeft(),M.get("fixed")?(n.top-=g,n.left-=i,t.css({position:"fixed"})):(l=g,m=i,t.css({position:"absolute"})),m+=M.get("right")!==!1?Math.max(B.width()-M.w-Q-O-h(M.get("right"),"x"),0):M.get("left")!==!1?h(M.get("left"),"x"):Math.round(Math.max(B.width()-M.w-Q-O,0)/2),l+=M.get("bottom")!==!1?Math.max(e()-M.h-P-N-h(M.get("bottom"),"y"),0):M.get("top")!==!1?h(M.get("top"),"y"):Math.round(Math.max(e()-M.h-P-N,0)/2),t.css({top:n.top,left:n.left,visibility:"visible"}),u[0].style.width=u[0].style.height="9999px",M.get("customPreventReposition")&&(l=j,m=k),f={width:M.w+Q+O,height:M.h+P+N,top:l,left:m},b){var o=0;a.each(f,function(a){if(f[a]!==ka[a])return void(o=b)}),b=o}ka=f,b||t.css(f),t.dequeue().animate(f,{duration:b||0,complete:function(){d(),U=!1,u[0].style.width=M.w+Q+O+"px",u[0].style.height=M.h+P+N+"px",M.get("reposition")&&setTimeout(function(){B.bind("resize."+_,X.position)},1),a.isFunction(c)&&c()},step:d})},X.resize=function(a){var b;T&&(a=a||{},a.width&&(M.w=h(a.width,"x")-Q-O),a.innerWidth&&(M.w=h(a.innerWidth,"x")),C.css({width:M.w}),a.height&&(M.h=h(a.height,"y")-P-N),a.innerHeight&&(M.h=h(a.innerHeight,"y")),a.innerHeight||a.height||(b=C.scrollTop(),C.css({height:"auto"}),M.h=C.height()),C.css({height:M.h}),b&&C.scrollTop(b),X.position("none"===M.get("transition")?0:M.get("speed")))},X.prep=function(c){function e(){return M.w=M.w||C.width(),M.w=M.mw&&M.mw<M.w?M.mw:M.w,M.w}function h(){return M.h=M.h||C.height(),M.h=M.mh&&M.mh<M.h?M.mh:M.h,M.h}if(T){var k,m="none"===M.get("transition")?0:M.get("speed");C.remove(),C=d(ia,"LoadedContent").append(c),C.hide().appendTo(D.show()).css({width:e(),overflow:M.get("scrolling")?"auto":"hidden"}).css({height:h()}).prependTo(v),D.hide(),a(S).css({"float":"none"}),l(M.get("className")),k=function(){function c(){a.support.opacity===!1&&t[0].style.removeAttribute("filter")}var d,e,h=A.length;T&&(e=function(){clearTimeout(W),E.hide(),n(da),M.get("onComplete")},F.html(M.get("title")).show(),C.show(),h>1?("string"==typeof M.get("current")&&G.html(M.get("current").replace("{current}",R+1).replace("{total}",h)).show(),I[M.get("loop")||R<h-1?"show":"hide"]().html(M.get("next")),J[M.get("loop")||R?"show":"hide"]().html(M.get("previous")),la(),M.get("preloading")&&a.each([g(-1),g(1)],function(){var c,d=A[this],e=new f(d,a.data(d,$)),g=e.get("href");g&&i(e,g)&&(g=j(e,g),c=b.createElement("img"),c.src=g)})):L.hide(),M.get("iframe")?(d=b.createElement("iframe"),"frameBorder"in d&&(d.frameBorder=0),"allowTransparency"in d&&(d.allowTransparency="true"),M.get("scrolling")||(d.scrolling="no"),a(d).attr({src:M.get("href"),name:(new Date).getTime(),"class":_+"Iframe",allowFullScreen:!0}).one("load",e).appendTo(C),ha.one(ga,function(){d.src="//about:blank"}),M.get("fastIframe")&&a(d).trigger("load")):e(),"fade"===M.get("transition")?t.fadeTo(m,1,c):c())},"fade"===M.get("transition")?t.fadeTo(m,0,function(){X.position(0,k)}):X.position(m,k)}},X.next=function(){!U&&A[1]&&(M.get("loop")||A[R+1])&&(R=g(1),o(A[R]))},X.prev=function(){!U&&A[1]&&(M.get("loop")||R)&&(R=g(-1),o(A[R]))},X.close=function(){T&&!V&&(V=!0,T=!1,n(ea),M.get("onCleanup"),B.unbind("."+_),s.fadeTo(M.get("fadeOut")||0,0),t.stop().fadeTo(M.get("fadeOut")||0,0,function(){t.hide(),s.hide(),n(ga),C.remove(),setTimeout(function(){V=!1,n(fa),M.get("onClosed")},1)}))},X.remove=function(){t&&(t.stop(),a[$].close(),t.stop(!1,!0).remove(),s.remove(),V=!1,t=null,a("."+aa).removeData($).removeClass(aa),a(b).unbind("click."+_).unbind("keydown."+_))},X.element=function(){return a(M.el)},X.settings=Z,X.customPreventReposition=function(a){M.cache.customPreventReposition=a})}(jQuery,document,window),function(a,b,c){"$:nomunge";function d(){e=b[h](function(){f.each(function(){var b=a(this),c=b.width(),d=b.height(),e=a.data(this,j);c===e.w&&d===e.h||b.triggerHandler(i,[e.w=c,e.h=d])}),d()},g[k])}var e,f=a([]),g=a.resize=a.extend(a.resize,{}),h="setTimeout",i="resize",j=i+"-special-event",k="delay",l="throttleWindow";g[k]=1e3,g[l]=!0,a.event.special[i]={setup:function(){if(!g[l]&&this[h])return!1;if(a.isWindow(this))return!1;var b=a(this);f=f.add(b),a.data(this,j,{w:b.width(),h:b.height()}),1===f.length&&d()},teardown:function(){if(!g[l]&&this[h])return!1;if(a.isWindow(this))return!1;var b=a(this);f=f.not(b),b.removeData(j),f.length||clearTimeout(e)},add:function(b){function d(b,d,f){var g=a(this),h=a.data(this,j);h.w=d!==c?d:g.width(),h.h=f!==c?f:g.height(),e.apply(this,arguments)}if(!g[l]&&this[h])return!1;if(a.isWindow(this))return!1;var e;return a.isFunction(b)?(e=b,d):(e=b.handler,void(b.handler=d))}}}(jQuery,this),function(a,b){"$:nomunge";function c(a){return"string"==typeof a}function d(a){var b=u.call(arguments,1);return function(){return a.apply(this,b.concat(u.call(arguments)))}}function e(a){return a.replace(q,"$2")}function f(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function g(b,d,e,f,g){var h,i,l,n,o;return f!==j?(l=e.match(b?q:/^([^#?]*)\??([^#]*)(#?.*)/),o=l[3]||"",2===g&&c(f)?i=f.replace(b?p:C,""):(n=m(l[2]),f=c(f)?m[b?y:x](f):f,i=2===g?f:1===g?a.extend({},f,n):a.extend({},n,f),i=k(i),b&&(i=i.replace(r,v))),h=l[1]+(b?t:i||!l[1]?"?":"")+i+o):h=d(e!==j?e:location.href),h}function h(a,b,d){return b===j||"boolean"==typeof b?(d=b,b=w[a?y:x]()):b=c(b)?b.replace(a?p:C,""):b,m(b,d)}function i(b,d,e,f){return c(e)||"object"==typeof e||(f=e,e=d,d=j),this.each(function(){var c=a(this),g=d||o()[(this.nodeName||"").toLowerCase()]||"",h=g&&c.attr(g)||"";c.attr(g,w[b](h,e,f))})}var j,k,l,m,n,o,p,q,r,s,t,u=Array.prototype.slice,v=decodeURIComponent,w=a.param,x=(a.bbq=a.bbq||{},a.event.special,"querystring"),y="fragment",z="elemUrlAttr",A="href",B="src",C=/^.*\?|#.*$/g,D={};w[x]=d(g,0,f),w[y]=l=d(g,1,e),w.sorted=k=function(b,c){var d=[],e={};return a.each(w(b,c).split("&"),function(a,b){var c=b.replace(/(?:%5B|=).*$/,""),f=e[c];f||(f=e[c]=[],d.push(c)),f.push(b)}),a.map(d.sort(),function(a){return e[a]}).join("&")},l.noEscape=function(b){b=b||"";var c=a.map(b.split(""),encodeURIComponent);r=new RegExp(c.join("|"),"g")},l.noEscape(",/"),l.ajaxCrawlable=function(a){return a!==j&&(a?(p=/^.*(?:#!|#)/,q=/^([^#]*)(?:#!|#)?(.*)$/,t="#!"):(p=/^.*#/,q=/^([^#]*)#?(.*)$/,t="#"),s=!!a),s},l.ajaxCrawlable(0),a.deparam=m=function(b,c){var d={},e={"true":!0,"false":!1,"null":null};return a.each(b.replace(/\+/g," ").split("&"),function(b,f){var g,h=f.split("="),i=v(h[0]),k=d,l=0,m=i.split("]["),n=m.length-1;if(/\[/.test(m[0])&&/\]$/.test(m[n])?(m[n]=m[n].replace(/\]$/,""),m=m.shift().split("[").concat(m),n=m.length-1):n=0,2===h.length)if(g=v(h[1]),c&&(g=g&&!isNaN(g)?+g:"undefined"===g?j:e[g]!==j?e[g]:g),n)for(;l<=n;l++)i=""===m[l]?k.length:m[l],k=k[i]=l<n?k[i]||(m[l+1]&&isNaN(m[l+1])?{}:[]):g;else a.isArray(d[i])?d[i].push(g):d[i]!==j?d[i]=[d[i],g]:d[i]=g;else i&&(d[i]=c?j:"")}),d},m[x]=d(h,0),m[y]=n=d(h,1),a[z]||(a[z]=function(b){return a.extend(D,b)})({a:A,base:A,iframe:B,img:B,input:B,form:"action",link:A,script:B}),o=a[z],a.fn[x]=d(i,x),a.fn[y]=d(i,y)}(jQuery,this),!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):b("object"==typeof exports?require("jquery"):a.jQuery?a.jQuery:a.Zepto)}(this,function(a,b){a.fn.jPlayer=function(c){var d="jPlayer",e="string"==typeof c,f=Array.prototype.slice.call(arguments,1),g=this;return c=!e&&f.length?a.extend.apply(null,[!0,c].concat(f)):c,e&&"_"===c.charAt(0)?g:(this.each(e?function(){var e=a(this).data(d),h=e&&a.isFunction(e[c])?e[c].apply(e,f):e;return h!==e&&h!==b?(g=h,!1):void 0}:function(){var b=a(this).data(d);b?b.option(c||{}):a(this).data(d,new a.jPlayer(c,this))}),g)},a.jPlayer=function(b,c){if(arguments.length){this.element=a(c),this.options=a.extend(!0,{},this.options,b);var d=this;this.element.bind("remove.jPlayer",function(){d.destroy()}),this._init()}},"function"!=typeof a.fn.stop&&(a.fn.stop=function(){}),a.jPlayer.emulateMethods="load play pause",a.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",a.jPlayer.emulateOptions="muted volume",a.jPlayer.reservedEvent="ready flashreset resize repeat error warning",a.jPlayer.event={},a.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],function(){a.jPlayer.event[this]="jPlayer_"+this}),a.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","canplay","canplaythrough"],a.jPlayer.pause=function(){a.jPlayer.prototype.destroyRemoved(),a.each(a.jPlayer.prototype.instances,function(a,b){b.data("jPlayer").status.srcSet&&b.jPlayer("pause")})},a.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var c=function(){this.init()};c.prototype={init:function(){this.options={timeFormat:a.jPlayer.timeFormat}},time:function(a){a=a&&"number"==typeof a?a:0;var b=new Date(1e3*a),c=b.getUTCHours(),d=this.options.timeFormat.showHour?b.getUTCMinutes():b.getUTCMinutes()+60*c,e=this.options.timeFormat.showMin?b.getUTCSeconds():b.getUTCSeconds()+60*d,f=this.options.timeFormat.padHour&&10>c?"0"+c:c,g=this.options.timeFormat.padMin&&10>d?"0"+d:d,h=this.options.timeFormat.padSec&&10>e?"0"+e:e,i="";return i+=this.options.timeFormat.showHour?f+this.options.timeFormat.sepHour:"",i+=this.options.timeFormat.showMin?g+this.options.timeFormat.sepMin:"",i+=this.options.timeFormat.showSec?h+this.options.timeFormat.sepSec:""}};var d=new c;a.jPlayer.convertTime=function(a){return d.time(a)},a.jPlayer.uaBrowser=function(a){var b=a.toLowerCase(),c=/(webkit)[ \/]([\w.]+)/,d=/(opera)(?:.*version)?[ \/]([\w.]+)/,e=/(msie) ([\w.]+)/,f=/(mozilla)(?:.*? rv:([\w.]+))?/,g=c.exec(b)||d.exec(b)||e.exec(b)||b.indexOf("compatible")<0&&f.exec(b)||[];return{browser:g[1]||"",version:g[2]||"0"}},a.jPlayer.uaPlatform=function(a){var b=a.toLowerCase(),c=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/,d=/(ipad|playbook)/,e=/(android)/,f=/(mobile)/,g=c.exec(b)||[],h=d.exec(b)||!f.exec(b)&&e.exec(b)||[];return g[1]&&(g[1]=g[1].replace(/\s/g,"_")),{platform:g[1]||"",tablet:h[1]||""}},a.jPlayer.browser={},a.jPlayer.platform={};var e=a.jPlayer.uaBrowser(navigator.userAgent);e.browser&&(a.jPlayer.browser[e.browser]=!0,a.jPlayer.browser.version=e.version);var f=a.jPlayer.uaPlatform(navigator.userAgent);f.platform&&(a.jPlayer.platform[f.platform]=!0,a.jPlayer.platform.mobile=!f.tablet,a.jPlayer.platform.tablet=!!f.tablet),a.jPlayer.getDocMode=function(){var b;return a.jPlayer.browser.msie&&(document.documentMode?b=document.documentMode:(b=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(b=7))),b},a.jPlayer.browser.documentMode=a.jPlayer.getDocMode(),a.jPlayer.nativeFeatures={init:function(){var a,b,c,d=document,e=d.createElement("video"),f={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""],ms:["","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"]},g=["w3c","moz","webkit","webkitVideo","ms"];for(this.fullscreen=a={support:{w3c:!!d[f.w3c[0]],moz:!!d[f.moz[0]],webkit:"function"==typeof d[f.webkit[3]],webkitVideo:"function"==typeof e[f.webkitVideo[2]],ms:"function"==typeof e[f.ms[2]]},used:{}},b=0,c=g.length;c>b;b++){var h=g[b];if(a.support[h]){a.spec=h,a.used[h]=!0;break}}if(a.spec){var i=f[a.spec];a.api={fullscreenEnabled:!0,fullscreenElement:function(a){return a=a?a:d,a[i[1]]},requestFullscreen:function(a){return a[i[2]]()},exitFullscreen:function(a){return a=a?a:d,a[i[3]]()}},a.event={fullscreenchange:i[4],fullscreenerror:i[5]}}else a.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},a.event={}}},a.jPlayer.nativeFeatures.init(),a.jPlayer.focus=null,a.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var g=function(b){var c,d=a.jPlayer.focus;d&&(a.each(a.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(a,d){return b.target.nodeName.toUpperCase()===d.toUpperCase()?(c=!0,!1):void 0}),c||a.each(d.options.keyBindings,function(c,e){return e&&a.isFunction(e.fn)&&("number"==typeof e.key&&b.which===e.key||"string"==typeof e.key&&b.key===e.key)?(b.preventDefault(),e.fn(d),!1):void 0}))};a.jPlayer.keys=function(b){var c="keydown.jPlayer";a(document.documentElement).unbind(c),b&&a(document.documentElement).bind(c,g)},a.jPlayer.keys(!0),a.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(b){b.jPlayer.options.loop?a(this).unbind(".jPlayerRepeat").bind(a.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){a(this).jPlayer("play")}):a(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(a){a.status.paused?a.play():a.pause()}},fullScreen:{key:70,fn:function(a){(a.status.video||a.options.audioFullScreen)&&a._setOption("fullScreen",!a.options.fullScreen)}},muted:{key:77,fn:function(a){a._muted(!a.options.muted)}},volumeUp:{key:190,fn:function(a){a.volume(a.options.volume+.1)}},volumeDown:{key:188,fn:function(a){a.volume(a.options.volume-.1)}},loop:{key:76,fn:function(a){a._loop(!a.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var c=this;if(this.element.empty(),this.status=a.extend({},this.status),this.internal=a.extend({},this.internal),this.options.timeFormat=a.extend({},a.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=a.jPlayer.platform.ipad||a.jPlayer.platform.iphone||a.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!a.jPlayer.focus&&(a.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:NaN},a.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),a.each(this.options.supplied.toLowerCase().split(","),function(b,d){var e=d.replace(/^\s+|\s+$/g,"");if(c.format[e]){var f=!1;a.each(c.formats,function(a,b){return e===b?(f=!0,!1):void 0}),f||c.formats.push(e)}}),a.each(this.options.solution.toLowerCase().split(","),function(b,d){var e=d.replace(/^\s+|\s+$/g,"");if(c.solution[e]){var f=!1;a.each(c.solutions,function(a,b){return e===b?(f=!0,!1):void 0}),f||c.solutions.push(e)}}),a.each(this.options.auroraFormats.toLowerCase().split(","),function(b,d){var e=d.replace(/^\s+|\s+$/g,"");if(c.format[e]){var f=!1;a.each(c.aurora.formats,function(a,b){return e===b?(f=!0,!1):void 0}),f||c.aurora.formats.push(e)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=a.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=a.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:b}),this.internal.video=a.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:b}),this.internal.flash=a.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:b,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=a.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:b}),a.each(a.jPlayer.event,function(a,d){c.options[a]!==b&&(c.element.bind(d+".jPlayer",c.options[a]),c.options[a]=b)}),this.require.audio=!1,this.require.video=!1,a.each(this.formats,function(a,b){c.require[c.format[b].media]=!0}),this.options=this.require.video?a.extend(!0,{},this.optionsVideo,this.options):a.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),a.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){(!c.status.video||c.status.waitForPlay)&&c.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=a("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){c._trigger(a.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},a.each(this.formats,function(b,d){c.html.canPlay[d]=c.html[c.format[d].media].available&&""!==c.htmlElement[c.format[d].media].canPlayType(c.format[d].codec),c.aurora.canPlay[d]=a.inArray(d,c.aurora.formats)>-1,c.flash.canPlay[d]=c.format[d].flashCanPlay&&c.flash.available}),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,a.each(this.solutions,function(b,d){if(0===b)c[d].desired=!0;else{var e=!1,f=!1;a.each(c.formats,function(a,b){c[c.solutions[0]].canPlay[b]&&("video"===c.format[b].media?f=!0:e=!0)}),c[d].desired=c.require.audio&&!e||c.require.video&&!f}}),this.html.support={},this.aurora.support={},this.flash.support={},
a.each(this.formats,function(a,b){c.html.support[b]=c.html.canPlay[b]&&c.html.desired,c.aurora.support[b]=c.aurora.canPlay[b]&&c.aurora.desired,c.flash.support[b]=c.flash.canPlay[b]&&c.flash.desired}),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,a.each(this.solutions,function(b,d){a.each(c.formats,function(a,b){return c[d].support[b]?(c[d].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:a.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:a.jPlayer.errorMsg.NO_SOLUTION,hint:a.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var d,e="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(a.jPlayer.browser.msie&&(Number(a.jPlayer.browser.version)<9||a.jPlayer.browser.documentMode<9)){var f='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>',g=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+e+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];d=document.createElement(f);for(var h=0;h<g.length;h++)d.appendChild(document.createElement(g[h]))}else{var i=function(a,b,c){var d=document.createElement("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)};d=document.createElement("object"),d.setAttribute("id",this.internal.flash.id),d.setAttribute("name",this.internal.flash.id),d.setAttribute("data",this.internal.flash.swf),d.setAttribute("type","application/x-shockwave-flash"),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("tabindex","-1"),i(d,"flashvars",e),i(d,"allowscriptaccess","always"),i(d,"bgcolor",this.options.backgroundColor),i(d,"wmode",this.options.wmode)}this.element.append(d),this.internal.flash.jq=a(d)}this.status.playbackRateEnabled=!(!this.html.used||this.flash.used)&&this._testPlaybackRate("audio"),this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=a("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=a("#"+this.internal.video.id),this.internal.video.jq.css(this.status.nativeVideoControls?{width:this.status.width,height:this.status.height}:{width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){c._trigger(a.jPlayer.event.click)}))),this.aurora.used,this.options.emulateHtml&&this._emulateHtmlBridge(),!this.html.used&&!this.aurora.used||this.flash.used||setTimeout(function(){c.internal.ready=!0,c.version.flash="n/a",c._trigger(a.jPlayer.event.repeat),c._trigger(a.jPlayer.event.ready)},100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),a.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),a.each(this.css.jq,function(a,b){b.length&&b.unbind(".jPlayer")}),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===a.jPlayer.focus&&(a.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},destroyRemoved:function(){var b=this;a.each(this.instances,function(a,c){b.element!==c&&(c.data("jPlayer")||(c.jPlayer("destroy"),delete b.instances[a]))})},enable:function(){},disable:function(){},_testCanPlayType:function(a){try{return a.canPlayType(this.format.mp3.codec),!0}catch(b){return!1}},_testPlaybackRate:function(a){var b,c=.5;a="string"==typeof a?a:"audio",b=document.createElement(a);try{return"playbackRate"in b&&(b.playbackRate=c,b.playbackRate===c)}catch(d){return!1}},_uaBlocklist:function(b){var c=navigator.userAgent.toLowerCase(),d=!1;return a.each(b,function(a,b){return b&&b.test(c)?(d=!0,!1):void 0}),d},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(b,c){var d=this;b.preload=this.options.preload,b.muted=this.options.muted,b.volume=this.options.volume,this.status.playbackRateEnabled&&(b.defaultPlaybackRate=this.options.defaultPlaybackRate,b.playbackRate=this.options.playbackRate),b.addEventListener("progress",function(){c.gate&&(d.internal.cmdsIgnored&&this.readyState>0&&(d.internal.cmdsIgnored=!1),d._getHtmlStatus(b),d._updateInterface(),d._trigger(a.jPlayer.event.progress))},!1),b.addEventListener("loadeddata",function(){c.gate&&(d.androidFix.setMedia=!1,d.androidFix.play&&(d.androidFix.play=!1,d.play(d.androidFix.time)),d.androidFix.pause&&(d.androidFix.pause=!1,d.pause(d.androidFix.time)),d._trigger(a.jPlayer.event.loadeddata))},!1),b.addEventListener("timeupdate",function(){c.gate&&(d._getHtmlStatus(b),d._updateInterface(),d._trigger(a.jPlayer.event.timeupdate))},!1),b.addEventListener("durationchange",function(){c.gate&&(d._getHtmlStatus(b),d._updateInterface(),d._trigger(a.jPlayer.event.durationchange))},!1),b.addEventListener("play",function(){c.gate&&(d._updateButtons(!0),d._html_checkWaitForPlay(),d._trigger(a.jPlayer.event.play))},!1),b.addEventListener("playing",function(){c.gate&&(d._updateButtons(!0),d._seeked(),d._trigger(a.jPlayer.event.playing))},!1),b.addEventListener("pause",function(){c.gate&&(d._updateButtons(!1),d._trigger(a.jPlayer.event.pause))},!1),b.addEventListener("waiting",function(){c.gate&&(d._seeking(),d._trigger(a.jPlayer.event.waiting))},!1),b.addEventListener("seeking",function(){c.gate&&(d._seeking(),d._trigger(a.jPlayer.event.seeking))},!1),b.addEventListener("seeked",function(){c.gate&&(d._seeked(),d._trigger(a.jPlayer.event.seeked))},!1),b.addEventListener("volumechange",function(){c.gate&&(d.options.volume=b.volume,d.options.muted=b.muted,d._updateMute(),d._updateVolume(),d._trigger(a.jPlayer.event.volumechange))},!1),b.addEventListener("ratechange",function(){c.gate&&(d.options.defaultPlaybackRate=b.defaultPlaybackRate,d.options.playbackRate=b.playbackRate,d._updatePlaybackRate(),d._trigger(a.jPlayer.event.ratechange))},!1),b.addEventListener("suspend",function(){c.gate&&(d._seeked(),d._trigger(a.jPlayer.event.suspend))},!1),b.addEventListener("ended",function(){c.gate&&(a.jPlayer.browser.webkit||(d.htmlElement.media.currentTime=0),d.htmlElement.media.pause(),d._updateButtons(!1),d._getHtmlStatus(b,!0),d._updateInterface(),d._trigger(a.jPlayer.event.ended))},!1),b.addEventListener("error",function(){c.gate&&(d._updateButtons(!1),d._seeked(),d.status.srcSet&&(clearTimeout(d.internal.htmlDlyCmdId),d.status.waitForLoad=!0,d.status.waitForPlay=!0,d.status.video&&!d.status.nativeVideoControls&&d.internal.video.jq.css({width:"0px",height:"0px"}),d._validString(d.status.media.poster)&&!d.status.nativeVideoControls&&d.internal.poster.jq.show(),d.css.jq.videoPlay.length&&d.css.jq.videoPlay.show(),d._error({type:a.jPlayer.error.URL,context:d.status.src,message:a.jPlayer.errorMsg.URL,hint:a.jPlayer.errorHint.URL})))},!1),a.each(a.jPlayer.htmlEvent,function(e,f){b.addEventListener(this,function(){c.gate&&d._trigger(a.jPlayer.event[f])},!1)})},_addAuroraEventListeners:function(b,c){var d=this;b.volume=100*this.options.volume,b.on("progress",function(){c.gate&&(d.internal.cmdsIgnored&&this.readyState>0&&(d.internal.cmdsIgnored=!1),d._getAuroraStatus(b),d._updateInterface(),d._trigger(a.jPlayer.event.progress),b.duration>0&&d._trigger(a.jPlayer.event.timeupdate))},!1),b.on("ready",function(){c.gate&&d._trigger(a.jPlayer.event.loadeddata)},!1),b.on("duration",function(){c.gate&&(d._getAuroraStatus(b),d._updateInterface(),d._trigger(a.jPlayer.event.durationchange))},!1),b.on("end",function(){c.gate&&(d._updateButtons(!1),d._getAuroraStatus(b,!0),d._updateInterface(),d._trigger(a.jPlayer.event.ended))},!1),b.on("error",function(){c.gate&&(d._updateButtons(!1),d._seeked(),d.status.srcSet&&(d.status.waitForLoad=!0,d.status.waitForPlay=!0,d.status.video&&!d.status.nativeVideoControls&&d.internal.video.jq.css({width:"0px",height:"0px"}),d._validString(d.status.media.poster)&&!d.status.nativeVideoControls&&d.internal.poster.jq.show(),d.css.jq.videoPlay.length&&d.css.jq.videoPlay.show(),d._error({type:a.jPlayer.error.URL,context:d.status.src,message:a.jPlayer.errorMsg.URL,hint:a.jPlayer.errorHint.URL})))},!1)},_getHtmlStatus:function(a,b){var c=0,d=0,e=0,f=0;isFinite(a.duration)&&(this.status.duration=a.duration),c=a.currentTime,d=this.status.duration>0?100*c/this.status.duration:0,"object"==typeof a.seekable&&a.seekable.length>0?(e=this.status.duration>0?100*a.seekable.end(a.seekable.length-1)/this.status.duration:100,f=this.status.duration>0?100*a.currentTime/a.seekable.end(a.seekable.length-1):0):(e=100,f=d),b&&(c=0,f=0,d=0),this.status.seekPercent=e,this.status.currentPercentRelative=f,this.status.currentPercentAbsolute=d,this.status.currentTime=c,this.status.remaining=this.status.duration-this.status.currentTime,this.status.videoWidth=a.videoWidth,this.status.videoHeight=a.videoHeight,this.status.readyState=a.readyState,this.status.networkState=a.networkState,this.status.playbackRate=a.playbackRate,this.status.ended=a.ended},_getAuroraStatus:function(a,b){var c=0,d=0,e=0,f=0;this.status.duration=a.duration/1e3,c=a.currentTime/1e3,d=this.status.duration>0?100*c/this.status.duration:0,a.buffered>0?(e=this.status.duration>0?a.buffered*this.status.duration/this.status.duration:100,f=this.status.duration>0?c/(a.buffered*this.status.duration):0):(e=100,f=d),b&&(c=0,f=0,d=0),this.status.seekPercent=e,this.status.currentPercentRelative=f,this.status.currentPercentAbsolute=d,this.status.currentTime=c,this.status.remaining=this.status.duration-this.status.currentTime,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_resetStatus:function(){this.status=a.extend({},this.status,a.jPlayer.prototype.status)},_trigger:function(b,c,d){var e=a.Event(b);e.jPlayer={},e.jPlayer.version=a.extend({},this.version),e.jPlayer.options=a.extend(!0,{},this.options),e.jPlayer.status=a.extend(!0,{},this.status),e.jPlayer.html=a.extend(!0,{},this.html),e.jPlayer.aurora=a.extend(!0,{},this.aurora),e.jPlayer.flash=a.extend(!0,{},this.flash),c&&(e.jPlayer.error=a.extend({},c)),d&&(e.jPlayer.warning=a.extend({},d)),this.element.trigger(e)},jPlayerFlashEvent:function(b,c){if(b===a.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var d=this.status.currentTime,e=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),d>0&&(e?this.pause(d):this.play(d))}this._trigger(a.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=c.version,this.version.needFlash!==this.version.flash&&this._error({type:a.jPlayer.error.VERSION,context:this.version.flash,message:a.jPlayer.errorMsg.VERSION+this.version.flash,hint:a.jPlayer.errorHint.VERSION}),this._trigger(a.jPlayer.event.repeat),this._trigger(b);if(this.flash.gate)switch(b){case a.jPlayer.event.progress:this._getFlashStatus(c),this._updateInterface(),this._trigger(b);break;case a.jPlayer.event.timeupdate:this._getFlashStatus(c),this._updateInterface(),this._trigger(b);break;case a.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(b);break;case a.jPlayer.event.pause:this._updateButtons(!1),this._trigger(b);break;case a.jPlayer.event.ended:this._updateButtons(!1),this._trigger(b);break;case a.jPlayer.event.click:this._trigger(b);break;case a.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:a.jPlayer.error.URL,context:c.src,message:a.jPlayer.errorMsg.URL,hint:a.jPlayer.errorHint.URL});break;case a.jPlayer.event.seeking:this._seeking(),this._trigger(b);break;case a.jPlayer.event.seeked:this._seeked(),this._trigger(b);break;case a.jPlayer.event.ready:break;default:this._trigger(b)}return!1},_getFlashStatus:function(a){this.status.seekPercent=a.seekPercent,this.status.currentPercentRelative=a.currentPercentRelative,this.status.currentPercentAbsolute=a.currentPercentAbsolute,this.status.currentTime=a.currentTime,this.status.duration=a.duration,this.status.remaining=a.duration-a.currentTime,this.status.videoWidth=a.videoWidth,this.status.videoHeight=a.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(a){a===b?a=!this.status.paused:this.status.paused=!a,a?this.addStateClass("playing"):this.removeStateClass("playing"),!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen"),this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped"),this.css.jq.play.length&&this.css.jq.pause.length&&(a?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));var a="";this.css.jq.currentTime.length&&(a=this._convertTime(this.status.currentTime),a!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)));var b="",c=this.status.duration,d=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?b=this.status.media.duration:("number"==typeof this.status.media.duration&&(c=this.status.media.duration,d=c-this.status.currentTime),b=this.options.remainingDuration?(d>0?"-":"")+this._convertTime(d):this._convertTime(c)),b!==this.css.jq.duration.text()&&this.css.jq.duration.text(b))},_convertTime:c.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg"),this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg"),this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.aurora.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.aurora.active=!1,this.flash.active=!1},_escapeHtml:function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(a){var b=document.createElement("div");return b.innerHTML='<a href="'+this._escapeHtml(a)+'">x</a>',b.firstChild.href},_absoluteMediaUrls:function(b){var c=this;return a.each(b,function(a,d){d&&c.format[a]&&"data:"!==d.substr(0,5)&&(b[a]=c._qualifyURL(d))}),b},addStateClass:function(a){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[a])},removeStateClass:function(a){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[a])},setMedia:function(b){var c=this,d=!1,e=this.status.media.poster!==b.poster;this._resetMedia(),this._resetGate(),this._resetActive(),this.androidFix.setMedia=!1,this.androidFix.play=!1,this.androidFix.pause=!1,b=this._absoluteMediaUrls(b),a.each(this.formats,function(e,f){var g="video"===c.format[f].media;return a.each(c.solutions,function(e,h){if(c[h].support[f]&&c._validString(b[f])){var i="html"===h,j="aurora"===h;return g?(i?(c.html.video.gate=!0,c._html_setVideo(b),c.html.active=!0):(c.flash.gate=!0,c._flash_setVideo(b),c.flash.active=!0),c.css.jq.videoPlay.length&&c.css.jq.videoPlay.show(),c.status.video=!0):(i?(c.html.audio.gate=!0,c._html_setAudio(b),c.html.active=!0,a.jPlayer.platform.android&&(c.androidFix.setMedia=!0)):j?(c.aurora.gate=!0,c._aurora_setAudio(b),c.aurora.active=!0):(c.flash.gate=!0,c._flash_setAudio(b),c.flash.active=!0),c.css.jq.videoPlay.length&&c.css.jq.videoPlay.hide(),c.status.video=!1),d=!0,!1}}),!d&&void 0}),d?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(b.poster)&&(e?this.htmlElement.poster.src=b.poster:this.internal.poster.jq.show()),"string"==typeof b.title&&(this.css.jq.title.length&&this.css.jq.title.html(b.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",b.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",b.title)),this.status.srcSet=!0,this.status.media=a.extend({},b),this._updateButtons(!1),this._updateInterface(),this._trigger(a.jPlayer.event.setmedia)):this._error({type:a.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:a.jPlayer.errorMsg.NO_SUPPORT,hint:a.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(a.jPlayer.focus=this)},play:function(a){var b="object"==typeof a;b&&this.options.useStateClassSkin&&!this.status.paused?this.pause(a):(a="number"==typeof a?a:NaN,this.status.srcSet?(this.focus(),this.html.active?this._html_play(a):this.aurora.active?this._aurora_play(a):this.flash.active&&this._flash_play(a)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(a){a="number"==typeof a?a:NaN,this.status.srcSet?this.html.active?this._html_pause(a):this.aurora.active?this._aurora_pause(a):this.flash.active&&this._flash_pause(a):this._urlNotSetError("pause")},tellOthers:function(b,c){var d=this,e="function"==typeof c,f=Array.prototype.slice.call(arguments);"string"==typeof b&&(e&&f.splice(1,1),a.jPlayer.prototype.destroyRemoved(),a.each(this.instances,function(){d.element!==this&&(!e||c.call(this.data("jPlayer"),d))&&this.jPlayer.apply(this,f)}))},pauseOthers:function(a){this.tellOthers("pause",function(){return this.status.srcSet},a)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(a){a=this._limitValue(a,0,100),this.status.srcSet?this.html.active?this._html_playHead(a):this.aurora.active?this._aurora_playHead(a):this.flash.active&&this._flash_playHead(a):this._urlNotSetError("playHead")},_muted:function(a){this.mutedWorker(a),this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},a)},mutedWorker:function(b){this.options.muted=b,this.html.used&&this._html_setProperty("muted",b),this.aurora.used&&this._aurora_mute(b),this.flash.used&&this._flash_mute(b),this.html.video.gate||this.html.audio.gate||(this._updateMute(b),this._updateVolume(this.options.volume),this._trigger(a.jPlayer.event.volumechange))},mute:function(a){var c="object"==typeof a;c&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(a=a===b||!!a,this._muted(a))},unmute:function(a){a=a===b||!!a,this._muted(!a)},_updateMute:function(a){a===b&&(a=this.options.muted),a?this.addStateClass("muted"):this.removeStateClass("muted"),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):a?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(a){this.volumeWorker(a),this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},a)},volumeWorker:function(b){b=this._limitValue(b,0,1),this.options.volume=b,this.html.used&&this._html_setProperty("volume",b),this.aurora.used&&this._aurora_volume(b),this.flash.used&&this._flash_volume(b),this.html.video.gate||this.html.audio.gate||(this._updateVolume(b),this._trigger(a.jPlayer.event.volumechange))},volumeBar:function(b){if(this.css.jq.volumeBar.length){var c=a(b.currentTarget),d=c.offset(),e=b.pageX-d.left,f=c.width(),g=c.height()-b.pageY+d.top,h=c.height();this.volume(this.options.verticalVolume?g/h:e/f)}this.options.muted&&this._muted(!1)},_updateVolume:function(a){a===b&&(a=this.options.volume),a=this.options.muted?0:a,this.status.noVolume?(this.addStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*a+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(b){var c=this;this.options.cssSelectorAncestor=b,this._removeUiClass(),this.ancestorJq=b?a(b):[],b&&1!==this.ancestorJq.length&&this._warning({type:a.jPlayer.warning.CSS_SELECTOR_COUNT,context:b,message:a.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:a.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),a.each(this.options.cssSelector,function(a,b){c._cssSelector(a,b)}),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(b,c){var d=this;if("string"==typeof c)if(a.jPlayer.prototype.options.cssSelector[b]){if(this.css.jq[b]&&this.css.jq[b].length&&this.css.jq[b].unbind(".jPlayer"),this.options.cssSelector[b]=c,this.css.cs[b]=this.options.cssSelectorAncestor+" "+c,this.css.jq[b]=c?a(this.css.cs[b]):[],this.css.jq[b].length&&this[b]){var e=function(c){c.preventDefault(),d[b](c),d.options.autoBlur?a(this).blur():a(this).focus()};this.css.jq[b].bind("click.jPlayer",e)}c&&1!==this.css.jq[b].length&&this._warning({type:a.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[b],message:a.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[b].length+" found for "+b+" method.",hint:a.jPlayer.warningHint.CSS_SELECTOR_COUNT})}else this._warning({type:a.jPlayer.warning.CSS_SELECTOR_METHOD,context:b,message:a.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:a.jPlayer.warningHint.CSS_SELECTOR_METHOD});else this._warning({type:a.jPlayer.warning.CSS_SELECTOR_STRING,context:c,message:a.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:a.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(a){this.options.toggleDuration&&(this.options.captureDuration&&a.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(b){if(this.css.jq.seekBar.length){var c=a(b.currentTarget),d=c.offset(),e=b.pageX-d.left,f=c.width(),g=100*e/f;this.playHead(g)}},playbackRate:function(a){this._setOption("playbackRate",a)},playbackRateBar:function(b){if(this.css.jq.playbackRateBar.length){var c,d,e=a(b.currentTarget),f=e.offset(),g=b.pageX-f.left,h=e.width(),i=e.height()-b.pageY+f.top,j=e.height();c=this.options.verticalPlaybackRate?i/j:g/h,d=c*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate,this.playbackRate(d)}},_updatePlaybackRate:function(){var a=this.options.playbackRate,b=(a-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*b+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(a){var b="object"==typeof a;this._loop(!(b&&this.options.useStateClassSkin&&this.options.loop))},repeatOff:function(){this._loop(!1)},_loop:function(b){this.options.loop!==b&&(this.options.loop=b,this._updateButtons(),this._trigger(a.jPlayer.event.repeat))},option:function(c,d){var e=c;if(0===arguments.length)return a.extend(!0,{},this.options);if("string"==typeof c){var f=c.split(".");if(d===b){for(var g=a.extend(!0,{},this.options),h=0;h<f.length;h++){if(g[f[h]]===b)return this._warning({type:a.jPlayer.warning.OPTION_KEY,context:c,message:a.jPlayer.warningMsg.OPTION_KEY,hint:a.jPlayer.warningHint.OPTION_KEY}),b;g=g[f[h]]}return g}e={};for(var i=e,j=0;j<f.length;j++)j<f.length-1?(i[f[j]]={},i=i[f[j]]):i[f[j]]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(b,c){var d=this;switch(b){case"volume":this.volume(c);break;case"muted":this._muted(c);break;case"globalVolume":this.options[b]=c;break;case"cssSelectorAncestor":this._cssSelectorAncestor(c);break;case"cssSelector":a.each(c,function(a,b){d._cssSelector(a,b)});break;case"playbackRate":this.options[b]=c=this._limitValue(c,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",c),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[b]=c=this._limitValue(c,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",c),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[b]=c=this._limitValue(c,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[b]=c=this._limitValue(c,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[b]!==c){var e=a.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!e||e&&!this.status.waitForPlay)&&(e||(this.options[b]=c),c?this._requestFullscreen():this._exitFullscreen(),e||this._setOption("fullWindow",c))}break;case"fullWindow":this.options[b]!==c&&(this._removeUiClass(),this.options[b]=c,this._refreshSize());break;case"size":this.options.fullWindow||this.options[b].cssClass===c.cssClass||this._removeUiClass(),this.options[b]=a.extend({},this.options[b],c),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[b].cssClass!==c.cssClass&&this._removeUiClass(),this.options[b]=a.extend({},this.options[b],c),this._refreshSize();break;case"autohide":this.options[b]=a.extend({},this.options[b],c),this._updateAutohide();break;case"loop":this._loop(c);break;case"remainingDuration":this.options[b]=c,this._updateInterface();break;case"toggleDuration":this.options[b]=c;break;case"nativeVideoControls":this.options[b]=a.extend({},this.options[b],c),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[b]=a.extend({},this.options[b],c),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[b]=a.extend({},this.options[b],c),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[b]!==c&&(this.options[b]=c,c?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[b]=a.extend({},this.options[b],c);break;case"keyEnabled":this.options[b]=c,c||this!==a.jPlayer.focus||(a.jPlayer.focus=null);break;case"keyBindings":this.options[b]=a.extend(!0,{},this.options[b],c);break;case"audioFullScreen":this.options[b]=c;break;case"autoBlur":this.options[b]=c}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(a.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var a=this,b="mousemove.jPlayer",c=".jPlayerAutohide",d=b+c,e=function(b){var c,d,e=!1;"undefined"!=typeof a.internal.mouse?(c=a.internal.mouse.x-b.pageX,d=a.internal.mouse.y-b.pageY,e=Math.floor(c)>0||Math.floor(d)>0):e=!0,a.internal.mouse={x:b.pageX,y:b.pageY},e&&a.css.jq.gui.fadeIn(a.options.autohide.fadeIn,function(){clearTimeout(a.internal.autohideId),a.internal.autohideId=setTimeout(function(){a.css.jq.gui.fadeOut(a.options.autohide.fadeOut)},a.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),
delete this.internal.mouse,this.element.unbind(c),this.css.jq.gui.unbind(c),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(d,e),this.css.jq.gui.bind(d,e),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(a){var b="object"==typeof a;b&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var b=this,c=a.jPlayer.nativeFeatures.fullscreen;c.api.fullscreenEnabled&&c.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){b._fullscreenchange()}),document.addEventListener(c.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var b=a.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(b.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!a.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var b=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],c=a.jPlayer.nativeFeatures.fullscreen;c.used.webkitVideo&&(b=this.htmlElement.video),c.api.fullscreenEnabled&&c.api.requestFullscreen(b)},_exitFullscreen:function(){var b,c=a.jPlayer.nativeFeatures.fullscreen;c.used.webkitVideo&&(b=this.htmlElement.video),c.api.fullscreenEnabled&&c.api.exitFullscreen(b)},_html_initMedia:function(b){var c=a(this.htmlElement.media).empty();a.each([],function(a,b){var d=document.createElement("track");d.setAttribute("kind",b.kind?b.kind:""),d.setAttribute("src",b.src?b.src:""),d.setAttribute("srclang",b.srclang?b.srclang:""),d.setAttribute("label",b.label?b.label:""),b.def&&d.setAttribute("default",b.def),c.append(d)}),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(a.jPlayer.event.timeupdate)},_html_setFormat:function(b){var c=this;a.each(this.formats,function(a,d){return c.html.support[d]&&b[d]?(c.status.src=b[d],c.status.format[d]=!0,c.status.formatType=d,!1):void 0})},_html_setAudio:function(a){this._html_setFormat(a),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(a)},_html_setVideo:function(a){this._html_setFormat(a),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(a.poster)?a.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(a)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(a){var b=this,c=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=a;else if(isNaN(a))c.play();else{this.internal.cmdsIgnored&&c.play();try{if(c.seekable&&!("object"==typeof c.seekable&&c.seekable.length>0))throw 1;c.currentTime=a,c.play()}catch(d){return void(this.internal.htmlDlyCmdId=setTimeout(function(){b.play(a)},250))}}this._html_checkWaitForPlay()},_html_pause:function(a){var b=this,c=this.htmlElement.media;if(this.androidFix.play=!1,a>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),c.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=a;else if(!isNaN(a))try{if(c.seekable&&!("object"==typeof c.seekable&&c.seekable.length>0))throw 1;c.currentTime=a}catch(d){return void(this.internal.htmlDlyCmdId=setTimeout(function(){b.pause(a)},250))}a>0&&this._html_checkWaitForPlay()},_html_playHead:function(a){var b=this,c=this.htmlElement.media;this._html_load();try{if("object"==typeof c.seekable&&c.seekable.length>0)c.currentTime=a*c.seekable.end(c.seekable.length-1)/100;else{if(!(c.duration>0)||isNaN(c.duration))throw"e";c.currentTime=a*c.duration/100}}catch(d){return void(this.internal.htmlDlyCmdId=setTimeout(function(){b.playHead(a)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(a,b){this.html.audio.available&&(this.htmlElement.audio[a]=b),this.html.video.available&&(this.htmlElement.video[a]=b)},_aurora_setAudio:function(b){var c=this;a.each(this.formats,function(a,d){return c.aurora.support[d]&&b[d]?(c.status.src=b[d],c.status.format[d]=!0,c.status.formatType=d,!1):void 0}),this.aurora.player=new AV.Player.fromURL(this.status.src),this._addAuroraEventListeners(this.aurora.player,this.aurora),"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(b){this.status.waitForLoad||isNaN(b)||this.aurora.player.seek(b),this.aurora.player.playing||this.aurora.player.play(),this.status.waitForLoad=!1,this._aurora_checkWaitForPlay(),this._updateButtons(!0),this._trigger(a.jPlayer.event.play)},_aurora_pause:function(b){isNaN(b)||this.aurora.player.seek(1e3*b),this.aurora.player.pause(),b>0&&this._aurora_checkWaitForPlay(),this._updateButtons(!1),this._trigger(a.jPlayer.event.pause)},_aurora_playHead:function(a){this.aurora.player.duration>0&&this.aurora.player.seek(a*this.aurora.player.duration/100),this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(a){this.aurora.player.volume=100*a},_aurora_mute:function(a){a?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume,this.aurora.properties.muted=a},_flash_setAudio:function(b){var c=this;try{a.each(this.formats,function(a,d){if(c.flash.support[d]&&b[d]){switch(d){case"m4a":case"fla":c._getMovie().fl_setAudio_m4a(b[d]);break;case"mp3":c._getMovie().fl_setAudio_mp3(b[d]);break;case"rtmpa":c._getMovie().fl_setAudio_rtmp(b[d])}return c.status.src=b[d],c.status.format[d]=!0,c.status.formatType=d,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(d){this._flashError(d)}},_flash_setVideo:function(b){var c=this;try{a.each(this.formats,function(a,d){if(c.flash.support[d]&&b[d]){switch(d){case"m4v":case"flv":c._getMovie().fl_setVideo_m4v(b[d]);break;case"rtmpv":c._getMovie().fl_setVideo_rtmp(b[d])}return c.status.src=b[d],c.status.format[d]=!0,c.status.formatType=d,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(d){this._flashError(d)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(a){this._flashError(a)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(a){this._flashError(a)}this.status.waitForLoad=!1},_flash_play:function(a){try{this._getMovie().fl_play(a)}catch(b){this._flashError(b)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(a){try{this._getMovie().fl_pause(a)}catch(b){this._flashError(b)}a>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(a){try{this._getMovie().fl_play_head(a)}catch(b){this._flashError(b)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(a){try{this._getMovie().fl_volume(a)}catch(b){this._flashError(b)}},_flash_mute:function(a){try{this._getMovie().fl_mute(a)}catch(b){this._flashError(b)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var a,b=0;if(window.ActiveXObject)try{if(a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var c=a.GetVariable("$version");c&&(c=c.split(" ")[1].split(","),b=parseInt(c[0],10)+"."+parseInt(c[1],10))}}catch(d){}else navigator.plugins&&navigator.mimeTypes.length>0&&(a=navigator.plugins["Shockwave Flash"],a&&(b=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")));return 1*b},_checkForFlash:function(a){var b=!1;return this._getFlashPluginVersion()>=a&&(b=!0),b},_validString:function(a){return a&&"string"==typeof a},_limitValue:function(a,b,c){return b>a?b:a>c?c:a},_urlNotSetError:function(b){this._error({type:a.jPlayer.error.URL_NOT_SET,context:b,message:a.jPlayer.errorMsg.URL_NOT_SET,hint:a.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(b){var c;c=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:a.jPlayer.error[c],context:this.internal.flash.swf,message:a.jPlayer.errorMsg[c]+b.message,hint:a.jPlayer.errorHint[c]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(b){this._trigger(a.jPlayer.event.error,b),this.options.errorAlerts&&this._alert("Error!"+(b.message?"\n"+b.message:"")+(b.hint?"\n"+b.hint:"")+"\nContext: "+b.context)},_warning:function(c){this._trigger(a.jPlayer.event.warning,b,c),this.options.warningAlerts&&this._alert("Warning!"+(c.message?"\n"+c.message:"")+(c.hint?"\n"+c.hint:"")+"\nContext: "+c.context)},_alert:function(a){var b="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+a;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(b):alert(b)},_emulateHtmlBridge:function(){var b=this;a.each(a.jPlayer.emulateMethods.split(/\s+/g),function(a,c){b.internal.domNode[c]=function(a){b[c](a)}}),a.each(a.jPlayer.event,function(c,d){var e=!0;a.each(a.jPlayer.reservedEvent.split(/\s+/g),function(a,b){return b===c?(e=!1,!1):void 0}),e&&b.element.bind(d+".jPlayer.jPlayerHtml",function(){b._emulateHtmlUpdate();var a=document.createEvent("Event");a.initEvent(c,!1,!0),b.internal.domNode.dispatchEvent(a)})})},_emulateHtmlUpdate:function(){var b=this;a.each(a.jPlayer.emulateStatus.split(/\s+/g),function(a,c){b.internal.domNode[c]=b.status[c]}),a.each(a.jPlayer.emulateOptions.split(/\s+/g),function(a,c){b.internal.domNode[c]=b.options[c]})},_destroyHtmlBridge:function(){var b=this;this.element.unbind(".jPlayerHtml");var c=a.jPlayer.emulateMethods+" "+a.jPlayer.emulateStatus+" "+a.jPlayer.emulateOptions;a.each(c.split(/\s+/g),function(a,c){delete b.internal.domNode[c]})}},a.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},a.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+a.jPlayer.prototype.version.script+" needs Jplayer.swf version "+a.jPlayer.prototype.version.needFlash+" but found "},a.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},a.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},a.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},a.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;c<f;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;c<f;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;d<c;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,!b||"function"==typeof b||"object"==typeof b&&"number"==typeof b.length)return str("",{"":a});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(a,b){"use strict";var c=a.History=a.History||{},d=a.jQuery;if("undefined"!=typeof c.Adapter)throw new Error("History.js Adapter has already been loaded...");c.Adapter={bind:function(a,b,c){d(a).bind(b,c)},trigger:function(a,b,c){d(a).trigger(b,c)},extractEventData:function(a,c,d){var e=c&&c.originalEvent&&c.originalEvent[a]||d&&d[a]||b;return e},onDomLoad:function(a){d(a)}},"undefined"!=typeof c.init&&c.init()}(window),function(a,b){"use strict";var c=a.document,d=a.setTimeout||d,e=a.clearTimeout||e,f=a.setInterval||f,g=a.History=a.History||{};if("undefined"!=typeof g.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");g.initHtml4=function(){return"undefined"==typeof g.initHtml4.initialized&&(g.initHtml4.initialized=!0,g.enabled=!0,g.savedHashes=[],g.isLastHash=function(a){var b,c=g.getHashByIndex();return b=a===c},g.isHashEqual=function(a,b){return a=encodeURIComponent(a).replace(/%25/g,"%"),b=encodeURIComponent(b).replace(/%25/g,"%"),a===b},g.saveHash=function(a){return!g.isLastHash(a)&&(g.savedHashes.push(a),!0)},g.getHashByIndex=function(a){var b=null;return b="undefined"==typeof a?g.savedHashes[g.savedHashes.length-1]:a<0?g.savedHashes[g.savedHashes.length+a]:g.savedHashes[a]},g.discardedHashes={},g.discardedStates={},g.discardState=function(a,b,c){var d,e=g.getHashByState(a);return d={discardedState:a,backState:c,forwardState:b},g.discardedStates[e]=d,!0},g.discardHash=function(a,b,c){var d={discardedHash:a,backState:c,forwardState:b};return g.discardedHashes[a]=d,!0},g.discardedState=function(a){var b,c=g.getHashByState(a);return b=g.discardedStates[c]||!1},g.discardedHash=function(a){var b=g.discardedHashes[a]||!1;return b},g.recycleState=function(a){var b=g.getHashByState(a);return g.discardedState(a)&&delete g.discardedStates[b],!0},g.emulated.hashChange&&(g.hashChangeInit=function(){g.checkerFunction=null;var b,d,e,h,i="",j=Boolean(g.getHash());return g.isInternetExplorer()?(b="historyjs-iframe",d=c.createElement("iframe"),d.setAttribute("id",b),d.setAttribute("src","#"),d.style.display="none",c.body.appendChild(d),d.contentWindow.document.open(),d.contentWindow.document.close(),e="",h=!1,g.checkerFunction=function(){if(h)return!1;h=!0;var b=g.getHash(),c=g.getHash(d.contentWindow.document);return b!==i?(i=b,c!==b&&(e=c=b,d.contentWindow.document.open(),d.contentWindow.document.close(),d.contentWindow.document.location.hash=g.escapeHash(b)),g.Adapter.trigger(a,"hashchange")):c!==e&&(e=c,j&&""===c?g.back():g.setHash(c,!1)),h=!1,!0}):g.checkerFunction=function(){var b=g.getHash()||"";return b!==i&&(i=b,g.Adapter.trigger(a,"hashchange")),!0},g.intervalList.push(f(g.checkerFunction,g.options.hashChangeInterval)),!0},g.Adapter.onDomLoad(g.hashChangeInit)),g.emulated.pushState&&(g.onHashChange=function(b){var c,d=b&&b.newURL||g.getLocationHref(),e=g.getHashByUrl(d),f=null,h=null;return g.isLastHash(e)?(g.busy(!1),!1):(g.doubleCheckComplete(),g.saveHash(e),e&&g.isTraditionalAnchor(e)?(g.Adapter.trigger(a,"anchorchange"),g.busy(!1),!1):(f=g.extractState(g.getFullUrl(e||g.getLocationHref()),!0),g.isLastSavedState(f)?(g.busy(!1),!1):(h=g.getHashByState(f),c=g.discardedState(f),c?(g.getHashByIndex(-2)===g.getHashByState(c.forwardState)?g.back(!1):g.forward(!1),!1):(g.pushState(f.data,f.title,encodeURI(f.url),!1),!0))))},g.Adapter.bind(a,"hashchange",g.onHashChange),g.pushState=function(b,c,d,e){if(d=encodeURI(d).replace(/%25/g,"%"),g.getHashByUrl(d))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(e!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.pushState,args:arguments,queue:e}),!1;g.busy(!0);var f=g.createStateObject(b,c,d),h=g.getHashByState(f),i=g.getState(!1),j=g.getHashByState(i),k=g.getHash(),l=g.expectedStateId==f.id;return g.storeState(f),g.expectedStateId=f.id,g.recycleState(f),g.setTitle(f),h===j?(g.busy(!1),!1):(g.saveState(f),l||g.Adapter.trigger(a,"statechange"),!g.isHashEqual(h,k)&&!g.isHashEqual(h,g.getShortUrl(g.getLocationHref()))&&g.setHash(h,!1),g.busy(!1),!0)},g.replaceState=function(b,c,d,e){if(d=encodeURI(d).replace(/%25/g,"%"),g.getHashByUrl(d))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(e!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.replaceState,args:arguments,queue:e}),!1;g.busy(!0);var f=g.createStateObject(b,c,d),h=g.getHashByState(f),i=g.getState(!1),j=g.getHashByState(i),k=g.getStateByIndex(-2);return g.discardState(i,f,k),h===j?(g.storeState(f),g.expectedStateId=f.id,g.recycleState(f),g.setTitle(f),g.saveState(f),g.Adapter.trigger(a,"statechange"),g.busy(!1)):g.pushState(f.data,f.title,f.url,!1),!0}),g.emulated.pushState&&g.getHash()&&!g.emulated.hashChange&&g.Adapter.onDomLoad(function(){g.Adapter.trigger(a,"hashchange")}),void 0)},"undefined"!=typeof g.init&&g.init()}(window),function(a,b){"use strict";var c=a.console||b,d=a.document,e=a.navigator,f=!1,g=a.setTimeout,h=a.clearTimeout,i=a.setInterval,j=a.clearInterval,k=a.JSON,l=a.alert,m=a.History=a.History||{},n=a.history;try{f=a.sessionStorage,f.setItem("TEST","1"),f.removeItem("TEST")}catch(o){f=!1}if(k.stringify=k.stringify||k.encode,k.parse=k.parse||k.decode,"undefined"!=typeof m.init)throw new Error("History.js Core has already been loaded...");m.init=function(a){return"undefined"!=typeof m.Adapter&&("undefined"!=typeof m.initCore&&m.initCore(),"undefined"!=typeof m.initHtml4&&m.initHtml4(),!0)},m.initCore=function(o){if("undefined"!=typeof m.initCore.initialized)return!1;if(m.initCore.initialized=!0,m.options=m.options||{},m.options.hashChangeInterval=m.options.hashChangeInterval||100,m.options.safariPollInterval=m.options.safariPollInterval||500,m.options.doubleCheckInterval=m.options.doubleCheckInterval||500,m.options.disableSuid=m.options.disableSuid||!1,m.options.storeInterval=m.options.storeInterval||1e3,m.options.busyDelay=m.options.busyDelay||250,m.options.debug=m.options.debug||!1,m.options.initialTitle=m.options.initialTitle||d.title,m.options.html4Mode=m.options.html4Mode||!1,m.options.delayInit=m.options.delayInit||!1,m.intervalList=[],m.clearAllIntervals=function(){var a,b=m.intervalList;if("undefined"!=typeof b&&null!==b){for(a=0;a<b.length;a++)j(b[a]);m.intervalList=null}},m.debug=function(){(m.options.debug||!1)&&m.log.apply(m,arguments)},m.log=function(){var a,b,e,f,g,h="undefined"!=typeof c&&"undefined"!=typeof c.log&&"undefined"!=typeof c.log.apply,i=d.getElementById("log");for(h?(f=Array.prototype.slice.call(arguments),a=f.shift(),"undefined"!=typeof c.debug?c.debug.apply(c,[a,f]):c.log.apply(c,[a,f])):a="\n"+arguments[0]+"\n",b=1,e=arguments.length;b<e;++b){if(g=arguments[b],"object"==typeof g&&"undefined"!=typeof k)try{g=k.stringify(g)}catch(j){}a+="\n"+g+"\n"}return i?(i.value+=a+"\n-----\n",i.scrollTop=i.scrollHeight-i.clientHeight):h||l(a),!0},m.getInternetExplorerMajorVersion=function(){var a=m.getInternetExplorerMajorVersion.cached="undefined"!=typeof m.getInternetExplorerMajorVersion.cached?m.getInternetExplorerMajorVersion.cached:function(){for(var a=3,b=d.createElement("div"),c=b.getElementsByTagName("i");(b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->")&&c[0];);return a>4&&a}();return a},m.isInternetExplorer=function(){var a=m.isInternetExplorer.cached="undefined"!=typeof m.isInternetExplorer.cached?m.isInternetExplorer.cached:Boolean(m.getInternetExplorerMajorVersion());return a},m.options.html4Mode?m.emulated={pushState:!0,hashChange:!0}:m.emulated={pushState:!Boolean(a.history&&a.history.pushState&&a.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(e.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(e.userAgent)),hashChange:Boolean(!("onhashchange"in a||"onhashchange"in d)||m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8)},m.enabled=!m.emulated.pushState,m.bugs={setHash:Boolean(!m.emulated.pushState&&"Apple Computer, Inc."===e.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),safariPoll:Boolean(!m.emulated.pushState&&"Apple Computer, Inc."===e.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),ieDoubleCheck:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<7)},m.isEmptyObject=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},m.cloneObject=function(a){var b,c;return a?(b=k.stringify(a),c=k.parse(b)):c={},c},m.getRootUrl=function(){var a=d.location.protocol+"//"+(d.location.hostname||d.location.host);return d.location.port&&(a+=":"+d.location.port),a+="/"},m.getBaseHref=function(){var a=d.getElementsByTagName("base"),b=null,c="";return 1===a.length&&(b=a[0],c=b.href.replace(/[^\/]+$/,"")),c=c.replace(/\/+$/,""),c&&(c+="/"),c},m.getBaseUrl=function(){var a=m.getBaseHref()||m.getBasePageUrl()||m.getRootUrl();return a},m.getPageUrl=function(){var a,b=m.getState(!1,!1),c=(b||{}).url||m.getLocationHref();return a=c.replace(/\/+$/,"").replace(/[^\/]+$/,function(a,b,c){return/\./.test(a)?a:a+"/"})},m.getBasePageUrl=function(){var a=m.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a,b,c){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/";return a},m.getFullUrl=function(a,b){var c=a,d=a.substring(0,1);return b="undefined"==typeof b||b,/[a-z]+\:\/\//.test(a)||(c="/"===d?m.getRootUrl()+a.replace(/^\/+/,""):"#"===d?m.getPageUrl().replace(/#.*/,"")+a:"?"===d?m.getPageUrl().replace(/[\?#].*/,"")+a:b?m.getBaseUrl()+a.replace(/^(\.\/)+/,""):m.getBasePageUrl()+a.replace(/^(\.\/)+/,"")),c.replace(/\#$/,"")},m.getShortUrl=function(a){var b=a,c=m.getBaseUrl(),d=m.getRootUrl();return m.emulated.pushState&&(b=b.replace(c,"")),b=b.replace(d,"/"),m.isTraditionalAnchor(b)&&(b="./"+b),b=b.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},m.getLocationHref=function(a){return a=a||d,a.URL===a.location.href?a.location.href:a.location.href===decodeURIComponent(a.URL)?a.URL:a.location.hash&&decodeURIComponent(a.location.href.replace(/^[^#]+/,""))===a.location.hash?a.location.href:a.URL.indexOf("#")==-1&&a.location.href.indexOf("#")!=-1?a.location.href:a.URL||a.location.href},m.store={},m.idToState=m.idToState||{},m.stateToId=m.stateToId||{},m.urlToId=m.urlToId||{},m.storedStates=m.storedStates||[],m.savedStates=m.savedStates||[],m.normalizeStore=function(){m.store.idToState=m.store.idToState||{},m.store.urlToId=m.store.urlToId||{},m.store.stateToId=m.store.stateToId||{}},m.getState=function(a,b){"undefined"==typeof a&&(a=!0),"undefined"==typeof b&&(b=!0);var c=m.getLastSavedState();return!c&&b&&(c=m.createStateObject()),a&&(c=m.cloneObject(c),c.url=c.cleanUrl||c.url),c},m.getIdByState=function(a){var b,c=m.extractId(a.url);if(!c)if(b=m.getStateString(a),"undefined"!=typeof m.stateToId[b])c=m.stateToId[b];else if("undefined"!=typeof m.store.stateToId[b])c=m.store.stateToId[b];else{for(;c=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof m.idToState[c]||"undefined"!=typeof m.store.idToState[c];);m.stateToId[b]=c,m.idToState[c]=a}return c},m.normalizeState=function(a){var b,c;return a&&"object"==typeof a||(a={}),"undefined"!=typeof a.normalized?a:(a.data&&"object"==typeof a.data||(a.data={}),b={},b.normalized=!0,b.title=a.title||"",b.url=m.getFullUrl(a.url?a.url:m.getLocationHref()),b.hash=m.getShortUrl(b.url),b.data=m.cloneObject(a.data),b.id=m.getIdByState(b),b.cleanUrl=b.url.replace(/\??\&_suid.*/,""),b.url=b.cleanUrl,c=!m.isEmptyObject(b.data),(b.title||c)&&m.options.disableSuid!==!0&&(b.hash=m.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||(b.hash+="?"),b.hash+="&_suid="+b.id),b.hashedUrl=m.getFullUrl(b.hash),(m.emulated.pushState||m.bugs.safariPoll)&&m.hasUrlDuplicate(b)&&(b.url=b.hashedUrl),b)},m.createStateObject=function(a,b,c){var d={data:a,title:b,url:c};return d=m.normalizeState(d)},m.getStateById=function(a){a=String(a);var c=m.idToState[a]||m.store.idToState[a]||b;return c},m.getStateString=function(a){var b,c,d;return b=m.normalizeState(a),c={data:b.data,title:a.title,url:a.url},d=k.stringify(c)},m.getStateId=function(a){var b,c;return b=m.normalizeState(a),c=b.id},m.getHashByState=function(a){var b,c;return b=m.normalizeState(a),c=b.hash},m.extractId=function(a){var b,c,d,e;return e=a.indexOf("#")!=-1?a.split("#")[0]:a,c=/(.*)\&_suid=([0-9]+)$/.exec(e),d=c?c[1]||a:a,b=c?String(c[2]||""):"",b||!1},m.isTraditionalAnchor=function(a){var b=!/[\/\?\.]/.test(a);return b},m.extractState=function(a,b){var c,d,e=null;return b=b||!1,c=m.extractId(a),c&&(e=m.getStateById(c)),e||(d=m.getFullUrl(a),c=m.getIdByUrl(d)||!1,c&&(e=m.getStateById(c)),!e&&b&&!m.isTraditionalAnchor(a)&&(e=m.createStateObject(null,null,d))),e},m.getIdByUrl=function(a){var c=m.urlToId[a]||m.store.urlToId[a]||b;return c},m.getLastSavedState=function(){return m.savedStates[m.savedStates.length-1]||b},m.getLastStoredState=function(){return m.storedStates[m.storedStates.length-1]||b},m.hasUrlDuplicate=function(a){var b,c=!1;return b=m.extractState(a.url),c=b&&b.id!==a.id},m.storeState=function(a){return m.urlToId[a.url]=a.id,m.storedStates.push(m.cloneObject(a)),a},m.isLastSavedState=function(a){var b,c,d,e=!1;return m.savedStates.length&&(b=a.id,c=m.getLastSavedState(),d=c.id,e=b===d),e},m.saveState=function(a){return!m.isLastSavedState(a)&&(m.savedStates.push(m.cloneObject(a)),!0)},m.getStateByIndex=function(a){var b=null;return b="undefined"==typeof a?m.savedStates[m.savedStates.length-1]:a<0?m.savedStates[m.savedStates.length+a]:m.savedStates[a]},m.getCurrentIndex=function(){var a=null;return a=m.savedStates.length<1?0:m.savedStates.length-1},m.getHash=function(a){var b,c=m.getLocationHref(a);return b=m.getHashByUrl(c)},m.unescapeHash=function(a){var b=m.normalizeHash(a);return b=decodeURIComponent(b)},m.normalizeHash=function(a){var b=a.replace(/[^#]*#/,"").replace(/#.*/,"");return b},m.setHash=function(a,b){var c,e;return b!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.setHash,args:arguments,queue:b}),!1):(m.busy(!0),c=m.extractState(a,!0),c&&!m.emulated.pushState?m.pushState(c.data,c.title,c.url,!1):m.getHash()!==a&&(m.bugs.setHash?(e=m.getPageUrl(),m.pushState(null,null,e+"#"+a,!1)):d.location.hash=a),m)},m.escapeHash=function(b){var c=m.normalizeHash(b);return c=a.encodeURIComponent(c),m.bugs.hashEscape||(c=c.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),c},m.getHashByUrl=function(a){var b=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return b=m.unescapeHash(b)},m.setTitle=function(a){var b,c=a.title;c||(b=m.getStateByIndex(0),b&&b.url===a.url&&(c=b.title||m.options.initialTitle));try{d.getElementsByTagName("title")[0].innerHTML=c.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(e){}return d.title=c,m},m.queues=[],m.busy=function(a){if("undefined"!=typeof a?m.busy.flag=a:"undefined"==typeof m.busy.flag&&(m.busy.flag=!1),!m.busy.flag){h(m.busy.timeout);var b=function(){var a,c,d;if(!m.busy.flag)for(a=m.queues.length-1;a>=0;--a)c=m.queues[a],0!==c.length&&(d=c.shift(),m.fireQueueItem(d),m.busy.timeout=g(b,m.options.busyDelay))};m.busy.timeout=g(b,m.options.busyDelay)}return m.busy.flag},m.busy.flag=!1,m.fireQueueItem=function(a){return a.callback.apply(a.scope||m,a.args||[])},m.pushQueue=function(a){return m.queues[a.queue||0]=m.queues[a.queue||0]||[],m.queues[a.queue||0].push(a),m},m.queue=function(a,b){return"function"==typeof a&&(a={callback:a}),"undefined"!=typeof b&&(a.queue=b),m.busy()?m.pushQueue(a):m.fireQueueItem(a),m},m.clearQueue=function(){return m.busy.flag=!1,m.queues=[],m},m.stateChanged=!1,m.doubleChecker=!1,
m.doubleCheckComplete=function(){return m.stateChanged=!0,m.doubleCheckClear(),m},m.doubleCheckClear=function(){return m.doubleChecker&&(h(m.doubleChecker),m.doubleChecker=!1),m},m.doubleCheck=function(a){return m.stateChanged=!1,m.doubleCheckClear(),m.bugs.ieDoubleCheck&&(m.doubleChecker=g(function(){return m.doubleCheckClear(),m.stateChanged||a(),!0},m.options.doubleCheckInterval)),m},m.safariStatePoll=function(){var b,c=m.extractState(m.getLocationHref());if(!m.isLastSavedState(c))return b=c,b||(b=m.createStateObject()),m.Adapter.trigger(a,"popstate"),m},m.back=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.back,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.back(!1)}),n.go(-1),!0)},m.forward=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.forward,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.forward(!1)}),n.go(1),!0)},m.go=function(a,b){var c;if(a>0)for(c=1;c<=a;++c)m.forward(b);else{if(!(a<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(c=-1;c>=a;--c)m.back(b)}return m},m.emulated.pushState){var p=function(){};m.pushState=m.pushState||p,m.replaceState=m.replaceState||p}else m.onPopState=function(b,c){var d,e,f=!1,g=!1;return m.doubleCheckComplete(),d=m.getHash(),d?(e=m.extractState(d||m.getLocationHref(),!0),e?m.replaceState(e.data,e.title,e.url,!1):(m.Adapter.trigger(a,"anchorchange"),m.busy(!1)),m.expectedStateId=!1,!1):(f=m.Adapter.extractEventData("state",b,c)||!1,g=f?m.getStateById(f):m.expectedStateId?m.getStateById(m.expectedStateId):m.extractState(m.getLocationHref()),g||(g=m.createStateObject(null,null,m.getLocationHref())),m.expectedStateId=!1,m.isLastSavedState(g)?(m.busy(!1),!1):(m.storeState(g),m.saveState(g),m.setTitle(g),m.Adapter.trigger(a,"statechange"),m.busy(!1),!0))},m.Adapter.bind(a,"popstate",m.onPopState),m.pushState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.pushState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.pushState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0},m.replaceState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.replaceState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.replaceState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0};if(f){try{m.store=k.parse(f.getItem("History.store"))||{}}catch(q){m.store={}}m.normalizeStore()}else m.store={},m.normalizeStore();m.Adapter.bind(a,"unload",m.clearAllIntervals),m.saveState(m.storeState(m.extractState(m.getLocationHref(),!0))),f&&(m.onUnload=function(){var a,b,c;try{a=k.parse(f.getItem("History.store"))||{}}catch(d){a={}}a.idToState=a.idToState||{},a.urlToId=a.urlToId||{},a.stateToId=a.stateToId||{};for(b in m.idToState)m.idToState.hasOwnProperty(b)&&(a.idToState[b]=m.idToState[b]);for(b in m.urlToId)m.urlToId.hasOwnProperty(b)&&(a.urlToId[b]=m.urlToId[b]);for(b in m.stateToId)m.stateToId.hasOwnProperty(b)&&(a.stateToId[b]=m.stateToId[b]);m.store=a,m.normalizeStore(),c=k.stringify(a);try{f.setItem("History.store",c)}catch(e){if(e.code!==DOMException.QUOTA_EXCEEDED_ERR)throw e;f.length&&(f.removeItem("History.store"),f.setItem("History.store",c))}},m.intervalList.push(i(m.onUnload,m.options.storeInterval)),m.Adapter.bind(a,"beforeunload",m.onUnload),m.Adapter.bind(a,"unload",m.onUnload)),m.emulated.pushState||(m.bugs.safariPoll&&m.intervalList.push(i(m.safariStatePoll,m.options.safariPollInterval)),"Apple Computer, Inc."!==e.vendor&&"Mozilla"!==(e.appCodeName||"")||(m.Adapter.bind(a,"hashchange",function(){m.Adapter.trigger(a,"popstate")}),m.getHash()&&m.Adapter.onDomLoad(function(){m.Adapter.trigger(a,"hashchange")})))},(!m.options||!m.options.delayInit)&&m.init()}(window),function(a){a.fn.easyZoom=function(b){function c(){J=!1,setTimeout(function(){J||d(C)},I)}function d(b){H=!1,a("#"+K.id).remove(),a(".magnifier").remove();var c,d=a('<div id="'+K.id+'">'+K.preload+"</div>"),g=a('<div class="magnifier"></div>');!l&&a("#product-sidebar").hasClass("sticky")?c=a("#product-sidebar .preview").position().top:l||m?(l||m)&&(c=15):c=a("#product-sidebar .preview").offset().top-a("#product-wrapper").offset().top,l&&j(),m&&d.css("left","0"),a(b.currentTarget).parents('[data-index="0"]').length>0?d.appendTo(a(b.currentTarget).parents('[data-index="0"]').find(K.parent)):K.append?d.appendTo(K.parent):d.prependTo(K.parent),d=a("#zoom"),d.fadeIn(250).addClass("zoomWin"),d.css("top",c),l?g.appendTo(".js-ct-modal .zoom").fadeIn(250):g.appendTo(".zoom").fadeIn(250),G?(F?f(b):e(b),f(b)):h()}function e(a){F?(f(a),clearTimeout(p)):p=setTimeout(function(){e(a)},200)}function f(b){H=!0,a(E).css({position:"absolute",top:"0",left:"0"}),a("#"+K.id).html("").append(E),q=a("img",o).width(),u=a("img",o).height(),r=a("#"+K.id).width(),v=a("#"+K.id).height(),s=a(E).width(),w=a(E).height(),t=a(E).width()-r,x=a(E).height()-v,y=t/q,z=x/u;var c=a(".magnifier");A=q*r/s,B=u*v/w,A=Math.round(A),B=Math.round(B),c.css({width:A+"px",height:B+"px"}),i(b)}function g(){l&&k();try{H=!1,a("#"+K.id).fadeOut(180),a(".magnifier").fadeOut(180),setTimeout(function(){a("#"+K.id).remove(),a(".magnifier").remove()},181)}catch(b){}}function h(){a("#"+K.id).html(K.error)}function i(b){if(H){var c,d=a("img",o).offset(),e=b.pageX-d.left,f=b.pageY-d.top;c=a(b.currentTarget).offset();var g=b.pageX-c.left-A/2,h=b.pageY-c.top-B/2,i=b.pageX-(c.left-A/2),j=b.pageY-(c.top-B/2),k=e*y,l=f*z;k=k>t?t:k,l=l>x?x:l,a("#"+K.id+" img").css({left:k*-1,top:l*-1}),a(".magnifier").css({left:g,top:h}),g<0&&a(".magnifier").css("left",0),h<0&&a(".magnifier").css("top",0),0===a(b.currentTarget).width()&&a(b.currentTarget).hide(0).show(0),i>a(b.currentTarget).width()&&a(".magnifier").css({left:"auto",right:0}),j>a(b.currentTarget).height()&&a(".magnifier").css({top:"auto",bottom:0})}}function j(){a(".js-ct-modal").css("perspective","none")}function k(){a(".js-ct-modal").css("perspective","")}var l=a(this).parents(".js-ct-modal").length>0,m=a(this).parents(".ct-products-grid").length>0,n={id:"zoom",parent:"#product-sidebar",append:!0,preload:"Loading...",error:"There has been a problem with loading the image."};l?n.parent=".template-container":m&&(n.parent=".product-info");var o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E=new Image,F=!1,G=!0,H=!1,I=100,J=!1,K=a.extend(n,b);this.each(function(){var b=!1;o=this;var d=this.tagName.toLowerCase();if("a"===d||l||m){D=l?a(this).find(".img-preview").attr("src"):m?a(this).find(".img-preview").data("zoom"):a(this).attr("href"),a(o).on("mouseleave.easyzoom-pre-init",function(){J=!0,b=!0}),a(E).load(function(){F=!0,a(o).off("mouseleave.easyzoom-pre-init"),"s"!==MediaSaturn.mediaQuery.getScreenSize()&&e(),K.initialEvent&&"s"!==MediaSaturn.mediaQuery.getScreenSize()&&(C=K.initialEvent,c(),b&&g())}).error(function(){G=!1}).attr("src",D);var e=function(){function b(){a(document).one("mousemove.easyzoom",function(a){C=a,g()})}a(o).on("mouseleave.easyzoom",function(d){J=!0,C=d,g(),a(this).one("mousemove.easyzoom",function(a){C=a,c(),b(),a.stopPropagation()})}).on("mousemove.easyzoom",function(a){C=a,i(a),a.stopPropagation()}).one("mousemove.easyzoom",function(a){C=a,c(),b(),a.stopPropagation()})};a(window).resize(a.throttle(250,function(){"s"!==MediaSaturn.mediaQuery.getScreenSize()&&e(),"s"===MediaSaturn.mediaQuery.getScreenSize()&&a(o).unbind(".easyzoom")}))}})}}(jQuery),eval(function(a,b,c,d,e,f){if(e=function(a){return(a<b?"":e(parseInt(a/b)))+((a%=b)>35?String.fromCharCode(a+29):a.toString(36))},!"".replace(/^/,String)){for(;c--;)f[e(c)]=d[c]||e(c);d=[function(a){return f[a]}],e=function(){return"\\w+"},c=1}for(;c--;)d[c]&&(a=a.replace(new RegExp("\\b"+e(c)+"\\b","g"),d[c]));return a}(";5(1W.1C)(8($){5((!$.1s.1V&&!$.1s.1U))2d{1j.1X(\"1T\",C,s)}1R(e){};$.o.4=8(j){5(3.u==0)9 3;5(M V[0]=='1m'){5(3.u>1){7 k=V;9 3.18(8(){$.o.4.K($(3),k)})};$.o.4[V[0]].K(3,$.27(V).26(1)||[]);9 3};7 j=$.1b({},$.o.4.1w,j||{});$.o.4.P++;3.1y('.l-4-1g').p('l-4-1g').18(8(){7 b,m=$(3);7 c=(3.2g||'28-4').1f(/\\[|\\]/g,'Y').1f(/^\\Y+|\\Y+$/g,'');7 d=$(3.2h||1j.1H);7 e=d.6('4');5(!e||e.1o!=$.o.4.P)e={E:0,1o:$.o.4.P};7 f=e[c]||d.6('4'+c);5(f)b=f.6('4');5(f&&b)b.E++;R{b=$.1b({},j||{},($.1d?m.1d():($.25?m.6():w))||{},{E:0,L:[],v:[]});b.z=e.E++;f=$('<1G 13=\"l-4-1I\"/>');m.1J(f);f.p('4-12-11-10');5(m.Z('G')||m.14('G'))b.n=s;5(m.14('1c'))b.1c=s;f.1r(b.D=$('<W 13=\"4-D\"><a U=\"'+b.D+'\">'+b.1B+'</a></W>').q('1e',8(){$(3).4('N');$(3).p('l-4-T')}).q('1h',8(){$(3).4('x');$(3).I('l-4-T')}).q('1i',8(){$(3).4('y')}).6('4',b))};7 g=$('<W 20=\"21\" 22-24=\"'+3.U+'\" 13=\"l-4 t-'+b.z+'\"><a U=\"'+(3.U||3.1k)+'\">'+3.1k+'</a></W>');f.1r(g);5(3.X)g.Z('X',3.X);5(3.1x)g.p(3.1x);5(b.29)b.B=2;5(M b.B=='1l'&&b.B>0){7 h=($.o.15?g.15():0)||b.1n;7 i=(b.E%b.B),17=1K.1L(h/b.B);g.15(17).1M('a').1N({'1O-1P':'-'+(i*17)+'1Q'})};5(b.n)g.p('l-4-1p');R g.p('l-4-1S').q('1e',8(){$(3).4('1q');$(3).4('J')}).q('1h',8(){$(3).4('x');$(3).4('H')}).q('1i',8(){$(3).4('y')});5(3.S)b.r=g;5(3.1Y==\"A\"){5($(3).14('1Z'))b.r=g};m.1t();m.q('1u.4',8(a){5(a.1v)9 C;$(3).4('y')});g.6('4.m',m.6('4.l',g));b.L[b.L.u]=g[0];b.v[b.v.u]=m[0];b.t=e[c]=f;b.23=d;m.6('4',b);f.6('4',b);g.6('4',b);d.6('4',e);d.6('4'+c,f)});$('.4-12-11-10').4('x').I('4-12-11-10');9 3};$.1b($.o.4,{P:0,J:8(){7 a=3.6('4');5(!a)9 3;5(!a.J)9 3;7 b=$(3).6('4.m')||$(3.19=='1a'?3:w);5(a.J)a.J.K(b[0],[b.Q(),$('a',b.6('4.l'))[0]])},H:8(){7 a=3.6('4');5(!a)9 3;5(!a.H)9 3;7 b=$(3).6('4.m')||$(3.19=='1a'?3:w);5(a.H)a.H.K(b[0],[b.Q(),$('a',b.6('4.l'))[0]])},1q:8(){7 a=3.6('4');5(!a)9 3;5(a.n)9;3.4('N');3.1z().1A().O('.t-'+a.z).p('l-4-T')},N:8(){7 a=3.6('4');5(!a)9 3;5(a.n)9;a.t.2a().O('.t-'+a.z).I('l-4-q').I('l-4-T')},x:8(){7 a=3.6('4');5(!a)9 3;3.4('N');7 b=$(a.r);7 c=b.u?b.1z().1A().O('.t-'+a.z):w;5(c)c.p('l-4-q');a.D[a.n||a.1c?'1t':'2b']();3.2c()[a.n?'p':'I']('l-4-1p')},y:8(a,b){7 c=3.6('4');5(!c)9 3;5(c.n)9;c.r=w;5(M a!='F'||3.u>1){5(M a=='1l')9 $(c.L[a]).4('y',F,b);5(M a=='1m'){$.18(c.L,8(){5($(3).6('4.m').Q()==a)$(3).4('y',F,b)});9 3}}R{c.r=3[0].19=='1a'?3.6('4.l'):(3.2e('.t-'+c.z)?3:w)};3.6('4',c);3.4('x');7 d=$(c.r?c.r.6('4.m'):w);7 e=$(c.v).O(':S');7 f=$(c.v).1y(d);f.1D('S',C);d.1D('S',s);$(d.u?d:e).2f({1E:'1u',1v:s});5((b||b==F)&&c.1F)c.1F.K(d[0],[d.Q(),$('a',c.r)[0]]);9 3},n:8(a,b){7 c=3.6('4');5(!c)9 3;c.n=a||a==F?s:C;5(b)$(c.v).Z(\"G\",\"G\");R $(c.v).2i(\"G\");3.6('4',c);3.4('x')},2j:8(){3.4('n',s,s)},2k:8(){3.4('n',C,C)}});$.o.4.1w={D:'2l 2m',1B:'',B:0,1n:16};$(8(){$('m[1E=2n].l').4()})})(1C);",62,148,"|||this|rating|if|data|var|function|return||||||||||||star|input|readOnly|fn|addClass|on|current|true|rater|length|inputs|null|draw|select|serial||split|false|cancel|count|undefined|disabled|blur|removeClass|focus|apply|stars|typeof|drain|filter|calls|val|else|checked|hover|title|arguments|div|id|_|attr|drawn|be|to|class|hasClass|width||spw|each|tagName|INPUT|extend|required|metadata|mouseover|replace|applied|mouseout|click|document|value|number|string|starWidth|call|readonly|fill|append|support|hide|change|selfTriggered|options|className|not|prevAll|addBack|cancelValue|jQuery|prop|type|callback|span|body|control|before|Math|floor|find|css|margin|left|px|catch|live|BackgroundImageCache|style|opacity|window|execCommand|nodeName|selected|role|text|aria|context|label|meta|slice|makeArray|unnamed|half|children|show|siblings|try|is|trigger|name|form|removeAttr|disable|enable|Cancel|Rating|radio".split("|"),0,{})),!function(a){function b(a,b,c){var d=a.children(),f=!1;a.empty();for(var g=0,h=d.length;h>g;g++){var i=d.eq(g);if(a.append(i),c&&a.append(c),e(a,b)){i.remove(),f=!0;break}c&&c.detach()}return f}function c(b,f,g,h,i){var j=b.contents(),k=!1;b.empty();for(var l="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",m=0,n=j.length;n>m&&!k;m++){var o=j[m],p=a(o);"undefined"==typeof o||3==o.nodeType&&0==a.trim(o.data).length||(b.append(p),i&&b[b.is(l)?"after":"append"](i),3==o.nodeType?e(g,h)&&(k=d(p,f,g,h,i)):k=c(p,f,g,h,i),k||i&&i.detach())}return k}function d(a,b,c,g,j){var k=!1,l=a[0];if("undefined"==typeof l)return!1;for(var m=i(l),n=-1!==m.indexOf(" ")?" ":"",o="letter"==g.wrap?"":n,p=m.split(o),q=-1,r=-1,s=0,t=p.length-1;t>=s&&(0!=s||0!=t);){var u=Math.floor((s+t)/2);if(u==r)break;r=u,h(l,p.slice(0,r+1).join(o)+g.ellipsis),e(c,g)?t=r:(q=r,s=r),t==s&&0==t&&g.fallbackToLetter&&(o="",p=p[0].split(o),q=-1,r=-1,s=0,t=p.length-1)}if(-1==q||1==p.length&&0==p[0].length){var v=a.parent();a.remove();var w=j?j.length:0;if(v.contents().size()>w){var x=v.contents().eq(-1-w);k=d(x,b,c,g,j)}else{var y=v.prev(),l=y.contents().eq(-1)[0];if("undefined"!=typeof l){var m=f(i(l),g);h(l,m),j&&y.append(j),v.remove(),k=!0}}}else m=f(p.slice(0,q+1).join(o),g),k=!0,h(l,m);return k}function e(a,b){return a.innerHeight()>b.maxHeight}function f(b,c){for(;a.inArray(b.slice(-1),c.lastCharacter.remove)>-1;)b=b.slice(0,-1);return a.inArray(b.slice(-1),c.lastCharacter.noEllipsis)<0&&(b+=c.ellipsis),b}function g(a){return{width:a.innerWidth(),height:a.innerHeight()}}function h(a,b){a.innerText?a.innerText=b:a.nodeValue?a.nodeValue=b:a.textContent&&(a.textContent=b)}function i(a){return a.innerText?a.innerText:a.nodeValue?a.nodeValue:a.textContent?a.textContent:""}function j(b,c){return"undefined"!=typeof b&&(!!b&&("string"==typeof b?(b=a(b,c),!!b.length&&b):"object"==typeof b&&("undefined"!=typeof b.jquery&&b)))}function k(a){for(var b=a.innerHeight(),c=["paddingTop","paddingBottom"],d=0,e=c.length;e>d;d++){var f=parseInt(a.css(c[d]),10);isNaN(f)&&(f=0),b-=f}return b}function l(a,b){return!!a&&(b="string"==typeof b?"dotdotdot: "+b:["dotdotdot:",b],"undefined"!=typeof window.console&&"undefined"!=typeof window.console.log&&window.console.log(b),!1)}if(!a.fn.dotdotdot){a.fn.dotdotdot=function(d){if(0==this.length)return d&&d.debug===!1||l(!0,'No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){a(this).dotdotdot(d)});var f=this;f.data("dotdotdot")&&f.trigger("destroy.dot"),f.data("dotdotdot-style",f.attr("style")),f.css("word-wrap","break-word"),"nowrap"===f.css("white-space")&&f.css("white-space","normal"),f.bind_events=function(){return f.bind("update.dot",function(d,g){d.preventDefault(),d.stopPropagation(),i.maxHeight="number"==typeof i.height?i.height:k(f),i.maxHeight+=i.tolerance,"undefined"!=typeof g&&(("string"==typeof g||g instanceof HTMLElement)&&(g=a("<div />").append(g).contents()),g instanceof a&&(h=g)),q=f.wrapInner('<div class="dotdotdot" />').children(),q.empty().append(h.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var j=!1,l=!1;return n.afterElement&&(j=n.afterElement.clone(!0),n.afterElement.remove()),e(q,i)&&(l="children"==i.wrap?b(q,i,j):c(q,f,q,i,j)),q.replaceWith(q.contents()),q=null,a.isFunction(i.callback)&&i.callback.call(f[0],l,h),n.isTruncated=l,l}).bind("isTruncated.dot",function(a,b){return a.preventDefault(),a.stopPropagation(),"function"==typeof b&&b.call(f[0],n.isTruncated),n.isTruncated}).bind("originalContent.dot",function(a,b){return a.preventDefault(),a.stopPropagation(),"function"==typeof b&&b.call(f[0],h),h}).bind("destroy.dot",function(a){a.preventDefault(),a.stopPropagation(),f.unwatch().unbind_events().empty().append(h).attr("style",f.data("dotdotdot-style")).data("dotdotdot",!1)}),f},f.unbind_events=function(){return f.unbind(".dot"),f},f.watch=function(){if(f.unwatch(),"window"==i.watch){var b=a(window),c=b.width(),d=b.height();b.bind("resize.dot"+n.dotId,function(){c==b.width()&&d==b.height()&&i.windowResizeFix||(c=b.width(),d=b.height(),p&&clearInterval(p),p=setTimeout(function(){f.trigger("update.dot")},10))})}else o=g(f),p=setInterval(function(){var a=g(f);(o.width!=a.width||o.height!=a.height)&&(f.trigger("update.dot"),o=g(f))},100);return f},f.unwatch=function(){return a(window).unbind("resize.dot"+n.dotId),p&&clearInterval(p),f};var h=f.contents(),i=a.extend(!0,{},a.fn.dotdotdot.defaults,d),n={},o={},p=null,q=null;return i.lastCharacter.remove instanceof Array||(i.lastCharacter.remove=a.fn.dotdotdot.defaultArrays.lastCharacter.remove),i.lastCharacter.noEllipsis instanceof Array||(i.lastCharacter.noEllipsis=a.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),n.afterElement=j(i.after,f),n.isTruncated=!1,n.dotId=m++,f.data("dotdotdot",!0).bind_events().trigger("update.dot"),i.watch&&f.watch(),f},a.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0,debug:!1},a.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","",",",";",".","!","?"],noEllipsis:[]}};var m=1,n=a.fn.html;a.fn.html=function(a){return arguments.length>0&&"undefined"!=typeof a&&this.data("dotdotdot")&&"function"!=typeof a?this.trigger("update",[a]):arguments.length>0?n.call(this,a):n.call(this)};var o=a.fn.text;a.fn.text=function(b){if(arguments.length>0&&"undefined"!=b&&this.data("dotdotdot")){var c=a("<div />");return c.text(b),b=c.html(),c.remove(),this.trigger("update",[b])}return arguments.length>0?o.call(this,b):o.call(this)}}}(jQuery),function(a){function b(){function b(a){var g=a<1e12?d?performance.now()+performance.timing.navigationStart:c():a||c();g-f>=1e3&&(l._updateTargets(),f=g),e(b)}this.regional=[],this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1},this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1},a.extend(this._defaults,this.regional[""]),this._serverSyncs=[];var c="function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},d=window.performance&&"function"==typeof window.performance.now,e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,f=0;!e||a.noRequestAnimationFrame?(a.noRequestAnimationFrame=null,setInterval(function(){l._updateTargets()},980)):(f=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||c(),e(b))}function c(b,c){return"option"==b&&(0==c.length||1==c.length&&"string"==typeof c[0])||a.inArray(b,k)>-1}var d=0,e=1,f=2,g=3,h=4,i=5,j=6;a.extend(b.prototype,{markerClassName:"hasCountdown",propertyName:"countdown",_rtlClass:"countdown_rtl",_sectionClass:"countdown_section",_amountClass:"countdown_amount",_rowClass:"countdown_row",_holdingClass:"countdown_holding",_showClass:"countdown_show",_descrClass:"countdown_descr",_timerTargets:[],setDefaults:function(b){this._resetExtraLabels(this._defaults,b),a.extend(this._defaults,b||{})},UTCDate:function(a,b,c,d,e,f,g,h){"object"==typeof b&&b.constructor==Date&&(h=b.getMilliseconds(),g=b.getSeconds(),f=b.getMinutes(),e=b.getHours(),d=b.getDate(),c=b.getMonth(),b=b.getFullYear());var i=new Date;return i.setUTCFullYear(b),i.setUTCDate(1),i.setUTCMonth(c||0),i.setUTCDate(d||1),i.setUTCHours(e||0),i.setUTCMinutes((f||0)-(Math.abs(a)<30?60*a:a)),i.setUTCSeconds(g||0),i.setUTCMilliseconds(h||0),i},periodsToSeconds:function(a){return 31557600*a[0]+2629800*a[1]+604800*a[2]+86400*a[3]+3600*a[4]+60*a[5]+a[6]},_attachPlugin:function(b,c){if(b=a(b),!b.hasClass(this.markerClassName)){var d={options:a.extend({},this._defaults),_periods:[0,0,0,0,0,0,0]};b.addClass(this.markerClassName).data(this.propertyName,d),this._optionPlugin(b,c)}},_addTarget:function(a){this._hasTarget(a)||this._timerTargets.push(a)},_hasTarget:function(b){return a.inArray(b,this._timerTargets)>-1},_removeTarget:function(b){this._timerTargets=a.map(this._timerTargets,function(a){return a==b?null:a})},_updateTargets:function(){for(var a=this._timerTargets.length-1;a>=0;a--)this._updateCountdown(this._timerTargets[a])},_optionPlugin:function(b,c,d){b=a(b);var e=b.data(this.propertyName);if(!c||"string"==typeof c&&null==d){var f=c;return c=(e||{}).options,c&&f?c[f]:c}if(b.hasClass(this.markerClassName)){if(c=c||{},"string"==typeof c){var f=c;c={},c[f]=d}c.layout&&(c.layout=c.layout.replace(/&lt;/g,"<").replace(/&gt;/g,">")),this._resetExtraLabels(e.options,c);var g=e.options.timezone!=c.timezone;a.extend(e.options,c),this._adjustSettings(b,e,null!=c.until||null!=c.since||g);var h=new Date;(e._since&&e._since<h||e._until&&e._until>h)&&this._addTarget(b[0]),this._updateCountdown(b,e)}},_updateCountdown:function(b,c){var d=a(b);if(c=c||d.data(this.propertyName)){if(d.html(this._generateHTML(c)).toggleClass(this._rtlClass,c.options.isRTL),a.isFunction(c.options.onTick)){var e="lap"!=c._hold?c._periods:this._calculatePeriods(c,c._show,c.options.significant,new Date);1!=c.options.tickInterval&&this.periodsToSeconds(e)%c.options.tickInterval!=0||c.options.onTick.apply(b,[e])}var f="pause"!=c._hold&&(c._since?c._now.getTime()<c._since.getTime():c._now.getTime()>=c._until.getTime());if(f&&!c._expiring){if(c._expiring=!0,this._hasTarget(b)||c.options.alwaysExpire){if(this._removeTarget(b),a.isFunction(c.options.onExpiry)&&c.options.onExpiry.apply(b,[]),c.options.expiryText){var g=c.options.layout;c.options.layout=c.options.expiryText,this._updateCountdown(b,c),c.options.layout=g}c.options.expiryUrl&&(window.location=c.options.expiryUrl)}c._expiring=!1}else"pause"==c._hold&&this._removeTarget(b);d.data(this.propertyName,c)}},_resetExtraLabels:function(a,b){var c=!1;for(var d in b)if("whichLabels"!=d&&d.match(/[Ll]abels/)){c=!0;break}if(c)for(var d in a)d.match(/[Ll]abels[02-9]|compactLabels1/)&&(a[d]=null)},_adjustSettings:function(b,c,d){for(var e,f=0,g=null,h=0;h<this._serverSyncs.length;h++)if(this._serverSyncs[h][0]==c.options.serverSync){g=this._serverSyncs[h][1];break}if(null!=g)f=c.options.serverSync?g:0,e=new Date;else{var i=a.isFunction(c.options.serverSync)?c.options.serverSync.apply(b,[]):null;e=new Date,f=i?e.getTime()-i.getTime():0,this._serverSyncs.push([c.options.serverSync,f])}var j=c.options.timezone;j=null==j?-e.getTimezoneOffset():j,(d||!d&&null==c._until&&null==c._since)&&(c._since=c.options.since,null!=c._since&&(c._since=this.UTCDate(j,this._determineTime(c._since,null)),c._since&&f&&c._since.setMilliseconds(c._since.getMilliseconds()+f)),c._until=this.UTCDate(j,this._determineTime(c.options.until,e)),f&&c._until.setMilliseconds(c._until.getMilliseconds()+f)),c._show=this._determineShow(c)},_destroyPlugin:function(b){b=a(b),b.hasClass(this.markerClassName)&&(this._removeTarget(b[0]),b.removeClass(this.markerClassName).empty().removeData(this.propertyName))},_pausePlugin:function(a){this._hold(a,"pause")},_lapPlugin:function(a){this._hold(a,"lap")},_resumePlugin:function(a){this._hold(a,null)},_hold:function(b,c){var d=a.data(b,this.propertyName);if(d){if("pause"==d._hold&&!c){d._periods=d._savePeriods;var e=d._since?"-":"+";d[d._since?"_since":"_until"]=this._determineTime(e+d._periods[0]+"y"+e+d._periods[1]+"o"+e+d._periods[2]+"w"+e+d._periods[3]+"d"+e+d._periods[4]+"h"+e+d._periods[5]+"m"+e+d._periods[6]+"s"),this._addTarget(b)}d._hold=c,d._savePeriods="pause"==c?d._periods:null,a.data(b,this.propertyName,d),this._updateCountdown(b,d)}},_getTimesPlugin:function(b){var c=a.data(b,this.propertyName);return c?"pause"==c._hold?c._savePeriods:c._hold?this._calculatePeriods(c,c._show,c.options.significant,new Date):c._periods:null},_determineTime:function(a,b){var c=function(a){var b=new Date;return b.setTime(b.getTime()+1e3*a),b},d=function(a){a=a.toLowerCase();for(var b=new Date,c=b.getFullYear(),d=b.getMonth(),e=b.getDate(),f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,j=i.exec(a);j;){switch(j[2]||"s"){case"s":h+=parseInt(j[1],10);break;case"m":g+=parseInt(j[1],10);break;case"h":f+=parseInt(j[1],10);break;case"d":e+=parseInt(j[1],10);break;case"w":e+=7*parseInt(j[1],10);break;case"o":d+=parseInt(j[1],10),e=Math.min(e,l._getDaysInMonth(c,d));break;case"y":c+=parseInt(j[1],10),e=Math.min(e,l._getDaysInMonth(c,d))}j=i.exec(a)}return new Date(c,d,e,f,g,h,0)},e=null==a?b:"string"==typeof a?d(a):"number"==typeof a?c(a):a;return e&&e.setMilliseconds(0),e},_getDaysInMonth:function(a,b){return 32-new Date(a,b,32).getDate()},_normalLabels:function(a){return a},_generateHTML:function(b){var c=this;b._periods=b._hold?b._periods:this._calculatePeriods(b,b._show,b.options.significant,new Date);for(var k=!1,m=0,n=b.options.significant,o=a.extend({},b._show),p=d;p<=j;p++)k|="?"==b._show[p]&&b._periods[p]>0,o[p]="?"!=b._show[p]||k?b._show[p]:null,m+=o[p]?1:0,n-=b._periods[p]>0?1:0;for(var q=[!1,!1,!1,!1,!1,!1,!1],p=j;p>=d;p--)b._show[p]&&(b._periods[p]?q[p]=!0:(q[p]=n>0,n--));var r=b.options.compact?b.options.compactLabels:b.options.labels,s=b.options.whichLabels||this._normalLabels,t=function(a){var d=b.options["compactLabels"+s(b._periods[a])];return o[a]?c._translateDigits(b,b._periods[a])+(d?d[a]:r[a])+" ":""},u=function(a){var d=b.options["labels"+s(b._periods[a])];return!b.options.significant&&o[a]||b.options.significant&&q[a]?'<span class="'+l._sectionClass+'"><span class="'+l._amountClass+'">'+c._translateDigits(b,b._periods[a])+"</span><br/>"+(d?d[a]:r[a])+"</span>":""};return b.options.layout?this._buildLayout(b,o,b.options.layout,b.options.compact,b.options.significant,q):(b.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(b._hold?" "+this._holdingClass:"")+'">'+t(d)+t(e)+t(f)+t(g)+(o[h]?this._minDigits(b,b._periods[h],2):"")+(o[i]?(o[h]?b.options.timeSeparator:"")+this._minDigits(b,b._periods[i],2):"")+(o[j]?(o[h]||o[i]?b.options.timeSeparator:"")+this._minDigits(b,b._periods[j],2):""):'<span class="'+this._rowClass+" "+this._showClass+(b.options.significant||m)+(b._hold?" "+this._holdingClass:"")+'">'+u(d)+u(e)+u(f)+u(g)+u(h)+u(i)+u(j))+"</span>"+(b.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+b.options.description+"</span>":"")},_buildLayout:function(b,c,k,l,m,n){for(var o=b.options[l?"compactLabels":"labels"],p=b.options.whichLabels||this._normalLabels,q=function(a){return(b.options[(l?"compactLabels":"labels")+p(b._periods[a])]||o)[a]},r=function(a,c){return b.options.digits[Math.floor(a/c)%10]},s={desc:b.options.description,sep:b.options.timeSeparator,yl:q(d),yn:this._minDigits(b,b._periods[d],1),ynn:this._minDigits(b,b._periods[d],2),ynnn:this._minDigits(b,b._periods[d],3),y1:r(b._periods[d],1),y10:r(b._periods[d],10),y100:r(b._periods[d],100),y1000:r(b._periods[d],1e3),ol:q(e),on:this._minDigits(b,b._periods[e],1),onn:this._minDigits(b,b._periods[e],2),onnn:this._minDigits(b,b._periods[e],3),o1:r(b._periods[e],1),o10:r(b._periods[e],10),o100:r(b._periods[e],100),o1000:r(b._periods[e],1e3),wl:q(f),wn:this._minDigits(b,b._periods[f],1),wnn:this._minDigits(b,b._periods[f],2),wnnn:this._minDigits(b,b._periods[f],3),w1:r(b._periods[f],1),w10:r(b._periods[f],10),w100:r(b._periods[f],100),w1000:r(b._periods[f],1e3),dl:q(g),dn:this._minDigits(b,b._periods[g],1),dnn:this._minDigits(b,b._periods[g],2),dnnn:this._minDigits(b,b._periods[g],3),d1:r(b._periods[g],1),d10:r(b._periods[g],10),d100:r(b._periods[g],100),d1000:r(b._periods[g],1e3),hl:q(h),hn:this._minDigits(b,b._periods[h],1),hnn:this._minDigits(b,b._periods[h],2),hnnn:this._minDigits(b,b._periods[h],3),h1:r(b._periods[h],1),h10:r(b._periods[h],10),h100:r(b._periods[h],100),h1000:r(b._periods[h],1e3),ml:q(i),mn:this._minDigits(b,b._periods[i],1),mnn:this._minDigits(b,b._periods[i],2),mnnn:this._minDigits(b,b._periods[i],3),m1:r(b._periods[i],1),m10:r(b._periods[i],10),m100:r(b._periods[i],100),m1000:r(b._periods[i],1e3),sl:q(j),sn:this._minDigits(b,b._periods[j],1),snn:this._minDigits(b,b._periods[j],2),snnn:this._minDigits(b,b._periods[j],3),s1:r(b._periods[j],1),s10:r(b._periods[j],10),s100:r(b._periods[j],100),s1000:r(b._periods[j],1e3)},t=k,u=d;u<=j;u++){var v="yowdhms".charAt(u),w=new RegExp("\\{"+v+"<\\}([\\s\\S]*)\\{"+v+">\\}","g");t=t.replace(w,!m&&c[u]||m&&n[u]?"$1":"")}return a.each(s,function(a,b){var c=new RegExp("\\{"+a+"\\}","g");t=t.replace(c,b)}),t},_minDigits:function(a,b,c){return b=""+b,b.length>=c?this._translateDigits(a,b):(b="0000000000"+b,this._translateDigits(a,b.substr(b.length-c)))},_translateDigits:function(a,b){return(""+b).replace(/[0-9]/g,function(b){return a.options.digits[b]})},_determineShow:function(a){var b=a.options.format,c=[];return c[d]=b.match("y")?"?":b.match("Y")?"!":null,c[e]=b.match("o")?"?":b.match("O")?"!":null,c[f]=b.match("w")?"?":b.match("W")?"!":null,c[g]=b.match("d")?"?":b.match("D")?"!":null,c[h]=b.match("h")?"?":b.match("H")?"!":null,c[i]=b.match("m")?"?":b.match("M")?"!":null,c[j]=b.match("s")?"?":b.match("S")?"!":null,c},_calculatePeriods:function(a,b,c,k){a._now=k,a._now.setMilliseconds(0);var m=new Date(a._now.getTime());a._since?k.getTime()<a._since.getTime()?a._now=k=m:k=a._since:(m.setTime(a._until.getTime()),k.getTime()>a._until.getTime()&&(a._now=k=m));var n=[0,0,0,0,0,0,0];if(b[d]||b[e]){var o=l._getDaysInMonth(k.getFullYear(),k.getMonth()),p=l._getDaysInMonth(m.getFullYear(),m.getMonth()),q=m.getDate()==k.getDate()||m.getDate()>=Math.min(o,p)&&k.getDate()>=Math.min(o,p),r=function(a){return 60*(60*a.getHours()+a.getMinutes())+a.getSeconds()},s=Math.max(0,12*(m.getFullYear()-k.getFullYear())+m.getMonth()-k.getMonth()+(m.getDate()<k.getDate()&&!q||q&&r(m)<r(k)?-1:0));n[d]=b[d]?Math.floor(s/12):0,n[e]=b[e]?s-12*n[d]:0,k=new Date(k.getTime());var t=k.getDate()==o,u=l._getDaysInMonth(k.getFullYear()+n[d],k.getMonth()+n[e]);k.getDate()>u&&k.setDate(u),k.setFullYear(k.getFullYear()+n[d]),k.setMonth(k.getMonth()+n[e]),t&&k.setDate(u)}var v=Math.floor((m.getTime()-k.getTime())/1e3),w=function(a,c){n[a]=b[a]?Math.floor(v/c):0,v-=n[a]*c};if(w(f,604800),w(g,86400),w(h,3600),w(i,60),w(j,1),v>0&&!a._since)for(var x=[1,12,4.3482,7,24,60,60],y=j,z=1,A=j;A>=d;A--)b[A]&&(n[y]>=z&&(n[y]=0,v=1),v>0&&(n[A]++,v=0,y=A,z=1)),z*=x[A];if(c)for(var A=d;A<=j;A++)c&&n[A]?c--:c||(n[A]=0);return n}});var k=["getTimes"];a.fn.countdown=function(a){var b=Array.prototype.slice.call(arguments,1);return c(a,b)?l["_"+a+"Plugin"].apply(l,[this[0]].concat(b)):this.each(function(){if("string"==typeof a){if(!l["_"+a+"Plugin"])throw"Unknown command: "+a;l["_"+a+"Plugin"].apply(l,[this].concat(b))}else l._attachPlugin(this,a||{})})};var l=a.countdown=new b}(jQuery),function(a,b,c){function d(a,c){this.wrapper="string"==typeof a?b.querySelector(a):a,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var d in c)this.options[d]=c[d];this.translateZ=this.options.HWCompositing&&h.hasPerspective?" translateZ(0)":"",this.options.useTransition=h.hasTransition&&this.options.useTransition,this.options.useTransform=h.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,
this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?h.ease[this.options.bounceEasing]||h.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function e(a,c,d){var e=b.createElement("div"),f=b.createElement("div");return d===!0&&(e.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),f.className="iScrollIndicator","h"==a?(d===!0&&(e.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),e.className="iScrollHorizontalScrollbar"):(d===!0&&(e.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",f.style.width="100%"),e.className="iScrollVerticalScrollbar"),e.style.cssText+=";overflow:hidden",c||(e.style.pointerEvents="none"),e.appendChild(f),e}function f(c,d){this.wrapper="string"==typeof d.el?b.querySelector(d.el):d.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=c,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var e in d)this.options[e]=d[e];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(h.addEvent(this.indicator,"touchstart",this),h.addEvent(a,"touchend",this)),this.options.disablePointer||(h.addEvent(this.indicator,h.prefixPointerEvent("pointerdown"),this),h.addEvent(a,h.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(h.addEvent(this.indicator,"mousedown",this),h.addEvent(a,"mouseup",this))),this.options.fade&&(this.wrapperStyle[h.style.transform]=this.scroller.translateZ,this.wrapperStyle[h.style.transitionDuration]=h.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var g=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},h=function(){function d(a){return g!==!1&&(""===g?a:g+a.charAt(0).toUpperCase()+a.substr(1))}var e={},f=b.createElement("div").style,g=function(){for(var a,b=["t","webkitT","MozT","msT","OT"],c=0,d=b.length;c<d;c++)if(a=b[c]+"ransform",a in f)return b[c].substr(0,b[c].length-1);return!1}();e.getTime=Date.now||function(){return(new Date).getTime()},e.extend=function(a,b){for(var c in b)a[c]=b[c]},e.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},e.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},e.prefixPointerEvent=function(b){return a.MSPointerEvent?"MSPointer"+b.charAt(9).toUpperCase()+b.substr(10):b},e.momentum=function(a,b,d,e,f,g){var h,i,j=a-b,k=c.abs(j)/d;return g=void 0===g?6e-4:g,h=a+k*k/(2*g)*(j<0?-1:1),i=k/g,h<e?(h=f?e-f/2.5*(k/8):e,j=c.abs(h-a),i=j/k):h>0&&(h=f?f/2.5*(k/8):0,j=c.abs(a)+h,i=j/k),{destination:c.round(h),duration:i}};var h=d("transform");return e.extend(e,{hasTransform:h!==!1,hasPerspective:d("perspective")in f,hasTouch:"ontouchstart"in a,hasPointer:a.PointerEvent||a.MSPointerEvent,hasTransition:d("transition")in f}),e.isBadAndroid=/Android /.test(a.navigator.appVersion)&&!/Chrome\/\d/.test(a.navigator.appVersion),e.extend(e.style={},{transform:h,transitionTimingFunction:d("transitionTimingFunction"),transitionDuration:d("transitionDuration"),transitionDelay:d("transitionDelay"),transformOrigin:d("transformOrigin")}),e.hasClass=function(a,b){var c=new RegExp("(^|\\s)"+b+"(\\s|$)");return c.test(a.className)},e.addClass=function(a,b){if(!e.hasClass(a,b)){var c=a.className.split(" ");c.push(b),a.className=c.join(" ")}},e.removeClass=function(a,b){if(e.hasClass(a,b)){var c=new RegExp("(^|\\s)"+b+"(\\s|$)","g");a.className=a.className.replace(c," ")}},e.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},e.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},e.extend(e.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),e.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return c.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var b=.22,d=.4;return 0===a?0:1==a?1:d*c.pow(2,-10*a)*c.sin((a-b/4)*(2*c.PI)/b)+1}}}),e.tap=function(a,c){var d=b.createEvent("Event");d.initEvent(c,!0,!0),d.pageX=a.pageX,d.pageY=a.pageY,a.target.dispatchEvent(d)},e.click=function(a){var c,d=a.target;/(SELECT|INPUT|TEXTAREA)/i.test(d.tagName)||(c=b.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,a.view,1,d.screenX,d.screenY,d.clientX,d.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),c._constructed=!0,d.dispatchEvent(c))},e}();d.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(a){if((1==h.eventType[a.type]||0===a.button)&&this.enabled&&(!this.initiated||h.eventType[a.type]===this.initiated)){!this.options.preventDefault||h.isBadAndroid||h.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var b,d=a.touches?a.touches[0]:a;this.initiated=h.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=h.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,b=this.getComputedPosition(),this._translate(c.round(b.x),c.round(b.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=d.pageX,this.pointY=d.pageY,this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&h.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b,d,e,f,g=a.touches?a.touches[0]:a,i=g.pageX-this.pointX,j=g.pageY-this.pointY,k=h.getTime();if(this.pointX=g.pageX,this.pointY=g.pageY,this.distX+=i,this.distY+=j,e=c.abs(this.distX),f=c.abs(this.distY),!(k-this.endTime>300&&e<10&&f<10)){if(this.directionLocked||this.options.freeScroll||(e>f+this.options.directionLockThreshold?this.directionLocked="h":f>=e+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)a.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);j=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)a.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);i=0}i=this.hasHorizontalScroll?i:0,j=this.hasVerticalScroll?j:0,b=this.x+i,d=this.y+j,(b>0||b<this.maxScrollX)&&(b=this.options.bounce?this.x+i/3:b>0?0:this.maxScrollX),(d>0||d<this.maxScrollY)&&(d=this.options.bounce?this.y+j/3:d>0?0:this.maxScrollY),this.directionX=i>0?-1:i<0?1:0,this.directionY=j>0?-1:j<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(b,d),k-this.startTime>300&&(this.startTime=k,this.startX=this.x,this.startY=this.y)}}},_end:function(a){if(this.enabled&&h.eventType[a.type]===this.initiated){this.options.preventDefault&&!h.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var b,d,e=(a.changedTouches?a.changedTouches[0]:a,h.getTime()-this.startTime),f=c.round(this.x),g=c.round(this.y),i=c.abs(f-this.startX),j=c.abs(g-this.startY),k=0,l="";if(this.isInTransition=0,this.initiated=0,this.endTime=h.getTime(),this.options.snap||!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(f,g),!this.moved)return this.options.tap&&h.tap(a,this.options.tap),this.options.click&&h.click(a),void this._execEvent("scrollCancel");if(this._events.flick&&e<200&&i<100&&j<100)return void this._execEvent("flick");if(this.options.momentum&&e<300&&(b=this.hasHorizontalScroll?h.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:f,duration:0},d=this.hasVerticalScroll?h.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:g,duration:0},f=b.destination,g=d.destination,k=c.max(b.duration,d.duration),this.isInTransition=1),this.options.snap){var m=this._nearestSnap(f,g);this.currentPage=m,k=this.options.snapSpeed||c.max(c.max(c.min(c.abs(f-m.x),1e3),c.min(c.abs(g-m.y),1e3)),300),f=m.x,g=m.y,this.directionX=0,this.directionY=0,l=this.options.bounceEasing}return f!=this.x||g!=this.y?((f>0||f<this.maxScrollX||g>0||g<this.maxScrollY)&&(l=h.ease.quadratic),void this.scrollTo(f,g,k,l)):void this._execEvent("scrollEnd")}}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),(b!=this.x||c!=this.y)&&(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=h.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);c>-1&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;b<c;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||h.ease.circular,this.isInTransition=this.options.useTransition&&c>0,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,d,e,f){if(a=a.nodeType?a:this.scroller.querySelector(a)){var g=h.offset(a);g.left-=this.wrapperOffset.left,g.top-=this.wrapperOffset.top,d===!0&&(d=c.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),e===!0&&(e=c.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),g.left-=d||0,g.top-=e||0,g.left=g.left>0?0:g.left<this.maxScrollX?this.maxScrollX:g.left,g.top=g.top>0?0:g.top<this.maxScrollY?this.maxScrollY:g.top,b=void 0===b||null===b||"auto"===b?c.max(c.abs(this.x-g.left),c.abs(this.y-g.top)):b,this.scrollTo(g.left,g.top,b,f)}},_transitionTime:function(a){if(a=a||0,this.scrollerStyle[h.style.transitionDuration]=a+"ms",!a&&h.isBadAndroid&&(this.scrollerStyle[h.style.transitionDuration]="0.001s"),this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTime(a)},_transitionTimingFunction:function(a){if(this.scrollerStyle[h.style.transitionTimingFunction]=a,this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){if(this.options.useTransform?this.scrollerStyle[h.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ:(a=c.round(a),b=c.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px"),this.x=a,this.y=b,this.indicators)for(var d=this.indicators.length;d--;)this.indicators[d].updatePosition()},_initEvents:function(b){var c=b?h.removeEvent:h.addEvent,d=this.options.bindToWrapper?this.wrapper:a;c(a,"orientationchange",this),c(a,"resize",this),this.options.click&&c(this.wrapper,"click",this,!0),this.options.disableMouse||(c(this.wrapper,"mousedown",this),c(d,"mousemove",this),c(d,"mousecancel",this),c(d,"mouseup",this)),h.hasPointer&&!this.options.disablePointer&&(c(this.wrapper,h.prefixPointerEvent("pointerdown"),this),c(d,h.prefixPointerEvent("pointermove"),this),c(d,h.prefixPointerEvent("pointercancel"),this),c(d,h.prefixPointerEvent("pointerup"),this)),h.hasTouch&&!this.options.disableTouch&&(c(this.wrapper,"touchstart",this),c(d,"touchmove",this),c(d,"touchcancel",this),c(d,"touchend",this)),c(this.scroller,"transitionend",this),c(this.scroller,"webkitTransitionEnd",this),c(this.scroller,"oTransitionEnd",this),c(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var b,c,d=a.getComputedStyle(this.scroller,null);return this.options.useTransform?(d=d[h.style.transform].split(")")[0].split(", "),b=+(d[12]||d[4]),c=+(d[13]||d[5])):(b=+d.left.replace(/[^-\d.]/g,""),c=+d.top.replace(/[^-\d.]/g,"")),{x:b,y:c}},_initIndicators:function(){function a(a){for(var b=h.indicators.length;b--;)a.call(h.indicators[b])}var b,c=this.options.interactiveScrollbars,d="string"!=typeof this.options.scrollbars,g=[],h=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(b={el:e("v",c,this.options.scrollbars),interactive:c,defaultScrollbars:!0,customStyle:d,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(b.el),g.push(b)),this.options.scrollX&&(b={el:e("h",c,this.options.scrollbars),interactive:c,defaultScrollbars:!0,customStyle:d,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(b.el),g.push(b))),this.options.indicators&&(g=g.concat(this.options.indicators));for(var i=g.length;i--;)this.indicators.push(new f(this,g[i]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){a(function(){this.fade()})}),this.on("scrollCancel",function(){a(function(){this.fade()})}),this.on("scrollStart",function(){a(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){a(function(){this.fade(1,!0)})})),this.on("refresh",function(){a(function(){this.refresh()})}),this.on("destroy",function(){a(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){h.addEvent(this.wrapper,"wheel",this),h.addEvent(this.wrapper,"mousewheel",this),h.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){h.removeEvent(this.wrapper,"wheel",this),h.removeEvent(this.wrapper,"mousewheel",this),h.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(a){if(this.enabled){a.preventDefault(),a.stopPropagation();var b,d,e,f,g=this;if(void 0===this.wheelTimeout&&g._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){g._execEvent("scrollEnd"),g.wheelTimeout=void 0},400),"deltaX"in a)1===a.deltaMode?(b=-a.deltaX*this.options.mouseWheelSpeed,d=-a.deltaY*this.options.mouseWheelSpeed):(b=-a.deltaX,d=-a.deltaY);else if("wheelDeltaX"in a)b=a.wheelDeltaX/120*this.options.mouseWheelSpeed,d=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in a)b=d=a.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in a))return;b=d=-a.detail/3*this.options.mouseWheelSpeed}if(b*=this.options.invertWheelDirection,d*=this.options.invertWheelDirection,this.hasVerticalScroll||(b=d,d=0),this.options.snap)return e=this.currentPage.pageX,f=this.currentPage.pageY,b>0?e--:b<0&&e++,d>0?f--:d<0&&f++,void this.goToPage(e,f);e=this.x+c.round(this.hasHorizontalScroll?b:0),f=this.y+c.round(this.hasVerticalScroll?d:0),e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),f>0?f=0:f<this.maxScrollY&&(f=this.maxScrollY),this.scrollTo(e,f,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var a,b,d,e,f,g,h=0,i=0,j=0,k=this.options.snapStepX||this.wrapperWidth,l=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(d=c.round(k/2),e=c.round(l/2);j>-this.scrollerWidth;){for(this.pages[h]=[],a=0,f=0;f>-this.scrollerHeight;)this.pages[h][a]={x:c.max(j,this.maxScrollX),y:c.max(f,this.maxScrollY),width:k,height:l,cx:j-d,cy:f-e},f-=l,a++;j-=k,h++}else for(g=this.options.snap,a=g.length,b=-1;h<a;h++)(0===h||g[h].offsetLeft<=g[h-1].offsetLeft)&&(i=0,b++),this.pages[i]||(this.pages[i]=[]),j=c.max(-g[h].offsetLeft,this.maxScrollX),f=c.max(-g[h].offsetTop,this.maxScrollY),d=j-c.round(g[h].offsetWidth/2),e=f-c.round(g[h].offsetHeight/2),this.pages[i][b]={x:j,y:f,width:g[h].offsetWidth,height:g[h].offsetHeight,cx:d,cy:e},j>this.maxScrollX&&i++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var a=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.x-this.startX),1e3),c.min(c.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var d=0,e=this.pages.length,f=0;if(c.abs(a-this.absStartX)<this.snapThresholdX&&c.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;for(a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),b>0?b=0:b<this.maxScrollY&&(b=this.maxScrollY);d<e;d++)if(a>=this.pages[d][0].cx){a=this.pages[d][0].x;break}for(e=this.pages[d].length;f<e;f++)if(b>=this.pages[0][f].cy){b=this.pages[0][f].y;break}return d==this.currentPage.pageX&&(d+=this.directionX,d<0?d=0:d>=this.pages.length&&(d=this.pages.length-1),a=this.pages[d][0].x),f==this.currentPage.pageY&&(f+=this.directionY,f<0?f=0:f>=this.pages[0].length&&(f=this.pages[0].length-1),b=this.pages[0][f].y),{x:a,y:b,pageX:d,pageY:f}},goToPage:function(a,b,d,e){e=e||this.options.bounceEasing,a>=this.pages.length?a=this.pages.length-1:a<0&&(a=0),b>=this.pages[a].length?b=this.pages[a].length-1:b<0&&(b=0);var f=this.pages[a][b].x,g=this.pages[a][b].y;d=void 0===d?this.options.snapSpeed||c.max(c.max(c.min(c.abs(f-this.x),1e3),c.min(c.abs(g-this.y),1e3)),300):d,this.currentPage={x:f,y:g,pageX:a,pageY:b},this.scrollTo(f,g,d,e)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++,c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++),this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--,c<0&&this.hasVerticalScroll&&(c=0,d--),this.goToPage(c,d,a,b)},_initKeys:function(b){var c,d={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(c in this.options.keyBindings)"string"==typeof this.options.keyBindings[c]&&(this.options.keyBindings[c]=this.options.keyBindings[c].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(c in d)this.options.keyBindings[c]=this.options.keyBindings[c]||d[c];h.addEvent(a,"keydown",this),this.on("destroy",function(){h.removeEvent(a,"keydown",this)})},_key:function(a){if(this.enabled){var b,d=this.options.snap,e=d?this.currentPage.pageX:this.x,f=d?this.currentPage.pageY:this.y,g=h.getTime(),i=this.keyTime||0,j=.25;switch(this.options.useTransition&&this.isInTransition&&(b=this.getComputedPosition(),this._translate(c.round(b.x),c.round(b.y)),this.isInTransition=!1),this.keyAcceleration=g-i<200?c.min(this.keyAcceleration+j,50):0,a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?e+=d?1:this.wrapperWidth:f+=d?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?e-=d?1:this.wrapperWidth:f-=d?1:this.wrapperHeight;break;case this.options.keyBindings.end:e=d?this.pages.length-1:this.maxScrollX,f=d?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:e=0,f=0;break;case this.options.keyBindings.left:e+=d?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=d?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:e-=d?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=d?1:5+this.keyAcceleration>>0;break;default:return}if(d)return void this.goToPage(e,f);e>0?(e=0,this.keyAcceleration=0):e<this.maxScrollX&&(e=this.maxScrollX,this.keyAcceleration=0),f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(e,f,0),this.keyTime=g}},_animate:function(a,b,c,d){function e(){var m,n,o,p=h.getTime();return p>=l?(f.isAnimating=!1,f._translate(a,b),void(f.resetPosition(f.options.bounceTime)||f._execEvent("scrollEnd"))):(p=(p-k)/c,o=d(p),m=(a-i)*o+i,n=(b-j)*o+j,f._translate(m,n),void(f.isAnimating&&g(e)))}var f=this,i=this.x,j=this.y,k=h.getTime(),l=k+c;this.isAnimating=!0,e()},handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(a);break;case"keydown":this._key(a);break;case"click":a._constructed||(a.preventDefault(),a.stopPropagation())}}},f.prototype={handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a)}},destroy:function(){this.options.interactive&&(h.removeEvent(this.indicator,"touchstart",this),h.removeEvent(this.indicator,h.prefixPointerEvent("pointerdown"),this),h.removeEvent(this.indicator,"mousedown",this),h.removeEvent(a,"touchmove",this),h.removeEvent(a,h.prefixPointerEvent("pointermove"),this),h.removeEvent(a,"mousemove",this),h.removeEvent(a,"touchend",this),h.removeEvent(a,h.prefixPointerEvent("pointerup"),this),h.removeEvent(a,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(b){var c=b.touches?b.touches[0]:b;b.preventDefault(),b.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=c.pageX,this.lastPointY=c.pageY,this.startTime=h.getTime(),this.options.disableTouch||h.addEvent(a,"touchmove",this),this.options.disablePointer||h.addEvent(a,h.prefixPointerEvent("pointermove"),this),this.options.disableMouse||h.addEvent(a,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(a){var b,c,d,e,f=a.touches?a.touches[0]:a;h.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,b=f.pageX-this.lastPointX,this.lastPointX=f.pageX,c=f.pageY-this.lastPointY,this.lastPointY=f.pageY,d=this.x+b,e=this.y+c,this._pos(d,e),a.preventDefault(),a.stopPropagation()},_end:function(b){if(this.initiated){if(this.initiated=!1,b.preventDefault(),b.stopPropagation(),h.removeEvent(a,"touchmove",this),h.removeEvent(a,h.prefixPointerEvent("pointermove"),this),h.removeEvent(a,"mousemove",this),this.scroller.options.snap){var d=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),e=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.scroller.x-d.x),1e3),c.min(c.abs(this.scroller.y-d.y),1e3)),300);this.scroller.x==d.x&&this.scroller.y==d.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=d,this.scroller.scrollTo(d.x,d.y,e,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(a){a=a||0,this.indicatorStyle[h.style.transitionDuration]=a+"ms",!a&&h.isBadAndroid&&(this.indicatorStyle[h.style.transitionDuration]="0.001s")},transitionTimingFunction:function(a){this.indicatorStyle[h.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(h.addClass(this.wrapper,"iScrollBothScrollbars"),h.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(h.removeClass(this.wrapper,"iScrollBothScrollbars"),h.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=c.max(c.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=c.max(c.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&c.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&c.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=c.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+"px"),a=this.minBoundaryX):a>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=c.max(this.indicatorWidth-(a-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",a=this.maxPosX+this.indicatorWidth-this.width):a=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),b<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=c.max(this.indicatorHeight+3*b,8),this.indicatorStyle.height=this.height+"px"),b=this.minBoundaryY):b>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=c.max(this.indicatorHeight-3*(b-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",b=this.maxPosY+this.indicatorHeight-this.height):b=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=a,this.y=b,this.scroller.options.useTransform?this.indicatorStyle[h.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=a+"px",this.indicatorStyle.top=b+"px")},_pos:function(a,b){a<0?a=0:a>this.maxPosX&&(a=this.maxPosX),b<0?b=0:b>this.maxPosY&&(b=this.maxPosY),a=this.options.listenX?c.round(a/this.sizeRatioX):this.scroller.x,b=this.options.listenY?c.round(b/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(a,b)},fade:function(a,b){if(!b||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var c=a?250:500,d=a?0:300;a=a?"1":"0",this.wrapperStyle[h.style.transitionDuration]=c+"ms",this.fadeTimeout=setTimeout(function(a){this.wrapperStyle.opacity=a,this.visible=+a}.bind(this,a),d)}}},d.utils=h,"undefined"!=typeof module&&module.exports?module.exports=d:a.IScroll=d}(window,document,Math),function(a){"use strict";var b=a.jCarousel={};b.version="0.3.1";var c=/^([+\-]=)?(.+)$/;b.parseTarget=function(a){var b=!1,d="object"!=typeof a?c.exec(a):null;return d?(a=parseInt(d[2],10)||0,d[1]&&(b=!0,"-="===d[1]&&(a*=-1))):"object"!=typeof a&&(a=parseInt(a,10)||0),{target:a,relative:b}},b.detectCarousel=function(a){for(var b;a.length>0;){if(b=a.filter("[data-jcarousel]"),b.length>0)return b;if(b=a.find("[data-jcarousel]"),b.length>0)return b;a=a.parent()}return null},b.base=function(c){return{version:b.version,_options:{},_element:null,_carousel:null,_init:a.noop,_create:a.noop,_destroy:a.noop,_reload:a.noop,create:function(){return this._element.attr("data-"+c.toLowerCase(),!0).data(c,this),!1===this._trigger("create")?this:(this._create(),this._trigger("createend"),this)},destroy:function(){return!1===this._trigger("destroy")?this:(this._destroy(),this._trigger("destroyend"),this._element.removeData(c).removeAttr("data-"+c.toLowerCase()),this)},reload:function(a){return!1===this._trigger("reload")?this:(a&&this.options(a),
this._reload(),this._trigger("reloadend"),this)},element:function(){return this._element},options:function(b,c){if(0===arguments.length)return a.extend({},this._options);if("string"==typeof b){if(void 0===c)return void 0===this._options[b]?null:this._options[b];this._options[b]=c}else this._options=a.extend({},this._options,b);return this},carousel:function(){return this._carousel||(this._carousel=b.detectCarousel(this.options("carousel")||this._element),this._carousel||a.error('Could not detect carousel for plugin "'+c+'"')),this._carousel},_trigger:function(b,d,e){var f,g=!1;return e=[this].concat(e||[]),(d||this._element).each(function(){f=a.Event((c+":"+b).toLowerCase()),a(this).trigger(f,e),f.isDefaultPrevented()&&(g=!0)}),!g}}},b.plugin=function(c,d){var e=a[c]=function(b,c){this._element=a(b),this.options(c),this._init(),this.create()};return e.fn=e.prototype=a.extend({},b.base(c),d),a.fn[c]=function(b){var d=Array.prototype.slice.call(arguments,1),f=this;return"string"==typeof b?this.each(function(){var e=a(this).data(c);if(!e)return a.error("Cannot call methods on "+c+' prior to initialization; attempted to call method "'+b+'"');if(!a.isFunction(e[b])||"_"===b.charAt(0))return a.error('No such method "'+b+'" for '+c+" instance");var g=e[b].apply(e,d);return g!==e&&void 0!==g?(f=g,!1):void 0}):this.each(function(){var d=a(this).data(c);d instanceof e?d.reload(b):new e(this,b)}),f},e}}(jQuery),function(a,b){"use strict";var c=function(a){return parseFloat(a)||0};a.jCarousel.plugin("jcarousel",{animating:!1,tail:0,inTail:!1,resizeTimer:null,lt:null,vertical:!1,rtl:!1,circular:!1,underflow:!1,relative:!1,_options:{list:function(){return this.element().children().eq(0)},items:function(){return this.list().children()},animation:400,transitions:!1,wrap:null,vertical:null,rtl:null,center:!1},_list:null,_items:null,_target:null,_first:null,_last:null,_visible:null,_fullyvisible:null,_init:function(){var a=this;return this.onWindowResize=function(){a.resizeTimer&&clearTimeout(a.resizeTimer),a.resizeTimer=setTimeout(function(){a.reload()},100)},this},_create:function(){this._reload(),a(b).on("resize.jcarousel",this.onWindowResize)},_destroy:function(){a(b).off("resize.jcarousel",this.onWindowResize)},_reload:function(){this.vertical=this.options("vertical"),null==this.vertical&&(this.vertical=this.list().height()>this.list().width()),this.rtl=this.options("rtl"),null==this.rtl&&(this.rtl=function(b){if("rtl"===(""+b.attr("dir")).toLowerCase())return!0;var c=!1;return b.parents("[dir]").each(function(){return/rtl/i.test(a(this).attr("dir"))?(c=!0,!1):void 0}),c}(this._element)),this.lt=this.vertical?"top":"left",this.relative="relative"===this.list().css("position"),this._list=null,this._items=null;var b=this._target&&this.index(this._target)>=0?this._target:this.closest();this.circular="circular"===this.options("wrap"),this.underflow=!1;var c={left:0,top:0};return b.length>0&&(this._prepare(b),this.list().find("[data-jcarousel-clone]").remove(),this._items=null,this.underflow=this._fullyvisible.length>=this.items().length,this.circular=this.circular&&!this.underflow,c[this.lt]=this._position(b)+"px"),this.move(c),this},list:function(){if(null===this._list){var b=this.options("list");this._list=a.isFunction(b)?b.call(this):this._element.find(b)}return this._list},items:function(){if(null===this._items){var b=this.options("items");this._items=(a.isFunction(b)?b.call(this):this.list().find(b)).not("[data-jcarousel-clone]")}return this._items},index:function(a){return this.items().index(a)},closest:function(){var b,d=this,e=this.list().position()[this.lt],f=a(),g=!1,h=this.vertical?"bottom":this.rtl&&!this.relative?"left":"right";return this.rtl&&this.relative&&!this.vertical&&(e+=this.list().width()-this.clipping()),this.items().each(function(){if(f=a(this),g)return!1;var i=d.dimension(f);if(e+=i,e>=0){if(b=i-c(f.css("margin-"+h)),!(0>=Math.abs(e)-i+b/2))return!1;g=!0}}),f},target:function(){return this._target},first:function(){return this._first},last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},hasNext:function(){if(!1===this._trigger("hasnext"))return!0;var a=this.options("wrap"),b=this.items().length-1;return!!(b>=0&&!this.underflow&&(a&&"first"!==a||b>this.index(this._last)||this.tail&&!this.inTail))},hasPrev:function(){if(!1===this._trigger("hasprev"))return!0;var a=this.options("wrap");return!!(this.items().length>0&&!this.underflow&&(a&&"last"!==a||this.index(this._first)>0||this.tail&&this.inTail))},clipping:function(){return this._element["inner"+(this.vertical?"Height":"Width")]()},dimension:function(a){return a["outer"+(this.vertical?"Height":"Width")](!0)},scroll:function(b,c,d){if(this.animating)return this;if(!1===this._trigger("scroll",null,[b,c]))return this;a.isFunction(c)&&(d=c,c=!0);var e=a.jCarousel.parseTarget(b);if(e.relative){var f,g,h,i,j,k,l,m,n=this.items().length-1,o=Math.abs(e.target),p=this.options("wrap");if(e.target>0){var q=this.index(this._last);if(q>=n&&this.tail)this.inTail?"both"===p||"last"===p?this._scroll(0,c,d):a.isFunction(d)&&d.call(this,!1):this._scrollTail(c,d);else if(f=this.index(this._target),this.underflow&&f===n&&("circular"===p||"both"===p||"last"===p)||!this.underflow&&q===n&&("both"===p||"last"===p))this._scroll(0,c,d);else if(h=f+o,this.circular&&h>n){for(m=n,j=this.items().get(-1);h>m++;)j=this.items().eq(0),k=this._visible.index(j)>=0,k&&j.after(j.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(j),k||(l={},l[this.lt]=this.dimension(j),this.moveBy(l)),this._items=null;this._scroll(j,c,d)}else this._scroll(Math.min(h,n),c,d)}else if(this.inTail)this._scroll(Math.max(this.index(this._first)-o+1,0),c,d);else if(g=this.index(this._first),f=this.index(this._target),i=this.underflow?f:g,h=i-o,0>=i&&(this.underflow&&"circular"===p||"both"===p||"first"===p))this._scroll(n,c,d);else if(this.circular&&0>h){for(m=h,j=this.items().get(0);0>m++;){j=this.items().eq(-1),k=this._visible.index(j)>=0,k&&j.after(j.clone(!0).attr("data-jcarousel-clone",!0)),this.list().prepend(j),this._items=null;var r=this.dimension(j);l={},l[this.lt]=-r,this.moveBy(l)}this._scroll(j,c,d)}else this._scroll(Math.max(h,0),c,d)}else this._scroll(e.target,c,d);return this._trigger("scrollend"),this},moveBy:function(a,b){var d=this.list().position(),e=1,f=0;return this.rtl&&!this.vertical&&(e=-1,this.relative&&(f=this.list().width()-this.clipping())),a.left&&(a.left=d.left+f+c(a.left)*e+"px"),a.top&&(a.top=d.top+f+c(a.top)*e+"px"),this.move(a,b)},move:function(b,c){c=c||{};var d=this.options("transitions"),e=!!d,f=!!d.transforms,g=!!d.transforms3d,h=c.duration||0,i=this.list();if(!e&&h>0)return void i.animate(b,c);var j=c.complete||a.noop,k={};if(e){var l=i.css(["transitionDuration","transitionTimingFunction","transitionProperty"]),m=j;j=function(){a(this).css(l),m.call(this)},k={transitionDuration:(h>0?h/1e3:0)+"s",transitionTimingFunction:d.easing||c.easing,transitionProperty:h>0?function(){return f||g?"all":b.left?"left":"top"}():"none",transform:"none"}}g?k.transform="translate3d("+(b.left||0)+","+(b.top||0)+",0)":f?k.transform="translate("+(b.left||0)+","+(b.top||0)+")":a.extend(k,b),e&&h>0&&i.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",j),i.css(k),0>=h&&i.each(function(){j.call(this)})},_scroll:function(b,c,d){if(this.animating)return a.isFunction(d)&&d.call(this,!1),this;if("object"!=typeof b?b=this.items().eq(b):void 0===b.jquery&&(b=a(b)),0===b.length)return a.isFunction(d)&&d.call(this,!1),this;this.inTail=!1,this._prepare(b);var e=this._position(b),f=this.list().position()[this.lt];if(e===f)return a.isFunction(d)&&d.call(this,!1),this;var g={};return g[this.lt]=e+"px",this._animate(g,c,d),this},_scrollTail:function(b,c){if(this.animating||!this.tail)return a.isFunction(c)&&c.call(this,!1),this;var d=this.list().position()[this.lt];this.rtl&&this.relative&&!this.vertical&&(d+=this.list().width()-this.clipping()),this.rtl&&!this.vertical?d+=this.tail:d-=this.tail,this.inTail=!0;var e={};return e[this.lt]=d+"px",this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())}),this._animate(e,b,c),this},_animate:function(b,c,d){if(d=d||a.noop,!1===this._trigger("animate"))return d.call(this,!1),this;this.animating=!0;var e=this.options("animation"),f=a.proxy(function(){this.animating=!1;var a=this.list().find("[data-jcarousel-clone]");a.length>0&&(a.remove(),this._reload()),this._trigger("animateend"),d.call(this,!0)},this),g="object"==typeof e?a.extend({},e):{duration:e},h=g.complete||a.noop;return c===!1?g.duration=0:void 0!==a.fx.speeds[g.duration]&&(g.duration=a.fx.speeds[g.duration]),g.complete=function(){f(),h.call(this)},this.move(b,g),this},_prepare:function(b){var d,e,f,g,h=this.index(b),i=h,j=this.dimension(b),k=this.clipping(),l=this.vertical?"bottom":this.rtl?"left":"right",m=this.options("center"),n={target:b,first:b,last:b,visible:b,fullyvisible:k>=j?b:a()};if(m&&(j/=2,k/=2),k>j)for(;;){if(d=this.items().eq(++i),0===d.length){if(!this.circular)break;if(d=this.items().eq(0),b.get(0)===d.get(0))break;if(e=this._visible.index(d)>=0,e&&d.after(d.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(d),!e){var o={};o[this.lt]=this.dimension(d),this.moveBy(o)}this._items=null}if(g=this.dimension(d),0===g)break;if(j+=g,n.last=d,n.visible=n.visible.add(d),f=c(d.css("margin-"+l)),k>=j-f&&(n.fullyvisible=n.fullyvisible.add(d)),j>=k)break}if(!this.circular&&!m&&k>j)for(i=h;!(0>--i)&&(d=this.items().eq(i),0!==d.length)&&(g=this.dimension(d),0!==g)&&(j+=g,n.first=d,n.visible=n.visible.add(d),f=c(d.css("margin-"+l)),k>=j-f&&(n.fullyvisible=n.fullyvisible.add(d)),!(j>=k)););return this._update(n),this.tail=0,m||"circular"===this.options("wrap")||"custom"===this.options("wrap")||this.index(n.last)!==this.items().length-1||(j-=c(n.last.css("margin-"+l)),j>k&&(this.tail=j-k)),this},_position:function(a){var b=this._first,c=b.position()[this.lt],d=this.options("center"),e=d?this.clipping()/2-this.dimension(b)/2:0;return this.rtl&&!this.vertical?(c-=this.relative?this.list().width()-this.dimension(b):this.clipping()-this.dimension(b),c+=e):c-=e,!d&&(this.index(a)>this.index(b)||this.inTail)&&this.tail?(c=this.rtl&&!this.vertical?c-this.tail:c+this.tail,this.inTail=!0):this.inTail=!1,-c},_update:function(b){var c,d=this,e={target:this._target||a(),first:this._first||a(),last:this._last||a(),visible:this._visible||a(),fullyvisible:this._fullyvisible||a()},f=this.index(b.first||e.first)<this.index(e.first),g=function(c){var g=[],h=[];b[c].each(function(){0>e[c].index(this)&&g.push(this)}),e[c].each(function(){0>b[c].index(this)&&h.push(this)}),f?g=g.reverse():h=h.reverse(),d._trigger(c+"in",a(g)),d._trigger(c+"out",a(h)),d["_"+c]=b[c]};for(c in b)g(c);return this}})}(jQuery,window),function(a){"use strict";a.jcarousel.fn.scrollIntoView=function(b,c,d){var e,f=a.jCarousel.parseTarget(b),g=this.index(this._fullyvisible.first()),h=this.index(this._fullyvisible.last());if(e=f.relative?0>f.target?Math.max(0,g+f.target):h+f.target:"object"!=typeof f.target?f.target:this.index(f.target),g>e)return this.scroll(e,c,d);if(e>=g&&h>=e)return a.isFunction(d)&&d.call(this,!1),this;for(var i,j=this.items(),k=this.clipping(),l=this.vertical?"bottom":this.rtl?"left":"right",m=0;i=j.eq(e),0!==i.length;){if(m+=this.dimension(i),m>=k){var n=parseFloat(i.css("margin-"+l))||0;m-n!==k&&e++;break}if(0>=e)break;e--}return this.scroll(e,c,d)}}(jQuery),function(a){"use strict";a.jCarousel.plugin("jcarouselControl",{_options:{target:"+=1",event:"click",method:"scroll"},_active:null,_init:function(){this.onDestroy=a.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",a.proxy(this._create,this))},this),this.onReload=a.proxy(this._reload,this),this.onEvent=a.proxy(function(b){b.preventDefault();var c=this.options("method");a.isFunction(c)?c.call(this):this.carousel().jcarousel(this.options("method"),this.options("target"))},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend jcarousel:scrollend",this.onReload),this._element.on(this.options("event")+".jcarouselcontrol",this.onEvent),this._reload()},_destroy:function(){this._element.off(".jcarouselcontrol",this.onEvent),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend jcarousel:scrollend",this.onReload)},_reload:function(){var b,c=a.jCarousel.parseTarget(this.options("target")),d=this.carousel();if(c.relative)b=d.jcarousel(c.target>0?"hasNext":"hasPrev");else{var e="object"!=typeof c.target?d.jcarousel("items").eq(c.target):c.target;b=d.jcarousel("target").index(e)>=0}return this._active!==b&&(this._trigger(b?"active":"inactive"),this._active=b),this}})}(jQuery),function(a){"use strict";a.jCarousel.plugin("jcarouselPagination",{_options:{perPage:null,item:function(a){return'<a href="#'+a+'">'+a+"</a>"},event:"click",method:"scroll"},_carouselItems:null,_pages:{},_items:{},_currentPage:null,_init:function(){this.onDestroy=a.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",a.proxy(this._create,this))},this),this.onReload=a.proxy(this._reload,this),this.onScroll=a.proxy(this._update,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend",this.onReload).on("jcarousel:scrollend",this.onScroll),this._reload()},_destroy:function(){this._clear(),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend",this.onReload).off("jcarousel:scrollend",this.onScroll),this._carouselItems=null},_reload:function(){var b=this.options("perPage");if(this._pages={},this._items={},a.isFunction(b)&&(b=b.call(this)),null==b)this._pages=this._calculatePages();else for(var c,d=parseInt(b,10)||0,e=this._getCarouselItems(),f=1,g=0;c=e.eq(g++),0!==c.length;)this._pages[f]=this._pages[f]?this._pages[f].add(c):c,0===g%d&&f++;this._clear();var h=this,i=this.carousel().data("jcarousel"),j=this._element,k=this.options("item"),l=this._getCarouselItems().length;a.each(this._pages,function(b,c){var d=h._items[b]=a(k.call(h,b,c));d.on(h.options("event")+".jcarouselpagination",a.proxy(function(){var a=c.eq(0);if(i.circular){var d=i.index(i.target()),e=i.index(a);parseFloat(b)>parseFloat(h._currentPage)?d>e&&(a="+="+(l-d+e)):e>d&&(a="-="+(d+(l-e)))}i[this.options("method")](a)},h)),j.append(d)}),this._update()},_update:function(){var b,c=this.carousel().jcarousel("target");a.each(this._pages,function(a,d){return d.each(function(){return c.is(this)?(b=a,!1):void 0}),!b&&void 0}),this._currentPage!==b&&(this._trigger("inactive",this._items[this._currentPage]),this._trigger("active",this._items[b])),this._currentPage=b},items:function(){return this._items},reloadCarouselItems:function(){return this._carouselItems=null,this},_clear:function(){this._element.empty(),this._currentPage=null},_calculatePages:function(){for(var a,b=this.carousel().data("jcarousel"),c=this._getCarouselItems(),d=b.clipping(),e=0,f=0,g=1,h={};a=c.eq(f++),0!==a.length;)h[g]=h[g]?h[g].add(a):a,e+=b.dimension(a),e>=d&&(g++,e=0);return h},_getCarouselItems:function(){return this._carouselItems||(this._carouselItems=this.carousel().jcarousel("items")),this._carouselItems}})}(jQuery),function(a){"use strict";a.jCarousel.plugin("jcarouselAutoscroll",{_options:{target:"+=1",interval:3e3,autostart:!0},_timer:null,_init:function(){this.onDestroy=a.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",a.proxy(this._create,this))},this),this.onAnimateEnd=a.proxy(this.start,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy),this.options("autostart")&&this.start()},_destroy:function(){this.stop(),this.carousel().off("jcarousel:destroy",this.onDestroy)},start:function(){return this.stop(),this.carousel().one("jcarousel:animateend",this.onAnimateEnd),this._timer=setTimeout(a.proxy(function(){this.carousel().jcarousel("scroll",this.options("target"))},this),this.options("interval")),this},stop:function(){return this._timer&&(this._timer=clearTimeout(this._timer)),this.carousel().off("jcarousel:animateend",this.onAnimateEnd),this}})}(jQuery),function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(k(a,c),b)}function f(a,b,c){return!!Array.isArray(a)&&(g(a,c[b],c),!0)}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a}function i(a,b){return h(a,b,!0)}function j(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&h(d,c)}function k(a,b){return function(){return a.apply(b,arguments)}}function l(a,b){return typeof a==ka?a.apply(b?b[0]||d:d,b):a}function m(a,b){return a===d?b:a}function n(a,b,c){g(r(b),function(b){a.addEventListener(b,c,!1)})}function o(a,b,c){g(r(b),function(b){a.removeEventListener(b,c,!1)})}function p(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function q(a,b){return a.indexOf(b)>-1}function r(a){return a.trim().split(/\s+/g)}function s(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function t(a){return Array.prototype.slice.call(a,0)}function u(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];s(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function v(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ia.length;){if(c=ia[g],e=c?c+f:b,e in a)return e;g++}return d}function w(){return oa++}function x(a){var b=a.ownerDocument;return b.defaultView||b.parentWindow}function y(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){l(a.options.enable,[a])&&c.handler(b)},this.init()}function z(a){var b,c=a.options.inputClass;return new(b=c?c:ra?N:sa?Q:qa?S:M)(a,A)}function A(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&ya&&d-e===0,g=b&(Aa|Ba)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,B(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function B(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=E(b)),e>1&&!c.firstMultiple?c.firstMultiple=E(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=F(d);b.timeStamp=na(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=J(h,i),b.distance=I(h,i),C(c,b),b.offsetDirection=H(b.deltaX,b.deltaY),b.scale=g?L(g.pointers,d):1,b.rotation=g?K(g.pointers,d):0,D(c,b);var j=a.element;p(b.srcEvent.target,j)&&(j=b.srcEvent.target),b.target=j}function C(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==ya&&f.eventType!==Aa||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function D(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ba&&(i>xa||h.velocity===d)){var j=h.deltaX-b.deltaX,k=h.deltaY-b.deltaY,l=G(i,j,k);e=l.x,f=l.y,c=ma(l.x)>ma(l.y)?l.x:l.y,g=H(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function E(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:la(a.pointers[c].clientX),clientY:la(a.pointers[c].clientY)},c++;return{timeStamp:na(),pointers:b,center:F(b),deltaX:a.deltaX,deltaY:a.deltaY}}function F(a){var b=a.length;if(1===b)return{x:la(a[0].clientX),y:la(a[0].clientY)};for(var c=0,d=0,e=0;e<b;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:la(c/b),y:la(d/b)}}function G(a,b,c){return{x:b/a||0,y:c/a||0}}function H(a,b){return a===b?Ca:ma(a)>=ma(b)?a>0?Da:Ea:b>0?Fa:Ga}function I(a,b,c){c||(c=Ka);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function J(a,b,c){c||(c=Ka);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function K(a,b){return J(b[1],b[0],La)-J(a[1],a[0],La)}function L(a,b){return I(b[0],b[1],La)/I(a[0],a[1],La)}function M(){this.evEl=Na,this.evWin=Oa,this.allow=!0,this.pressed=!1,y.apply(this,arguments)}function N(){this.evEl=Ra,this.evWin=Sa,y.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function O(){this.evTarget=Ua,this.evWin=Va,this.started=!1,y.apply(this,arguments)}function P(a,b){var c=t(a.touches),d=t(a.changedTouches);return b&(Aa|Ba)&&(c=u(c.concat(d),"identifier",!0)),[c,d]}function Q(){this.evTarget=Xa,this.targetIds={},y.apply(this,arguments)}function R(a,b){var c=t(a.touches),d=this.targetIds;if(b&(ya|za)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=t(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return p(a.target,i)}),b===ya)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Aa|Ba)&&delete d[g[e].identifier],e++;return h.length?[u(f.concat(h),"identifier",!0),h]:void 0}function S(){y.apply(this,arguments);var a=k(this.handler,this);this.touch=new Q(this.manager,a),this.mouse=new M(this.manager,a)}function T(a,b){this.manager=a,this.set(b)}function U(a){if(q(a,bb))return bb;var b=q(a,cb),c=q(a,db);return b&&c?cb+" "+db:b||c?b?cb:db:q(a,ab)?ab:_a}function V(a){this.id=w(),this.manager=null,this.options=i(a||{},this.defaults),this.options.enable=m(this.options.enable,!0),this.state=eb,this.simultaneous={},this.requireFail=[]}function W(a){return a&jb?"cancel":a&hb?"end":a&gb?"move":a&fb?"start":""}function X(a){return a==Ga?"down":a==Fa?"up":a==Da?"left":a==Ea?"right":""}function Y(a,b){var c=b.manager;return c?c.get(a):a}function Z(){V.apply(this,arguments)}function $(){Z.apply(this,arguments),this.pX=null,this.pY=null}function _(){Z.apply(this,arguments)}function aa(){V.apply(this,arguments),this._timer=null,this._input=null}function ba(){Z.apply(this,arguments)}function ca(){Z.apply(this,arguments)}function da(){V.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ea(a,b){return b=b||{},b.recognizers=m(b.recognizers,ea.defaults.preset),new fa(a,b)}function fa(a,b){b=b||{},this.options=i(b,ea.defaults),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=z(this),this.touchAction=new T(this,this.options.touchAction),ga(this,!0),g(b.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ga(a,b){var c=a.element;g(a.options.cssProps,function(a,d){c.style[v(c.style,d)]=b?a:""})}function ha(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var ia=["","webkit","moz","MS","ms","o"],ja=b.createElement("div"),ka="function",la=Math.round,ma=Math.abs,na=Date.now,oa=1,pa=/mobile|tablet|ip(ad|hone|od)|android/i,qa="ontouchstart"in a,ra=v(a,"PointerEvent")!==d,sa=qa&&pa.test(navigator.userAgent),ta="touch",ua="pen",va="mouse",wa="kinect",xa=25,ya=1,za=2,Aa=4,Ba=8,Ca=1,Da=2,Ea=4,Fa=8,Ga=16,Ha=Da|Ea,Ia=Fa|Ga,Ja=Ha|Ia,Ka=["x","y"],La=["clientX","clientY"];y.prototype={handler:function(){},init:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&o(this.element,this.evEl,this.domHandler),this.evTarget&&o(this.target,this.evTarget,this.domHandler),this.evWin&&o(x(this.element),this.evWin,this.domHandler)}};var Ma={mousedown:ya,mousemove:za,mouseup:Aa},Na="mousedown",Oa="mousemove mouseup";j(M,y,{handler:function(a){var b=Ma[a.type];b&ya&&0===a.button&&(this.pressed=!0),b&za&&1!==a.which&&(b=Aa),this.pressed&&this.allow&&(b&Aa&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:va,srcEvent:a}))}});var Pa={pointerdown:ya,pointermove:za,pointerup:Aa,pointercancel:Ba,pointerout:Ba},Qa={2:ta,3:ua,4:va,5:wa},Ra="pointerdown",Sa="pointermove pointerup pointercancel";a.MSPointerEvent&&(Ra="MSPointerDown",Sa="MSPointerMove MSPointerUp MSPointerCancel"),j(N,y,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Pa[d],f=Qa[a.pointerType]||a.pointerType,g=f==ta,h=s(b,a.pointerId,"pointerId");e&ya&&(0===a.button||g)?h<0&&(b.push(a),h=b.length-1):e&(Aa|Ba)&&(c=!0),h<0||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Ta={touchstart:ya,touchmove:za,touchend:Aa,touchcancel:Ba},Ua="touchstart",Va="touchstart touchmove touchend touchcancel";j(O,y,{handler:function(a){var b=Ta[a.type];if(b===ya&&(this.started=!0),this.started){var c=P.call(this,a,b);b&(Aa|Ba)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:ta,srcEvent:a})}}});var Wa={touchstart:ya,touchmove:za,touchend:Aa,touchcancel:Ba},Xa="touchstart touchmove touchend touchcancel";j(Q,y,{handler:function(a){var b=Wa[a.type],c=R.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:ta,srcEvent:a})}}),j(S,y,{handler:function(a,b,c){var d=c.pointerType==ta,e=c.pointerType==va;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(Aa|Ba)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ya=v(ja.style,"touchAction"),Za=Ya!==d,$a="compute",_a="auto",ab="manipulation",bb="none",cb="pan-x",db="pan-y";T.prototype={set:function(a){a==$a&&(a=this.compute()),Za&&(this.manager.element.style[Ya]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){l(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),U(a.join(" "))},preventDefaults:function(a){if(!Za){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=q(d,bb),f=q(d,db),g=q(d,cb);return e||f&&c&Ha||g&&c&Ia?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var eb=1,fb=2,gb=4,hb=8,ib=hb,jb=16,kb=32;V.prototype={defaults:{},set:function(a){return h(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=Y(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=Y(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=Y(a,this),s(b,a)===-1&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=Y(a,this);var b=s(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(c.options.event+(b?W(d):""),a)}var c=this,d=this.state;d<hb&&b(!0),b(),d>=hb&&b(!0)},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=kb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(kb|eb)))return!1;a++}return!0},recognize:function(a){var b=h({},a);return l(this.options.enable,[this,b])?(this.state&(ib|jb|kb)&&(this.state=eb),this.state=this.process(b),void(this.state&(fb|gb|hb|jb)&&this.tryEmit(b))):(this.reset(),void(this.state=kb))},process:function(a){},getTouchAction:function(){},reset:function(){}},j(Z,V,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(fb|gb),e=this.attrTest(a);return d&&(c&Ba||!e)?b|jb:d||e?c&Aa?b|hb:b&fb?b|gb:fb:kb}}),j($,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ja},getTouchAction:function(){var a=this.options.direction,b=[];return a&Ha&&b.push(db),a&Ia&&b.push(cb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Ha?(e=0===f?Ca:f<0?Da:Ea,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ca:g<0?Fa:Ga,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return Z.prototype.attrTest.call(this,a)&&(this.state&fb||!(this.state&fb)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=X(a.direction);b&&this.manager.emit(this.options.event+b,a),this._super.emit.call(this,a)}}),j(_,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[bb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&fb)},emit:function(a){if(this._super.emit.call(this,a),1!==a.scale){var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}}),j(aa,V,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[_a]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Aa|Ba)&&!f)this.reset();else if(a.eventType&ya)this.reset(),this._timer=e(function(){this.state=ib,this.tryEmit()},b.time,this);else if(a.eventType&Aa)return ib;return kb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===ib&&(a&&a.eventType&Aa?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=na(),this.manager.emit(this.options.event,this._input)))}}),j(ba,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[bb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&fb)}}),j(ca,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Ha|Ia,pointers:1},getTouchAction:function(){return $.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Ha|Ia)?b=a.velocity:c&Ha?b=a.velocityX:c&Ia&&(b=a.velocityY),this._super.attrTest.call(this,a)&&c&a.direction&&a.distance>this.options.threshold&&ma(b)>this.options.velocity&&a.eventType&Aa},emit:function(a){var b=X(a.direction);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),j(da,V,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ab]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&ya&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Aa)return this.failTimeout();var g=!this.pTime||a.timeStamp-this.pTime<b.interval,h=!this.pCenter||I(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=ib,this.tryEmit()},b.interval,this),fb):ib}return kb},failTimeout:function(){return this._timer=e(function(){this.state=kb},this.options.interval,this),kb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ib&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ea.VERSION="2.0.4",ea.defaults={domEvents:!1,touchAction:$a,enable:!0,inputTarget:null,inputClass:null,preset:[[ba,{enable:!1}],[_,{enable:!1},["rotate"]],[ca,{direction:Ha}],[$,{direction:Ha},["swipe"]],[da],[da,{event:"doubletap",taps:2},["tap"]],[aa]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",
userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var lb=1,mb=2;fa.prototype={set:function(a){return h(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?mb:lb},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&ib)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===mb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(fb|gb|hb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof V)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;var b=this.recognizers;return a=this.get(a),b.splice(s(b,a),1),this.touchAction.update(),this},on:function(a,b){var c=this.handlers;return g(r(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return g(r(a),function(a){b?c[a].splice(s(c[a],b),1):delete c[a]}),this},emit:function(a,b){this.options.domEvents&&ha(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ga(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(ea,{INPUT_START:ya,INPUT_MOVE:za,INPUT_END:Aa,INPUT_CANCEL:Ba,STATE_POSSIBLE:eb,STATE_BEGAN:fb,STATE_CHANGED:gb,STATE_ENDED:hb,STATE_RECOGNIZED:ib,STATE_CANCELLED:jb,STATE_FAILED:kb,DIRECTION_NONE:Ca,DIRECTION_LEFT:Da,DIRECTION_RIGHT:Ea,DIRECTION_UP:Fa,DIRECTION_DOWN:Ga,DIRECTION_HORIZONTAL:Ha,DIRECTION_VERTICAL:Ia,DIRECTION_ALL:Ja,Manager:fa,Input:y,TouchAction:T,TouchInput:Q,MouseInput:M,PointerEventInput:N,TouchMouseInput:S,SingleTouchInput:O,Recognizer:V,AttrRecognizer:Z,Tap:da,Pan:$,Swipe:ca,Pinch:_,Rotate:ba,Press:aa,on:n,off:o,each:g,merge:i,extend:h,inherit:j,bindFn:k,prefixed:v}),typeof define==ka&&define.amd?define(function(){return ea}):"undefined"!=typeof module&&module.exports?module.exports=ea:a[c]=ea}(window,document,"Hammer"),!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.Handlebars=b():a.Handlebars=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(){var a=r();return a.compile=function(b,c){return k.compile(b,c,a)},a.precompile=function(b,c){return k.precompile(b,c,a)},a.AST=i["default"],a.Compiler=k.Compiler,a.JavaScriptCompiler=m["default"],a.Parser=j.parser,a.parse=j.parse,a}var e=c(1)["default"];b.__esModule=!0;var f=c(2),g=e(f),h=c(21),i=e(h),j=c(22),k=c(27),l=c(28),m=e(l),n=c(25),o=e(n),p=c(20),q=e(p),r=g["default"].create,s=d();s.create=d,q["default"](s),s.Visitor=o["default"],s["default"]=s,b["default"]=s,a.exports=b["default"]},function(a,b){"use strict";b["default"]=function(a){return a&&a.__esModule?a:{"default":a}},b.__esModule=!0},function(a,b,c){"use strict";function d(){var a=new h.HandlebarsEnvironment;return n.extend(a,h),a.SafeString=j["default"],a.Exception=l["default"],a.Utils=n,a.escapeExpression=n.escapeExpression,a.VM=p,a.template=function(b){return p.template(b,a)},a}var e=c(3)["default"],f=c(1)["default"];b.__esModule=!0;var g=c(4),h=e(g),i=c(18),j=f(i),k=c(6),l=f(k),m=c(5),n=e(m),o=c(19),p=e(o),q=c(20),r=f(q),s=d();s.create=d,r["default"](s),s["default"]=s,b["default"]=s,a.exports=b["default"]},function(a,b){"use strict";b["default"]=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b},b.__esModule=!0},function(a,b,c){"use strict";function d(a,b,c){this.helpers=a||{},this.partials=b||{},this.decorators=c||{},i.registerDefaultHelpers(this),j.registerDefaultDecorators(this)}var e=c(1)["default"];b.__esModule=!0,b.HandlebarsEnvironment=d;var f=c(5),g=c(6),h=e(g),i=c(7),j=c(15),k=c(17),l=e(k),m="4.0.5";b.VERSION=m;var n=7;b.COMPILER_REVISION=n;var o={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};b.REVISION_CHANGES=o;var p="[object Object]";d.prototype={constructor:d,logger:l["default"],log:l["default"].log,registerHelper:function(a,b){if(f.toString.call(a)===p){if(b)throw new h["default"]("Arg not supported with multiple helpers");f.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(f.toString.call(a)===p)f.extend(this.partials,a);else{if("undefined"==typeof b)throw new h["default"]('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if(f.toString.call(a)===p){if(b)throw new h["default"]("Arg not supported with multiple decorators");f.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]}};var q=l["default"].log;b.log=q,b.createFrame=f.createFrame,b.logger=l["default"]},function(a,b){"use strict";function c(a){return k[a]}function d(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function e(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}function f(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return m.test(a)?a.replace(l,c):a}function g(a){return!a&&0!==a||!(!p(a)||0!==a.length)}function h(a){var b=d({},a);return b._parent=a,b}function i(a,b){return a.path=b,a}function j(a,b){return(a?a+".":"")+b}b.__esModule=!0,b.extend=d,b.indexOf=e,b.escapeExpression=f,b.isEmpty=g,b.createFrame=h,b.blockParams=i,b.appendContextPath=j;var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},l=/[&<>"'`=]/g,m=/[&<>"'`=]/,n=Object.prototype.toString;b.toString=n;var o=function(a){return"function"==typeof a};o(/x/)&&(b.isFunction=o=function(a){return"function"==typeof a&&"[object Function]"===n.call(a)}),b.isFunction=o;var p=Array.isArray||function(a){return!(!a||"object"!=typeof a)&&"[object Array]"===n.call(a)};b.isArray=p},function(a,b){"use strict";function c(a,b){var e=b&&b.loc,f=void 0,g=void 0;e&&(f=e.start.line,g=e.start.column,a+=" - "+f+":"+g);for(var h=Error.prototype.constructor.call(this,a),i=0;i<d.length;i++)this[d[i]]=h[d[i]];Error.captureStackTrace&&Error.captureStackTrace(this,c),e&&(this.lineNumber=f,this.column=g)}b.__esModule=!0;var d=["description","fileName","lineNumber","message","name","number","stack"];c.prototype=new Error,b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){g["default"](a),i["default"](a),k["default"](a),m["default"](a),o["default"](a),q["default"](a),s["default"](a)}var e=c(1)["default"];b.__esModule=!0,b.registerDefaultHelpers=d;var f=c(8),g=e(f),h=c(9),i=e(h),j=c(10),k=e(j),l=c(11),m=e(l),n=c(12),o=e(n),p=c(13),q=e(p),r=c(14),s=e(r)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b["default"]=function(a){a.registerHelper("blockHelperMissing",function(b,c){var e=c.inverse,f=c.fn;if(b===!0)return f(this);if(b===!1||null==b)return e(this);if(d.isArray(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):e(this);if(c.data&&c.ids){var g=d.createFrame(c.data);g.contextPath=d.appendContextPath(c.data.contextPath,c.name),c={data:g}}return f(b,c)})},a.exports=b["default"]},function(a,b,c){"use strict";var d=c(1)["default"];b.__esModule=!0;var e=c(5),f=c(6),g=d(f);b["default"]=function(a){a.registerHelper("each",function(a,b){function c(b,c,f){j&&(j.key=b,j.index=c,j.first=0===c,j.last=!!f,k&&(j.contextPath=k+b)),i+=d(a[b],{data:j,blockParams:e.blockParams([a[b],b],[k+b,null])})}if(!b)throw new g["default"]("Must pass iterator to #each");var d=b.fn,f=b.inverse,h=0,i="",j=void 0,k=void 0;if(b.data&&b.ids&&(k=e.appendContextPath(b.data.contextPath,b.ids[0])+"."),e.isFunction(a)&&(a=a.call(this)),b.data&&(j=e.createFrame(b.data)),a&&"object"==typeof a)if(e.isArray(a))for(var l=a.length;l>h;h++)h in a&&c(h,h,h===a.length-1);else{var m=void 0;for(var n in a)a.hasOwnProperty(n)&&(void 0!==m&&c(m,h-1),m=n,h++);void 0!==m&&c(m,h-1,!0)}return 0===h&&(i=f(this)),i})},a.exports=b["default"]},function(a,b,c){"use strict";var d=c(1)["default"];b.__esModule=!0;var e=c(6),f=d(e);b["default"]=function(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new f["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b["default"]=function(a){a.registerHelper("if",function(a,b){return d.isFunction(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||d.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})},a.exports=b["default"]},function(a,b){"use strict";b.__esModule=!0,b["default"]=function(a){a.registerHelper("log",function(){for(var b=[void 0],c=arguments[arguments.length-1],d=0;d<arguments.length-1;d++)b.push(arguments[d]);var e=1;null!=c.hash.level?e=c.hash.level:c.data&&null!=c.data.level&&(e=c.data.level),b[0]=e,a.log.apply(a,b)})},a.exports=b["default"]},function(a,b){"use strict";b.__esModule=!0,b["default"]=function(a){a.registerHelper("lookup",function(a,b){return a&&a[b]})},a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b["default"]=function(a){a.registerHelper("with",function(a,b){d.isFunction(a)&&(a=a.call(this));var c=b.fn;if(d.isEmpty(a))return b.inverse(this);var e=b.data;return b.data&&b.ids&&(e=d.createFrame(b.data),e.contextPath=d.appendContextPath(b.data.contextPath,b.ids[0])),c(a,{data:e,blockParams:d.blockParams([a],[e&&e.contextPath])})})},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){g["default"](a)}var e=c(1)["default"];b.__esModule=!0,b.registerDefaultDecorators=d;var f=c(16),g=e(f)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b["default"]=function(a){a.registerDecorator("inline",function(a,b,c,e){var f=a;return b.partials||(b.partials={},f=function(e,f){var g=c.partials;c.partials=d.extend({},g,b.partials);var h=a(e,f);return c.partials=g,h}),b.partials[e.args[0]]=e.fn,f})},a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5),e={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var b=d.indexOf(e.methodMap,a.toLowerCase());a=b>=0?b:parseInt(a,10)}return a},log:function(a){if(a=e.lookupLevel(a),"undefined"!=typeof console&&e.lookupLevel(e.level)<=a){var b=e.methodMap[a];console[b]||(b="log");for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;c>f;f++)d[f-1]=arguments[f];console[b].apply(console,d)}}};b["default"]=e,a.exports=b["default"]},function(a,b){"use strict";function c(a){this.string=a}b.__esModule=!0,c.prototype.toString=c.prototype.toHTML=function(){return""+this.string},b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=r.COMPILER_REVISION;if(b!==c){if(c>b){var d=r.REVISION_CHANGES[c],e=r.REVISION_CHANGES[b];throw new q["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new q["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){function c(c,d,e){e.hash&&(d=o.extend({},d,e.hash),e.ids&&(e.ids[0]=!0)),c=b.VM.resolvePartial.call(this,c,d,e);var f=b.VM.invokePartial.call(this,c,d,e);if(null==f&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),f=e.partials[e.name](d,e)),null!=f){if(e.indent){for(var g=f.split("\n"),h=0,i=g.length;i>h&&(g[h]||h+1!==i);h++)g[h]=e.indent+g[h];f=g.join("\n")}return f}throw new q["default"]("The partial "+e.name+" could not be compiled when running in runtime-only mode")}function d(b){function c(b){return""+a.main(e,b,e.helpers,e.partials,g,i,h)}var f=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],g=f.data;d._setup(f),!f.partial&&a.useData&&(g=j(b,g));var h=void 0,i=a.useBlockParams?[]:void 0;return a.useDepths&&(h=f.depths?b!==f.depths[0]?[b].concat(f.depths):f.depths:[b]),(c=k(a.main,c,e,f.depths||[],g,i))(b,f)}if(!b)throw new q["default"]("No environment passed to template");if(!a||!a.main)throw new q["default"]("Unknown template object: "+typeof a);a.main.decorator=a.main_d,b.VM.checkRevision(a.compiler);var e={strict:function(a,b){if(!(b in a))throw new q["default"]('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var c=a.length,d=0;c>d;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:o.escapeExpression,invokePartial:c,fn:function(b){var c=a[b];return c.decorator=a[b+"_d"],c},programs:[],program:function(a,b,c,d,e){var g=this.programs[a],h=this.fn(a);return b||e||d||c?g=f(this,a,h,b,c,d,e):g||(g=this.programs[a]=f(this,a,h)),g},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=o.extend({},b,a)),c},noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){c.partial?(e.helpers=c.helpers,e.partials=c.partials,e.decorators=c.decorators):(e.helpers=e.merge(c.helpers,b.helpers),a.usePartial&&(e.partials=e.merge(c.partials,b.partials)),(a.usePartial||a.useDecorators)&&(e.decorators=e.merge(c.decorators,b.decorators)))},d._child=function(b,c,d,g){if(a.useBlockParams&&!d)throw new q["default"]("must pass block params");if(a.useDepths&&!g)throw new q["default"]("must pass parent depths");return f(e,b,a[b],c,0,d,g)},d}function f(a,b,c,d,e,f,g){function h(b){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=g;return g&&b!==g[0]&&(h=[b].concat(g)),c(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),h)}return h=k(c,h,a,g,d,f),h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function g(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name],a}function h(a,b,c){c.partial=!0,c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);var d=void 0;if(c.fn&&c.fn!==i&&(c.data=r.createFrame(c.data),d=c.data["partial-block"]=c.fn,d.partials&&(c.partials=o.extend({},c.partials,d.partials))),void 0===a&&d&&(a=d),void 0===a)throw new q["default"]("The partial "+c.name+" could not be found");return a instanceof Function?a(b,c):void 0}function i(){return""}function j(a,b){return b&&"root"in b||(b=b?r.createFrame(b):{},b.root=a),b}function k(a,b,c,d,e,f){if(a.decorator){var g={};b=a.decorator(b,g,c,d&&d[0],e,f,d),o.extend(b,g)}return b}var l=c(3)["default"],m=c(1)["default"];b.__esModule=!0,b.checkRevision=d,b.template=e,b.wrapProgram=f,b.resolvePartial=g,b.invokePartial=h,b.noop=i;var n=c(5),o=l(n),p=c(6),q=m(p),r=c(4)},function(a,b){(function(c){"use strict";b.__esModule=!0,b["default"]=function(a){var b="undefined"!=typeof c?c:window,d=b.Handlebars;a.noConflict=function(){return b.Handlebars===a&&(b.Handlebars=d),a}},a.exports=b["default"]}).call(b,function(){return this}())},function(a,b){"use strict";b.__esModule=!0;var c={helpers:{helperExpression:function(a){return"SubExpression"===a.type||("MustacheStatement"===a.type||"BlockStatement"===a.type)&&!!(a.params&&a.params.length||a.hash)},scopedId:function(a){return/^\.|this\b/.test(a.original)},simpleId:function(a){return 1===a.parts.length&&!c.helpers.scopedId(a)&&!a.depth}}};b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){if("Program"===a.type)return a;h["default"].yy=n,n.locInfo=function(a){return new n.SourceLocation(b&&b.srcName,a)};var c=new j["default"](b);return c.accept(h["default"].parse(a))}var e=c(1)["default"],f=c(3)["default"];b.__esModule=!0,b.parse=d;var g=c(23),h=e(g),i=c(24),j=e(i),k=c(26),l=f(k),m=c(5);b.parser=h["default"];var n={};m.extend(n,l)},function(a,b){"use strict";var c=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=d.prepareProgram(f[h]);break;case 3:this.$=f[h];break;case 4:this.$=f[h];break;case 5:this.$=f[h];break;case 6:this.$=f[h];break;case 7:this.$=f[h];break;case 8:this.$=f[h];break;case 9:this.$={type:"CommentStatement",value:d.stripComment(f[h]),strip:d.stripFlags(f[h],f[h]),loc:d.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:f[h],value:f[h],loc:d.locInfo(this._$)};break;case 11:this.$=d.prepareRawBlock(f[h-2],f[h-1],f[h],this._$);break;case 12:this.$={path:f[h-3],params:f[h-2],hash:f[h-1]};break;case 13:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!1,this._$);break;case 14:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!0,this._$);break;case 15:this.$={open:f[h-5],path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 16:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 17:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 18:this.$={strip:d.stripFlags(f[h-1],f[h-1]),program:f[h]};break;case 19:var i=d.prepareBlock(f[h-2],f[h-1],f[h],f[h],!1,this._$),j=d.prepareProgram([i],f[h-1].loc);j.chained=!0,this.$={strip:f[h-2].strip,program:j,chain:!0};break;case 20:this.$=f[h];break;case 21:this.$={path:f[h-1],strip:d.stripFlags(f[h-2],f[h])};break;case 22:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 23:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 24:this.$={type:"PartialStatement",name:f[h-3],params:f[h-2],hash:f[h-1],indent:"",strip:d.stripFlags(f[h-4],f[h]),loc:d.locInfo(this._$)};break;case 25:this.$=d.preparePartialBlock(f[h-2],f[h-1],f[h],this._$);break;case 26:this.$={path:f[h-3],params:f[h-2],hash:f[h-1],strip:d.stripFlags(f[h-4],f[h])};break;case 27:this.$=f[h];break;case 28:this.$=f[h];break;case 29:this.$={type:"SubExpression",path:f[h-3],params:f[h-2],hash:f[h-1],loc:d.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:f[h],loc:d.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:d.id(f[h-2]),value:f[h],loc:d.locInfo(this._$)};break;case 32:this.$=d.id(f[h-1]);break;case 33:this.$=f[h];break;case 34:this.$=f[h];break;case 35:this.$={type:"StringLiteral",value:f[h],original:f[h],loc:d.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(f[h]),original:Number(f[h]),loc:d.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===f[h],original:"true"===f[h],loc:d.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:d.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:d.locInfo(this._$)};break;case 40:this.$=f[h];break;case 41:this.$=f[h];break;case 42:this.$=d.preparePath(!0,f[h],this._$);break;case 43:this.$=d.preparePath(!1,f[h],this._$);break;case 44:f[h-2].push({part:d.id(f[h]),original:f[h],separator:f[h-1]}),this.$=f[h-2];break;case 45:this.$=[{part:d.id(f[h]),original:f[h]}];break;case 46:this.$=[];break;case 47:f[h-1].push(f[h]);break;case 48:this.$=[f[h]];break;case 49:f[h-1].push(f[h]);break;case 50:this.$=[];break;case 51:f[h-1].push(f[h]);break;case 58:this.$=[];break;case 59:f[h-1].push(f[h]);break;case 64:this.$=[];break;case 65:f[h-1].push(f[h]);break;case 70:this.$=[];break;case 71:f[h-1].push(f[h]);break;case 78:this.$=[];break;case 79:f[h-1].push(f[h]);break;case 82:this.$=[];break;case 83:f[h-1].push(f[h]);break;case 86:this.$=[];break;case 87:f[h-1].push(f[h]);break;case 90:this.$=[];break;case 91:f[h-1].push(f[h]);break;case 94:this.$=[];break;case 95:f[h-1].push(f[h]);break;case 98:this.$=[f[h]];break;case 99:f[h-1].push(f[h]);break;case 100:this.$=[f[h]];break;case 101:f[h-1].push(f[h])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],
84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(b.yytext=b.yytext.substr(5,b.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(b.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return b.yytext=e(1,2).replace(/\\"/g,'"'),80;case 32:return b.yytext=e(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return b.yytext=b.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();b.__esModule=!0,b["default"]=c},function(a,b,c){"use strict";function d(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=a}function e(a,b,c){void 0===b&&(b=a.length);var d=a[b-1],e=a[b-2];return d?"ContentStatement"===d.type?(e||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(d.original):void 0:c}function f(a,b,c){void 0===b&&(b=-1);var d=a[b+1],e=a[b+2];return d?"ContentStatement"===d.type?(e||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(d.original):void 0:c}function g(a,b,c){var d=a[null==b?0:b+1];if(d&&"ContentStatement"===d.type&&(c||!d.rightStripped)){var e=d.value;d.value=d.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==e}}function h(a,b,c){var d=a[null==b?a.length-1:b-1];if(d&&"ContentStatement"===d.type&&(c||!d.leftStripped)){var e=d.value;return d.value=d.value.replace(c?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==e,d.leftStripped}}var i=c(1)["default"];b.__esModule=!0;var j=c(25),k=i(j);d.prototype=new k["default"],d.prototype.Program=function(a){var b=!this.options.ignoreStandalone,c=!this.isRootSeen;this.isRootSeen=!0;for(var d=a.body,i=0,j=d.length;j>i;i++){var k=d[i],l=this.accept(k);if(l){var m=e(d,i,c),n=f(d,i,c),o=l.openStandalone&&m,p=l.closeStandalone&&n,q=l.inlineStandalone&&m&&n;l.close&&g(d,i,!0),l.open&&h(d,i,!0),b&&q&&(g(d,i),h(d,i)&&"PartialStatement"===k.type&&(k.indent=/([ \t]+$)/.exec(d[i-1].original)[1])),b&&o&&(g((k.program||k.inverse).body),h(d,i)),b&&p&&(g(d,i),h((k.inverse||k.program).body))}}return a},d.prototype.BlockStatement=d.prototype.DecoratorBlock=d.prototype.PartialBlockStatement=function(a){this.accept(a.program),this.accept(a.inverse);var b=a.program||a.inverse,c=a.program&&a.inverse,d=c,i=c;if(c&&c.chained)for(d=c.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var j={open:a.openStrip.open,close:a.closeStrip.close,openStandalone:f(b.body),closeStandalone:e((d||b).body)};if(a.openStrip.close&&g(b.body,null,!0),c){var k=a.inverseStrip;k.open&&h(b.body,null,!0),k.close&&g(d.body,null,!0),a.closeStrip.open&&h(i.body,null,!0),!this.options.ignoreStandalone&&e(b.body)&&f(d.body)&&(h(b.body),g(d.body))}else a.closeStrip.open&&h(b.body,null,!0);return j},d.prototype.Decorator=d.prototype.MustacheStatement=function(a){return a.strip},d.prototype.PartialStatement=d.prototype.CommentStatement=function(a){var b=a.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}},b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(){this.parents=[]}function e(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash")}function f(a){e.call(this,a),this.acceptKey(a,"program"),this.acceptKey(a,"inverse")}function g(a){this.acceptRequired(a,"name"),this.acceptArray(a.params),this.acceptKey(a,"hash")}var h=c(1)["default"];b.__esModule=!0;var i=c(6),j=h(i);d.prototype={constructor:d,mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&!d.prototype[c.type])throw new j["default"]('Unexpected node type "'+c.type+'" found when accepting '+b+" on "+a.type);a[b]=c}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new j["default"](a.type+" requires "+b)},acceptArray:function(a){for(var b=0,c=a.length;c>b;b++)this.acceptKey(a,b),a[b]||(a.splice(b,1),b--,c--)},accept:function(a){if(a){if(!this[a.type])throw new j["default"]("Unknown type: "+a.type,a);this.current&&this.parents.unshift(this.current),this.current=a;var b=this[a.type](a);return this.current=this.parents.shift(),!this.mutating||b?b:b!==!1?a:void 0}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:e,Decorator:e,BlockStatement:f,DecoratorBlock:f,PartialStatement:g,PartialBlockStatement:function(a){g.call(this,a),this.acceptKey(a,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:e,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}},b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){if(b=b.path?b.path.original:b,a.path.original!==b){var c={loc:a.path.loc};throw new q["default"](a.path.original+" doesn't match "+b,c)}}function e(a,b){this.source=a,this.start={line:b.first_line,column:b.first_column},this.end={line:b.last_line,column:b.last_column}}function f(a){return/^\[.*\]$/.test(a)?a.substr(1,a.length-2):a}function g(a,b){return{open:"~"===a.charAt(2),close:"~"===b.charAt(b.length-3)}}function h(a){return a.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function i(a,b,c){c=this.locInfo(c);for(var d=a?"@":"",e=[],f=0,g="",h=0,i=b.length;i>h;h++){var j=b[h].part,k=b[h].original!==j;if(d+=(b[h].separator||"")+j,k||".."!==j&&"."!==j&&"this"!==j)e.push(j);else{if(e.length>0)throw new q["default"]("Invalid path: "+d,{loc:c});".."===j&&(f++,g+="../")}}return{type:"PathExpression",data:a,depth:f,parts:e,original:d,loc:c}}function j(a,b,c,d,e,f){var g=d.charAt(3)||d.charAt(2),h="{"!==g&&"&"!==g,i=/\*/.test(d);return{type:i?"Decorator":"MustacheStatement",path:a,params:b,hash:c,escaped:h,strip:e,loc:this.locInfo(f)}}function k(a,b,c,e){d(a,c),e=this.locInfo(e);var f={type:"Program",body:b,strip:{},loc:e};return{type:"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:f,openStrip:{},inverseStrip:{},closeStrip:{},loc:e}}function l(a,b,c,e,f,g){e&&e.path&&d(a,e);var h=/\*/.test(a.open);b.blockParams=a.blockParams;var i=void 0,j=void 0;if(c){if(h)throw new q["default"]("Unexpected inverse block on decorator",c);c.chain&&(c.program.body[0].closeStrip=e.strip),j=c.strip,i=c.program}return f&&(f=i,i=b,b=f),{type:h?"DecoratorBlock":"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:b,inverse:i,openStrip:a.strip,inverseStrip:j,closeStrip:e&&e.strip,loc:this.locInfo(g)}}function m(a,b){if(!b&&a.length){var c=a[0].loc,d=a[a.length-1].loc;c&&d&&(b={source:c.source,start:{line:c.start.line,column:c.start.column},end:{line:d.end.line,column:d.end.column}})}return{type:"Program",body:a,strip:{},loc:b}}function n(a,b,c,e){return d(a,c),{type:"PartialBlockStatement",name:a.path,params:a.params,hash:a.hash,program:b,openStrip:a.strip,closeStrip:c&&c.strip,loc:this.locInfo(e)}}var o=c(1)["default"];b.__esModule=!0,b.SourceLocation=e,b.id=f,b.stripFlags=g,b.stripComment=h,b.preparePath=i,b.prepareMustache=j,b.prepareRawBlock=k,b.prepareBlock=l,b.prepareProgram=m,b.preparePartialBlock=n;var p=c(6),q=o(p)},function(a,b,c){"use strict";function d(){}function e(a,b,c){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var d=c.parse(a,b),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function f(a,b,c){function d(){var d=c.parse(a,b),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}function e(a,b){return f||(f=d()),f.call(this,a,b)}if(void 0===b&&(b={}),null==a||"string"!=typeof a&&"Program"!==a.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var f=void 0;return e._setup=function(a){return f||(f=d()),f._setup(a)},e._child=function(a,b,c,e){return f||(f=d()),f._child(a,b,c,e)},e}function g(a,b){if(a===b)return!0;if(l.isArray(a)&&l.isArray(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!g(a[c],b[c]))return!1;return!0}}function h(a){if(!a.path.parts){var b=a.path;a.path={type:"PathExpression",data:!1,depth:0,parts:[b.original+""],original:b.original+"",loc:b.loc}}}var i=c(1)["default"];b.__esModule=!0,b.Compiler=d,b.precompile=e,b.compile=f;var j=c(6),k=i(j),l=c(5),m=c(21),n=i(m),o=[].slice;d.prototype={compiler:d,equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||!g(d.args,e.args))return!1}b=this.children.length;for(var c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=b,this.stringParams=b.stringParams,this.trackIds=b.trackIds,b.blockParams=b.blockParams||[];var c=b.knownHelpers;if(b.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},c)for(var d in c)d in c&&(b.knownHelpers[d]=c[d]);return this.accept(a)},compileProgram:function(a){var b=new this.compiler,c=b.compile(a,this.options),d=this.guid++;return this.usePartial=this.usePartial||c.usePartial,this.children[d]=c,this.useDepths=this.useDepths||c.useDepths,d},accept:function(a){if(!this[a.type])throw new k["default"]("Unknown type: "+a.type,a);this.sourceNode.unshift(a);var b=this[a.type](a);return this.sourceNode.shift(),b},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,c=b.length,d=0;c>d;d++)this.accept(b[d]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(a){h(a);var b=a.program,c=a.inverse;b=b&&this.compileProgram(b),c=c&&this.compileProgram(c);var d=this.classifySexpr(a);"helper"===d?this.helperSexpr(a,b,c):"simple"===d?(this.simpleSexpr(a),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",a.path.original)):(this.ambiguousSexpr(a,b,c),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(a){var b=a.program&&this.compileProgram(a.program),c=this.setupFullMustacheParams(a,b,void 0),d=a.path;this.useDecorators=!0,this.opcode("registerDecorator",c.length,d.original)},PartialStatement:function(a){this.usePartial=!0;var b=a.program;b&&(b=this.compileProgram(a.program));var c=a.params;if(c.length>1)throw new k["default"]("Unsupported number of partial arguments: "+c.length,a);c.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):c.push({type:"PathExpression",parts:[],depth:0}));var d=a.name.original,e="SubExpression"===a.name.type;e&&this.accept(a.name),this.setupFullMustacheParams(a,b,void 0,!0);var f=a.indent||"";this.options.preventIndent&&f&&(this.opcode("appendContent",f),f=""),this.opcode("invokePartial",e,d,f),this.opcode("append")},PartialBlockStatement:function(a){this.PartialStatement(a)},MustacheStatement:function(a){this.SubExpression(a),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(a){this.DecoratorBlock(a)},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(a){h(a);var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,b,c){var d=a.path,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),d.strict=!0,this.accept(d),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.path;b.strict=!0,this.accept(b),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.path,f=e.parts[0];if(this.options.knownHelpers[f])this.opcode("invokeKnownHelper",d.length,f);else{if(this.options.knownHelpersOnly)throw new k["default"]("You specified knownHelpersOnly, but used the unknown helper "+f,a);e.strict=!0,e.falsy=!0,this.accept(e),this.opcode("invokeHelper",d.length,e.original,n["default"].helpers.simpleId(e))}},PathExpression:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0],c=n["default"].helpers.scopedId(a),d=!a.depth&&!c&&this.blockParamIndex(b);d?this.opcode("lookupBlockParam",d,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts,a.strict)):this.opcode("lookupOnContext",a.parts,a.falsy,a.strict,c):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(a){var b=a.pairs,c=0,d=b.length;for(this.opcode("pushHash");d>c;c++)this.pushParam(b[c].value);for(;c--;)this.opcode("assignToHash",b[c].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:o.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=n["default"].helpers.simpleId(a.path),c=b&&!!this.blockParamIndex(a.path.parts[0]),d=!c&&n["default"].helpers.helperExpression(a),e=!c&&(d||b);if(e&&!d){var f=a.path.parts[0],g=this.options;g.knownHelpers[f]?d=!0:g.knownHelpersOnly&&(e=!1)}return d?"helper":e?"ambiguous":"simple"},pushParams:function(a){for(var b=0,c=a.length;c>b;b++)this.pushParam(a[b])},pushParam:function(a){var b=null!=a.value?a.value:a.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",a.depth||0),this.opcode("pushStringParam",b,a.type),"SubExpression"===a.type&&this.accept(a);else{if(this.trackIds){var c=void 0;if(!a.parts||n["default"].helpers.scopedId(a)||a.depth||(c=this.blockParamIndex(a.parts[0])),c){var d=a.parts.slice(1).join(".");this.opcode("pushId","BlockParam",c,d)}else b=a.original||b,b.replace&&(b=b.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",a.type,b)}this.accept(a)}},setupFullMustacheParams:function(a,b,c,d){var e=a.params;return this.pushParams(e),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.accept(a.hash):this.opcode("emptyHash",d),e},blockParamIndex:function(a){for(var b=0,c=this.options.blockParams.length;c>b;b++){var d=this.options.blockParams[b],e=d&&l.indexOf(d,a);if(d&&e>=0)return[b,e]}}}},function(a,b,c){"use strict";function d(a){this.value=a}function e(){}function f(a,b,c,d){var e=b.popStack(),f=0,g=c.length;for(a&&g--;g>f;f++)e=b.nameLookup(e,c[f],d);return a?[b.aliasable("container.strict"),"(",e,", ",b.quotedString(c[f]),")"]:e}var g=c(1)["default"];b.__esModule=!0;var h=c(4),i=c(6),j=g(i),k=c(5),l=c(29),m=g(l);e.prototype={nameLookup:function(a,b){return e.isValidJavaScriptVariableName(b)?[a,".",b]:[a,"[",JSON.stringify(b),"]"]},depthedLookup:function(a){return[this.aliasable("container.lookup"),'(depths, "',a,'")']},compilerInfo:function(){var a=h.COMPILER_REVISION,b=h.REVISION_CHANGES[a];return[a,b]},appendToBuffer:function(a,b,c){return k.isArray(a)||(a=[a]),a=this.source.wrap(a,b),this.environment.isSimple?["return ",a,";"]:c?["buffer += ",a,";"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString("")},compile:function(a,b,c,d){this.environment=a,this.options=b,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!d,this.name=this.environment.name,this.isChild=!!c,this.context=c||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(a,b),this.useDepths=this.useDepths||a.useDepths||a.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||a.useBlockParams;var e=a.opcodes,f=void 0,g=void 0,h=void 0,i=void 0;for(h=0,i=e.length;i>h;h++)f=e[h],this.source.currentLocation=f.loc,g=g||f.loc,this[f.opcode].apply(this,f.args);if(this.source.currentLocation=g,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new j["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),d?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var k=this.createFunctionContext(d);if(this.isChild)return k;var l={compiler:this.compilerInfo(),main:k};this.decorators&&(l.main_d=this.decorators,l.useDecorators=!0);var m=this.context,n=m.programs,o=m.decorators;for(h=0,i=n.length;i>h;h++)n[h]&&(l[h]=n[h],o[h]&&(l[h+"_d"]=o[h],l.useDecorators=!0));return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),d?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),b.srcName?(l=l.toStringWithSourceMap({file:b.destName}),l.map=l.map&&l.map.toString()):l=l.toString()),l},preamble:function(){this.lastContext=0,this.source=new m["default"](this.options.srcName),this.decorators=new m["default"](this.options.srcName)},createFunctionContext:function(a){var b="",c=this.stackVars.concat(this.registers.list);c.length>0&&(b+=", "+c.join(", "));var d=0;for(var e in this.aliases){var f=this.aliases[e];this.aliases.hasOwnProperty(e)&&f.children&&f.referenceCount>1&&(b+=", alias"+ ++d+"="+e,f.children[0]="alias"+d)}var g=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&g.push("blockParams"),this.useDepths&&g.push("depths");var h=this.mergeSource(b);return a?(g.push(h),Function.apply(this,g)):this.source.wrap(["function(",g.join(","),") {\n  ",h,"}"])},mergeSource:function(a){var b=this.environment.isSimple,c=!this.forceBuffer,d=void 0,e=void 0,f=void 0,g=void 0;return this.source.each(function(a){a.appendToBuffer?(f?a.prepend("  + "):f=a,g=a):(f&&(e?f.prepend("buffer += "):d=!0,g.add(";"),f=g=void 0),e=!0,b||(c=!1))}),c?f?(f.prepend("return "),g.add(";")):e||this.source.push('return "";'):(a+=", buffer = "+(d?"":this.initializeBuffer()),f?(f.prepend("return buffer + "),g.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(d?"":";\n")),this.source.merge()},blockValue:function(a){var b=this.aliasable("helpers.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(a,0,c);var d=this.popStack();c.splice(1,0,d),this.push(this.source.functionCall(b,"call",c))},ambiguousBlockValue:function(){var a=this.aliasable("helpers.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0),this.flushInline();var c=this.topStack();b.splice(1,0,c),this.pushSource(["if (!",this.lastHelper,") { ",c," = ",this.source.functionCall(a,"call",b),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation,this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" != null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," != null) { ",this.appendToBuffer(a,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,c,d){var e=0;d||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[e++])),this.resolvePath("context",a,e,b,c)},lookupBlockParam:function(a,b){this.useBlockParams=!0,this.push(["blockParams[",a[0],"][",a[1],"]"]),this.resolvePath("context",b,1)},lookupData:function(a,b,c){a?this.pushStackLiteral("container.data(data, "+a+")"):this.pushStackLiteral("data"),this.resolvePath("data",b,0,!0,c)},resolvePath:function(a,b,c,d,e){var g=this;if(this.options.strict||this.options.assumeObjects)return void this.push(f(this.options.strict&&e,this,b,a));for(var h=b.length;h>c;c++)this.replaceStack(function(e){var f=g.nameLookup(e,b[c],a);return d?[" && ",f]:[" != null ? ",f," : ",e]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"]);
},pushStringParam:function(a,b){this.pushContext(),this.pushString(b),"SubExpression"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(a.ids)),this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types))),this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},registerDecorator:function(a,b){var c=this.nameLookup("decorators",b,"decorator"),d=this.setupHelperArgs(b,a);this.decorators.push(["fn = ",this.decorators.functionCall(c,"",["fn","props","container",d])," || fn;"])},invokeHelper:function(a,b,c){var d=this.popStack(),e=this.setupHelper(a,b),f=c?[e.name," || "]:"",g=["("].concat(f,d);this.options.strict||g.push(" || ",this.aliasable("helpers.helperMissing")),g.push(")"),this.push(this.source.functionCall(g,"call",e.callParams))},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(this.source.functionCall(c.name,"call",c.callParams))},invokeAmbiguous:function(a,b){this.useRegister("helper");var c=this.popStack();this.emptyHash();var d=this.setupHelper(0,a,b),e=this.lastHelper=this.nameLookup("helpers",a,"helper"),f=["(","(helper = ",e," || ",c,")"];this.options.strict||(f[0]="(helper = ",f.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",f,d.paramsInit?["),(",d.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",d.callParams)," : helper))"])},invokePartial:function(a,b,c){var d=[],e=this.setupParams(b,1,d);a&&(b=this.popStack(),delete e.name),c&&(e.indent=JSON.stringify(c)),e.helpers="helpers",e.partials="partials",e.decorators="container.decorators",a?d.unshift(b):d.unshift(this.nameLookup("partials",b,"partial")),this.options.compat&&(e.depths="depths"),e=this.objectLiteral(e),d.push(e),this.push(this.source.functionCall("container.invokePartial","",d))},assignToHash:function(a){var b=this.popStack(),c=void 0,d=void 0,e=void 0;this.trackIds&&(e=this.popStack()),this.stringParams&&(d=this.popStack(),c=this.popStack());var f=this.hash;c&&(f.contexts[a]=c),d&&(f.types[a]=d),e&&(f.ids[a]=e),f.values[a]=b},pushId:function(a,b,c){"BlockParam"===a?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(c?" + "+JSON.stringify("."+c):"")):"PathExpression"===a?this.pushString(b):"SubExpression"===a?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:e,compileChildren:function(a,b){for(var c=a.children,d=void 0,e=void 0,f=0,g=c.length;g>f;f++){d=c[f],e=new this.compiler;var h=this.matchExistingProgram(d);null==h?(this.context.programs.push(""),h=this.context.programs.length,d.index=h,d.name="program"+h,this.context.programs[h]=e.compile(d,b,this.context,!this.precompile),this.context.decorators[h]=e.decorators,this.context.environments[h]=d,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams):(d.index=h,d.name="program"+h,this.useDepths=this.useDepths||d.useDepths,this.useBlockParams=this.useBlockParams||d.useBlockParams)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){var b=this.environment.children[a],c=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&c.push("blockParams"),this.useDepths&&c.push("depths"),"container.program("+c.join(", ")+")"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof d||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new d(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),a&&this.source.push(a)},replaceStack:function(a){var b=["("],c=void 0,e=void 0,f=void 0;if(!this.isInline())throw new j["default"]("replaceStack on non-inline");var g=this.popStack(!0);if(g instanceof d)c=[g.value],b=["(",c],f=!0;else{e=!0;var h=this.incrStack();b=["((",this.push(h)," = ",g,")"],c=this.topStack()}var i=a.call(this,c);f||this.popStack(),e&&this.stackSlot--,this.push(b.concat(i,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=0,c=a.length;c>b;b++){var e=a[b];if(e instanceof d)this.compileStack.push(e);else{var f=this.incrStack();this.pushSource([f," = ",e,";"]),this.compileStack.push(f)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof d)return c.value;if(!b){if(!this.stackSlot)throw new j["default"]("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack,b=a[a.length-1];return b instanceof d?b.value:b},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];return b?(b.referenceCount++,b):(b=this.aliases[a]=this.source.wrap(a),b.aliasable=!0,b.referenceCount=1,b)},setupHelper:function(a,b,c){var d=[],e=this.setupHelperArgs(b,a,d,c),f=this.nameLookup("helpers",b,"helper"),g=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:d,paramsInit:e,name:f,callParams:[g].concat(d)}},setupParams:function(a,b,c){var d={},e=[],f=[],g=[],h=!c,i=void 0;h&&(c=[]),d.name=this.quotedString(a),d.hash=this.popStack(),this.trackIds&&(d.hashIds=this.popStack()),this.stringParams&&(d.hashTypes=this.popStack(),d.hashContexts=this.popStack());var j=this.popStack(),k=this.popStack();(k||j)&&(d.fn=k||"container.noop",d.inverse=j||"container.noop");for(var l=b;l--;)i=this.popStack(),c[l]=i,this.trackIds&&(g[l]=this.popStack()),this.stringParams&&(f[l]=this.popStack(),e[l]=this.popStack());return h&&(d.args=this.source.generateArray(c)),this.trackIds&&(d.ids=this.source.generateArray(g)),this.stringParams&&(d.types=this.source.generateArray(f),d.contexts=this.source.generateArray(e)),this.options.data&&(d.data="data"),this.useBlockParams&&(d.blockParams="blockParams"),d},setupHelperArgs:function(a,b,c,d){var e=this.setupParams(a,b,c);return e=this.objectLiteral(e),d?(this.useRegister("options"),c.push("options"),["options=",e]):c?(c.push(e),""):e}},function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),b=e.RESERVED_WORDS={},c=0,d=a.length;d>c;c++)b[a[c]]=!0}(),e.isValidJavaScriptVariableName=function(a){return!e.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)},b["default"]=e,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b,c){if(f.isArray(a)){for(var d=[],e=0,g=a.length;g>e;e++)d.push(b.wrap(a[e],c));return d}return"boolean"==typeof a||"number"==typeof a?a+"":a}function e(a){this.srcFile=a,this.source=[]}b.__esModule=!0;var f=c(5),g=void 0;try{}catch(h){}g||(g=function(a,b,c,d){this.src="",d&&this.add(d)},g.prototype={add:function(a){f.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){f.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),e.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,b){this.source.unshift(this.wrap(a,b))},push:function(a,b){this.source.push(this.wrap(a,b))},merge:function(){var a=this.empty();return this.each(function(b){a.add(["  ",b,"\n"])}),a},each:function(a){for(var b=0,c=this.source.length;c>b;b++)a(this.source[b])},empty:function(){var a=this.currentLocation||{start:{}};return new g(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return a instanceof g?a:(a=d(a,this,b),new g(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,b,c){return c=this.generateList(c),this.wrap([a,b?"."+b+"(":"(",c,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var e=d(a[c],this);"undefined"!==e&&b.push([this.quotedString(c),":",e])}var f=this.generateList(b);return f.prepend("{"),f.add("}"),f},generateList:function(a){for(var b=this.empty(),c=0,e=a.length;e>c;c++)c&&b.add(","),b.add(d(a[c],this));return b},generateArray:function(a){var b=this.generateList(a);return b.prepend("["),b.add("]"),b}},b["default"]=e,a.exports=b["default"]}])}),function(a){function b(b){var c=a(this),d=null,e=[],f=null,g=null,h=a.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:a.noop,exit:a.noop,activate:a.noop,deactivate:a.noop,exitMenu:a.noop,delay:300},b),i=3,j=function(a){e.push({x:a.pageX,y:a.pageY}),e.length>i&&e.shift()},k=function(){g&&clearTimeout(g),h.exitMenu(this)&&(d&&h.deactivate(d),d=null)},l=function(){g&&clearTimeout(g),h.enter(this),p(this)},m=function(){g&&clearTimeout(g),h.exit(this)},n=function(){o(this)},o=function(b){if(b!=d){if(d&&h.deactivate(d),!a(b).is(h.submenuSelector))return void(d=null);h.activate(b),d=b}},p=function(a){var b=q();b?g=setTimeout(function(){p(a)},b):o(a)},q=function(){function b(a,b){return(b.y-a.y)/(b.x-a.x)}if(!d||!a(d).is(h.submenuSelector))return 0;var g=c.offset(),i={x:g.left,y:g.top},j={x:g.left+c.outerWidth(),y:i.y},k={x:g.left,y:g.top+c.outerHeight()},l={x:g.left+c.outerWidth(),y:k.y},m=e[e.length-1],n=e[0];if(!m)return 0;if(n||(n=m),"right"==h.submenuDirection?(j.y-=h.tolerance,l.y+=h.tolerance):"left"==h.submenuDirection?(i.y-=h.tolerance,k.y+=h.tolerance):"above"==h.submenuDirection?(i.x-=h.tolerance,j.x+=h.tolerance):"below"==h.submenuDirection&&(k.x-=h.tolerance,l.x+=h.tolerance),n.x<g.left||n.x>l.x||n.y<g.top||n.y>l.y)return 0;if(f&&m.x==f.x&&m.y==f.y)return 0;var o=j,p=l;"left"==h.submenuDirection?(o=k,p=i):"below"==h.submenuDirection?(o=l,p=k):"above"==h.submenuDirection&&(o=i,p=j);var q=b(m,o),r=b(m,p),s=b(n,o),t=b(n,p);return q<s&&r>t?(f=m,h.delay):(f=null,0)};c.mouseleave(k).find(h.rowSelector).mouseenter(l).mouseleave(m).click(n),c.bind("DOMNodeInserted",function(b){var c=a(b.target);c.is(h.rowSelector)&&c.mouseenter(l).mouseleave(m).click(n)}),a(document).mousemove(j)}a.fn.menuAim=function(a){return this.each(function(){b.call(this,a)}),this}}(jQuery),mcs.handleOutdatedBrowser=function(){var a="MC_OLD_BROWSER_NOTIFICATION_SHOWN",b=mcs.jQuery.cookie(a);void 0===b&&(mcs.jQuery.infoLayers.showLayer({name:"oldbrowsernotification"}),mcs.jQuery.cookie(a,!0,{expires:30,path:"/"}))},mcs.jQuery(document).on("fee_layers_onload",function(a,b){var c=new mcs.URL,d=c.getParameter("layer");void 0!==d?mcs.jQuery.infoLayers.showLayer({name:d}):b.browserOutdated&&mcs.handleOutdatedBrowser()}),mcs.checkOnLoadTriggerAction=function(){var a=new mcs.URL(window.location.href),b=a.getParameter("load");if(null!==b){var c="MCS_LOADTRIGGER",d=mcs.jQuery.cookie(c);if(void 0!==d&&"addToBasket"===b){for(var e,f=d.split(" "),g=0;g<f.length;g++){var h=f[g],i=h.indexOf(b+"=");0===i&&(e=h.substring(b.length+1))}void 0!==e&&$(document).trigger("fee_add_to_basket_layer",{basketUrl:e})}}},mcs.jQuery(document).on("fee_ready",function(){mcs.checkOnLoadTriggerAction()}),mcs.applyAuthentication=function(){mcs.isUserAuthenticated()&&mcs.jQuery("aside.side a.inactive").each(function(a,b){mcs.jQuery(b).removeClass("inactive")})},mcs.jQuery(document).on("fee_ready",function(){mcs.applyAuthentication()}),void 0===mcs.cookieLaw&&(mcs.cookieLaw={}),mcs.jQuery.extend(mcs.cookieLaw,{cookieName:"MC_PRIVACY"}),mcs.jQuery.extend(mcs.cookieLaw,{checkTrackingEnablement:function(){var a=mcs.jQuery.cookie(mcs.cookieLaw.cookieName);(mcs.cookieLaw.featureEnabled!==!0||void 0!==a&&"marketing"===a)&&mcs.jQuery(document).trigger("fee_load_marketing")},cookieLawLayer:function(){var a=mcs.jQuery.cookie(mcs.cookieLaw.cookieName);return mcs.cookieLaw.featureEnabled===!0&&void 0===a?mcs.cookieLaw.layerSource:null}}),mcs.jQuery(document).on("fee_cookie_info_accept",function(a,b){var c="MC_PRIVACY";void 0!==b&&void 0!==b.value&&(mcs.jQuery.cookie(c,b.value,{expires:30,path:"/"}),void 0!==b.value&&"marketing"===b.value&&mcs.jQuery(document).trigger("fee_load_marketing"))}),mcs.jQuery(document).on("fee_ready",function(){mcs.cookieLaw.checkTrackingEnablement()}),mcs.displayMediaPlayerLinks=function(a){a=mcs.jQuery(a);var b=a.data("age-rating"),c=mcs.getAgeRatingConfig(b),d=void 0===c||c.valid;return d},mcs.displayAgeRatingLayer=function(a){a=mcs.jQuery(a);var b=a.data("age-rating"),c=mcs.getAgeRatingConfig(b),d=mcs.getConfirmedAge(),e=void 0!==c&&c.valid&&(void 0===d||d<c.ageRating);return e},mcs.openMediaPlayer=function(a){a=mcs.jQuery(a);var b=a.data("age-rating"),c=mcs.getAgeRatingConfig(b),d=mcs.getConfirmedAge(),e=void 0===c||c.valid&&void 0!==d&&d>=c.ageRating;return e},mcs.confirmAgeRating=function(a){a=mcs.jQuery(a);var b="MC_AGE",c=a.data("age-rating"),d=mcs.getAgeRatingConfig(c);mcs.jQuery.cookie(b,d.ageRating,{path:"/"})},mcs.getAgeRatingConfig=function(a){var b;return mcs.jQuery(mcs.ageRatings).each(function(c,d){d.ageRating<=a&&(void 0===b||d.ageRating>b.ageRating)&&(b=d)}),b},mcs.getConfirmedAge=function(){var a,b="MC_AGE",c=mcs.jQuery.cookie(b);return void 0!==c&&(c.match(/^[0-9]+$/)?a=parseInt(c,10):mcs.jQuery.removeCookie(b,{path:"/"})),a},mcs.checkLightbox=function(){var a="MCS_LIGHTBOX",b=mcs.jQuery.cookie(a);void 0===b&&mcs.lightbox&&mcs.lightbox.url&&mcs.checkLightboxDelay()&&(mcs.jQuery.cookie(a,!0,{expires:new Date((new Date).getTime()+864e5*mcs.lightbox.lightboxFrequency),path:"/"}),$(document).trigger("fee_basket_reactivate_layer",{layerUrl:mcs.lightbox.url}))},mcs.checkLightboxDelay=function(){return 864e5*mcs.lightbox.lightboxDelay<(new Date).getTime()-mcs.lightbox.lastUpdate},mcs.jQuery(document).on("fee_ready",function(){mcs.checkLightbox()}),mcs.openReviewForm=function(){var a=jQuery("div.product-reviews");if(1===a.length){var b=new mcs.URL,c=b.getParameter("reviewForm");"true"===c&&$(document).trigger("fee_show_review_form")}},jQuery(document).on("fee_ready",function(){mcs.openReviewForm()}),mcs.setWishlistRemoveUrl=function(a){var b=mcs.jQuery("#my-account.wishlist .remove-from-wishlist");if(b.length>0){var c=new mcs.URL,d=c.removeParameter("page");void 0!==d&&d>2&&1===b.length&&c.setParameter("page",d-1),mcs.setRedirectUrl(b,"URL",c.toString())}},mcs.jQuery(document).on("fee_ready",function(){mcs.setWishlistRemoveUrl()}),function(a){"use strict";MediaSaturn.GenericMediator=function(){this.channels=[]},MediaSaturn.GenericMediator.prototype={constructor:MediaSaturn.GenericMediator,subscribe:function(a,b){var c=this.channels;c[a]||(c[a]=[]),c[a].push(b)},unsubscribe:function(a,b){var c=this.channels;if("undefined"==typeof b)c[a]=[];else for(var d=0;d<c[a].length;d++)c[a][d]===b&&c[a].splice(d,1)},publish:function(a){var b,c,d,e=this.channels,f=Array.prototype.slice.call(arguments,1);if(!e[a])return!1;for(b=0,c=e[a].length;b<c;b++)d=e[a][b],d.apply(this,f)}}}(MediaSaturn),MediaSaturn.GoogleMapsLoader=function(){"use strict";function a(){function a(a){var d=document.createElement("script"),e=c.baseUrl,f=c.settings;window.MediaSaturn.GoogleMapsLoader.onLoadCallback=function(){b=!0,a()},$.each(f,function(a,b){e+="&"+a+"="+b}),e+="&callback=MediaSaturn.GoogleMapsLoader.onLoadCallback",d.type="text/javascript",d.src=e,document.body.appendChild(d)}var b=!1,c={baseUrl:"//maps.google.com/maps/api/js?libraries=geometry&sensor=false&v=3.19",settings:MediaSaturn.gmapsSettings};return{load:function(){var c=$.Deferred();return b?c.resolve():a(function(){c.resolve()}),c.promise()}}}var b;return{getInstance:function(){return b||(b=a()),b}}}(),Handlebars.registerHelper("if_eq",function(a,b,c){return a===b?c.fn(this):c.inverse(this)}),MediaSaturn.LocationService=function(){"use strict";function a(){function a(){function a(a){var b={latitude:a.coords.latitude,longitude:a.coords.longitude};d.resolve(b)}function c(a){d.reject()}var d=$.Deferred();return void 0===b?d.reject():b.getCurrentPosition(a,c),d.promise()}var b;return"geolocation"in navigator&&(b=navigator.geolocation),{findMyLocation:function(){return a()}}}var b;return{getInstance:function(){return b||(b=a()),b}}}(),function(a,b){"use strict";MediaSaturn.PageLeaveObserver={handlers:null,subscribe:function(a){this.init(),this.init=b.noop,this.handlers.push(a)},init:function(){var a=0,c=0,d=0,e=null,f=!1,g=2e4;this.handlers=[],b(document).on("scroll",function(){a=b(this).scrollTop()}),b(document).on("mousemove",function(b){var e,f;e=d-b.clientY,f=b.pageY-e,f<c&&f<=a&&MediaSaturn.PageLeaveObserver.onPageLeave(),c=b.pageY,d=b.clientY}),b(document).ready(function(){("ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)&&(b("*").bind("touchstart",function(){clearTimeout(e),f=!1,e=setTimeout(function(){MediaSaturn.PageLeaveObserver.onPageLeave(),f=!0},g)}),b("body").trigger("mousemove"))})},onPageLeave:function(){b(document).trigger("fee_page_leave_detected"),this.handlers.forEach(function(a){a.call(window)},this),this.onPageLeave=b.noop}}}(window,jQuery),function(win,$){"use strict";MediaSaturn.productJsonPresenter={prepareStoreAvailability:function(a){a.shippingInfo&&a.shippingInfo.storeAvailability&&(a.__custom.storeAvailabilityClass=a.shippingInfo.storeAvailability.toLowerCase())},prepareEyeCatchers:function(a){"undefined"!=typeof a.eyeCatcher&&$.each(a.eyeCatcher,function(b,c){a.__custom[b]=c})},prepareNutritionFacts:function(a){a.nutritionFacts&&(a.__custom.nutritionUrl=a.url+"#"+a.nutritionFacts.nutritionFactsAnchorId)},prepareFeatures:function(a,b){var c=0;a.__custom.features=[],a.features&&$.each(a.features,function(d,e){for(var f=0;c<b&&f<e.length;f++)a.__custom.features.push(e[f]),c++})},prepareSoldOut:function(a){"true"!==a.online?a.__custom.soldOut=!0:a.__custom.notSoldOut=!0},prepareColors:function(a,b,c,d){function e(a){var b="";return $.each(c,function(d,e){c[d].id.toString()===a.toString()&&(b=c[d].url)}),b}a.__custom.colors=[],$.each(d,function(c,f){"product"===d[c].type&&d[c].id.toString()===b.id.toString()&&d[c].colors&&$.each(d[c].colors,function(b,c){c.url=e(c.id),a.__custom.colors.push(c)})})},prepareNDD:function(context){if(context.shippingInfo&&"nextDayDelivery"in context.shippingInfo){var timeframePluralFormula;context.__custom.ndd=!0,timeframePluralFormula=context.shippingInfo.nextDayDelivery.javascriptPluralFormula;try{eval(timeframePluralFormula)}catch(e){}}},prepareOldPrice:function(a){a.oldPrice&&("RECOMMENDED"===a.crossedoutPriceType?a.__custom.crossedoutPriceType_RECOMMENDED=!0:"OLDPRICE"===a.crossedoutPriceType&&(a.__custom.crossedoutPriceType_OLDPRICE=!0))},prepareUniqueId:function(a){a.__custom.uniqueid=a.id+Math.floor(1e5*Math.random())},prepareQuantityChooser:function(a){if(a.quantitySelection="true"===a.quantitySelection,a.maximumOrderQuantity=+a.maximumOrderQuantity,a.quantitySelection){a.__custom.quantityChooser={options:[]};for(var b=0;b<a.maximumOrderQuantity;b++)a.__custom.quantityChooser.options.push((b+1).toString())}},prepareRating:function(a,b,c){a.rating&&((b||"0"!==a.ratingCount.toString())&&(a.__custom.rating=a.rating.replace(".","-")),c&&c())},prepareVariationFeatures:function(a){var b,c,d;if(c=a.variationFeatures,$.isArray(c))for(d=c.length,d&&(c.__enabled=!0),b=0;b<d;b++)switch(c[b].__custom={},c[b].type){case"button":c[b].__custom.typeButton=!0;break;case"select":c[b].__custom.typeSelect=!0,c[b].__custom.selectId=c[b].name+Math.floor(1e5*Math.random()),c[b].values&&c[b].values.length<2&&(c[b].__custom.selectDisabled=!0)}}}}(window,jQuery),MediaSaturn.ProductLoader=function(a){"use strict";var b,c=[],d="",e="?",f="",g=new a,h=function(a){c=c.concat(a.products),d=a.options.url,f=a.options.urlParam,g.subscribe("product_load",a.callback),window.clearTimeout(b),b=window.setTimeout(i,1)},i=function(){var a,b=d;e=b.indexOf("?")===-1?"?":"&",b+=e,e="&",a=[],$.each(c,function(){var b=f+"="+this.id;$.inArray(b,a)<0&&a.push(f+"="+this.id)}),b+=a.join(e),$.ajax({method:"GET",cache:!1,url:b,dataType:"json"}).done(function(a){var b=j(a);g.publish("product_load",b)}).fail(function(a){g.publish("product_load",null,a)}).always(function(){g.unsubscribe("product_load"),c=[]})},j=function(a){var b={};return $.each(a,function(a,c){b[c.id]=c}),b};return{getProducts:h}}(MediaSaturn.GenericMediator),MediaSaturn.PrudsysLoader=function(a){"use strict";var b,c=[],d=new a,e=function(a){for(var b=0;b<a.length;b++)if("product"!==a[b].type&&"imageTeaser"!==a[b].type&&"salesadvisor"!==a[b].type)return!0;return!1},f=function(a){c=c.concat(a.products),d.subscribe("prudsys_load",a.callback),window.clearTimeout(b),b=window.setTimeout(g,250)},g=function(){$(document).one("fee_productcontainer_products_loaded",h),$(document).trigger("fee_load_productcontainer_products",[c])},h=function(){d.publish("prudsys_load"),d.unsubscribe("prudsys_load"),c=[]};return{needsToLoadBox:e,loadBox:f}}(MediaSaturn.GenericMediator),MediaSaturn.TemplateLoader=function(a,b){"use strict";var c={},d=a("[property=template-loader-base-url]").attr("content"),e=".hbs",f=function(f){var g,h=a.Deferred();return c[f]?h.resolve(c[f]):(g=[d,"/",f,e].join(""),a.get(g).done(function(a){var d=b.compile(a);c[f]=d,h.resolve(d)})),h};return{load:f}}(jQuery,Handlebars),function(a,b){"use strict";b.Widgets.fgBanners=function(){0!==a(".fg-box .banners").length&&a(".banners .photo").each(function(){var b,c=a(this).parent().children().not("map, script").length;a(this).find("img").length&&a(this).find("img").attr("usemap")&&c>1&&(b=a(this).find("img:first-child"),b.clone().removeAttr("data-gtm-impression-event data-gtm-impression-event-ext").insertAfter(b),b.removeAttr("usemap")),c<2&&(b=a(this).find("img"),b.addClass("makeVisible"))})},a(document).on("fee_ajax_page_load",function(a,c){b.Widgets.fgBanners()}),a(function(){b.Widgets.fgBanners()})}(jQuery,MediaSaturn),$.fn.lazyLoadImages=function(a){var b={multiplier:0};return a&&$.extend(b,a),this.each(function(){var a=$(this),c=0;b.multiplier>0&&(c=$(window).height()*b.multiplier),a.find(".photo img[data-original], .product-photo img[data-original]").lazyload({threshold:c})})},function(a,b){"use strict";function c(a){this.$element=a,this.init()}var d="simpleTooltip";a.extend(c.prototype,{classTooltip:"simple-tooltip",classVisible:"simple-tooltip--state-visible",classArrow:"simple-tooltip__arrow",templateSrc:'<div class="simple-tooltip"><div class="simple-tooltip__content">{{content}}<div class="simple-tooltip__arrow"></div></div></div>',$tooltip:null,$arrow:null,init:function(){this.attachEvents()},attachEvents:function(){var b=this.$element,c=a.proxy(this.tooltipOpen,this),d=a.proxy(this.tooltipClose,this);b.hover(c,d)},tooltipOpen:function(){var c,d,e={content:this.$element.data("simple-tooltip")},f=this;c=b.compile(this.templateSrc),d=a(c(e)),this.$tooltip=d.appendTo("body"),this.$arrow=d.find("."+this.classArrow),setTimeout(function(){f.setPosition(),f.$tooltip.addClass(f.classVisible)},10)},tooltipClose:function(){a("."+this.classTooltip).remove()},setPosition:function(){var b,c,d,e=this.$tooltip,f=this.$arrow,g=this.$element,h={},i={},j={},k={},l=5;i.height=e.height(),i.width=e.width(),b=f.position(),d=g.offset(),j.width=g.width(),k.width=a(window).width(),h.left=d.left+j.width/2-i.width/2,h.top=d.top-i.height,h.left<0&&(c=h.left-l,h.left=l),h.left+i.width>k.width&&(c=h.left+i.width-k.width+l,h.left=k.width-i.width-l),c&&(b.left+=c),e.css({left:h.left,top:h.top}),f.css({left:b.left})}}),a.fn[d]=function(){this.each(function(){var b,e=a(this);e.data(d+"_instance")||(b=new c(e),e.data(d+"_instance",b))})}}(jQuery,Handlebars),function(a,b){a.CMSAdventCalendar=function(a){this.$element=a,this.settings={},this.init()},b.extend(a.CMSAdventCalendar.prototype,{$element:null,$modal:null,modalTemplateSrc:null,settings:null,currentScreenSize:null,init:function(){var c=this.$element;this.settings.modalDetails=c.data("modal-details"),this.settings.loadMore=c.data("load-more"),this.settings.urlParam=c.data("url-param"),this.settings.modalDetails&&(this.$modal=c.find(".js-ct-modal"),this.modalTemplateSrc=b(".cms-advent-calendar--modal-template").html(),this.settings.modalFeaturesLimit=c.data("modal-features-limit"),this.settings.modalNDD=c.data("modal-ndd"),this.settings.modalEmptyRating=c.data("modal-empty-rating"),this.settings.variationFeatures=c.data("variation-features")),c.lazyLoadImages({multiplier:1}),this.attachHandlers(),this.legacyBrowserSupport(),this.equalize(),this.currentScreenSize=a.mediaQuery.getScreenSize()},attachHandlers:function(){var c=this.$element,d=this.settings,e=this;c.find(".available").on("click",function(){b(this).addClass("open")}),d.modalDetails&&c.find("a.photo, .product-link, .color-picker a, .variation-features-link").on("click",function(a){var c=b(this),d=c.closest("[data-product-id]").data("product-id");a.preventDefault(),e.openModal(d)}),b(window).on("resize.advent_calendar",b.debounce(1e3,function(){var b;window.respond||(b=a.mediaQuery.getScreenSize(),b!==e.currentScreenSize&&(e.equalize(),e.currentScreenSize=b))}))},legacyBrowserSupport:function(){var a,c;a=document.body.style,c="WebkitPerspective"in a||"MozPerspective"in a||"msPerspective"in a||"OPerspective"in a||"perspective"in a,c===!1&&b(".cms-advent-calendar .available .door").addClass("no3d")},openModal:function(a){var c=this.settings.loadMore,d=this.settings.urlParam,e=c.indexOf("?")===-1?"?":"&",f=this.$modal,g=b.proxy(this.jsonLoaded,this);c+=e+d+"="+a,0===b("body > .ct-modal-overlay").length&&b("body").append('<div class="ct-modal-overlay"></div>'),b.ajax({cache:!1,url:c,data:{},dataType:"json"}).done(g),f.addClass("ct-modal--show"),b(".ct-modal-overlay").addClass("ct-modal--show"),f.find(".template-container").html('<div class="loading"><span></span><span></span><span></span><span></span><span></span></div>'),b(".ct-modal-close, .ct-modal-overlay").off("click.adventcalendar").on("click.adventcalendar",b.proxy(function(){return this.closeModal(),!1},this)),b(document).off("cbox_complete.cms-advent-calendar-modal").on("cbox_complete.cms-advent-calendar-modal",b.proxy(function(){b("#colorbox #basket-flyout").length&&this.closeModal()},this))},closeModal:function(){b(".ct-modal").removeClass("ct-modal--show"),b(".ct-modal-overlay").removeClass("ct-modal--show")},jsonLoaded:function(c){var d,e=this.$modal,f=this.settings.modalFeaturesLimit,g=this.settings.modalEmptyRating,h=this.settings.modalNDD,i=this.settings.variationFeatures,j=Handlebars.compile(this.modalTemplateSrc),k={},l=this;b.each(c,function(a,b){k=b}),k.__custom={},a.productJsonPresenter.prepareFeatures(k,f),a.productJsonPresenter.prepareEyeCatchers(k),a.productJsonPresenter.prepareOldPrice(k),a.productJsonPresenter.prepareSoldOut(k),a.productJsonPresenter.prepareUniqueId(k),a.productJsonPresenter.prepareQuantityChooser(k),a.productJsonPresenter.prepareRating(k,g),h&&a.productJsonPresenter.prepareNDD(k),i&&a.productJsonPresenter.prepareVariationFeatures(k),d=j(k),e.find(".template-container").html(d),e.find(".price").priceImageReplacement(),e.find("[data-simple-tooltip]").simpleTooltip(),b(".timeframe:not(.state-initialized)").each(function(){new a.Timeframe(this)}),a.clickableLinks(),l.quantityChooserInit(e.find(".quantity-chooser"),e.find(".add-to-cart.button")),e.find(".js-product-attributes").each(function(){new a.ProductAttributes({$element:b(this),action:function(a){l.openModal(a)}})}),e.find(".thumbs a").on("click",function(a){var c=b(this).data("preview"),d=e.find(".preview");d.find("img.img-preview").prop("src",c),b(this).parent().siblings().removeClass("active"),b(this).parent().addClass("active");var f=b(this).parents("li").index();0!==f?d.find("img.flags").addClass("hide"):d.find("img.flags").removeClass("hide"),a.preventDefault()}),e.find(".prev,.next").hide()},equalize:function(){var a=this.$element,c=function(a){var c=0;return a.each(function(){b(this).height()>c&&(c=b(this).height())}),c},d=function(a,b){a.height(b)},e=function(a){d(a,c(a))},f=function(){var b=a.find(".advent-products-grid > li");b.css("height",""),setTimeout(function(){e(b)},0)};f()},quantityChooserInit:function(a,c){function d(){var a,d,f,g,h=parseInt(e.val(),10);a=e.prop("name"),d=c.attr("data-href"),g=b.deparam.querystring(d),g[a]=h,f=b.param.querystring(d,g),c.attr("data-href",f)}var e;1===a.length&&(e=a.find("select"),c&&c.length>0&&(e.on("change",d),d()))}}),b(document).on("fee_ready",function(){b(".cms-advent-calendar").each(function(){new a.CMSAdventCalendar(b(this))})})}(MediaSaturn,jQuery);var cmsChartModel={ctLazyLoadImages:function(){$(".ct-chart-model-grid").lazyLoadImages({multiplier:1})},init:function(){0!==$(".cms-chart-model-grid").length&&(cmsChartModel.ctLazyLoadImages(),cmsChartModel.switchPreview(),cmsChartModel.onScrollNew.init(),cmsChartModel.activateScrollTop())},activateScrollTop:function(){$("html, body").on("click",".scroll-top",function(a){a.preventDefault(),$("html, body").animate({scrollTop:0},"300")})},onScrollNew:{init:function(){$(".ct-chart-model-grid").data("last-item",0),this.prepareGrid(),this.updateTrigger()},prepareGrid:function(){var a=$(".ct-chart-model-grid");$.each(a,function(a,b){if(0===$(b).find("> li").length){var c=getObjectByName($(b).data("products")),d="";$.each(c,function(a,b){var c="";0===a&&(c="wide"),d+='<li class="empty '+c+" grid-item-"+b.id+'" data-id="'+b.id+'" data-index="'+a+'">',d+='<div class="base-info"></div>',d+="</li>"}),$(b).append(d);for(var e=0;e<c.length;e++)c[e].type="product"}})},gridUpdate:function(a,b,c){var d,e,f=getObjectByName(c.data("products")),g=f.length,h=c.parents(".cms-chart-model-grid").data("load-more"),i=h.indexOf("?")===-1?"?":"&",j=c.data("url-param"),k=c.data("load-items"),l=c.data("last-item"),m=c.parents(".cms-chart-model-grid").data("features-limit"),n=c.parents(".cms-chart-model-grid").data("empty-rating"),o=Handlebars.compile($(".cms-chart-model-grid--item-template").html()),p=Handlebars.compile($(".cms-chart-model-grid--item1st-template").html());d=b,"down"===a?(l=d+k,e=f.slice(d,l)):"up"===a&&(l=d-k,e=f.slice(l,d)),c.data("last-item",l),$.each(e,function(a,b){h+=i+j+"="+b.id,i="&",b.colors&&$.each(b.colors,function(a,b){h+=i+j+"="+b.id})}),d<=g&&$.ajax({cache:!1,url:h,data:{},dataType:"json"}).done(function(a){var b="";$.each(a,function(d,e){var g=e;g.__custom={},g.energyEfficiency&&(g.energyEfficiency.eeClass?c.find("li").addClass("has-energy-efficiency"):c.find("li").addClass("has-energy-efficiency-old")),g.nutritionFacts&&$.isEmptyObject(g.nutritionFacts)===!1&&c.find("li").addClass("has-nutrition-facts"),MediaSaturn.productJsonPresenter.prepareStoreAvailability(g),MediaSaturn.productJsonPresenter.prepareFeatures(g,m),
MediaSaturn.productJsonPresenter.prepareEyeCatchers(g),MediaSaturn.productJsonPresenter.prepareNutritionFacts(g),MediaSaturn.productJsonPresenter.prepareSoldOut(g),MediaSaturn.productJsonPresenter.prepareColors(g,e,a,f),MediaSaturn.productJsonPresenter.prepareOldPrice(g),MediaSaturn.productJsonPresenter.prepareRating(g,n),c.find(".grid-item-"+g.id+".empty").each(function(){var a,c=$(this);a=c.data("index"),g.__custom.nr=a+1,b=0===a?p(g):o(g),c.html(b).removeClass("empty").addClass("loaded")})}),$(".price").priceImageReplacement(),$("[data-simple-tooltip]").simpleTooltip(),$(document).trigger("fee.fgrid_refresh"),MediaSaturn.clickableLinks()}).fail(function(a){})},updateTrigger:function(){var a=$(".ct-chart-model-grid");$.each(a,function(a,b){$(b).find("li").filter(function(a){var b=$(this).parents(".ct-chart-model-grid").data("load-items");return a%b===0}).waypoint({offset:"100%",handler:function(a){function b(a){for(var b=!1,c=0;c<d;c++){if($(a).next().hasClass("empty")){b=!0;break}if(0===$(a).siblings().length){b=!0;break}a=$(a).next()}return b}var c=$(this).parents(".ct-chart-model-grid"),d=c.data("load-items");if("down"===a&&b(this)){var e=(c.data("last-item"),parseInt($(this).data("index"),10));cmsChartModel.onScrollNew.gridUpdate(a,e,c)}}}).waypoint({offset:"-324px",handler:function(a){var b=$(this).parents(".ct-chart-model-grid");("up"===a&&$(this).prev().hasClass("empty")||"up"===a&&$(this).hasClass("empty")&&$(this).prev().hasClass("loaded")&&$(this).prev().hasClass("loaded"))&&cmsChartModel.onScrollNew.gridUpdate(a,$(this).data("index")+1,b)}})})}},switchPreview:function(){$(document).on("click.gallery",".aside .thumbs a",function(a){var b=$(this).data("preview"),c=$(this).parents(".aside").find(".preview");c.find("img.img-preview").prop("src",b),$(this).parent().siblings().removeClass("active"),$(this).parent().addClass("active");var d=$(this).parents("li").index();0!==d?c.find("img.flags").addClass("hide"):c.find("img.flags").removeClass("hide"),a.preventDefault()})}};$(document).on("fee_ready",function(){cmsChartModel.init()}),function($){"use strict";var ProductContainer=function(element,options){var el=$(element),self=this,wrapper,prev,next,ul,products={},initial_products={},pages=[],normal_grid=228,squeezed_grid=181,per_page=0,per_page_raw=0,grid_width=normal_grid,grid_gutter=12,offset=0,element_grid_size=el.data("el-size"),element_width=(grid_width+grid_gutter)*element_grid_size-grid_gutter,item_template_source=$(".cms-product-container--item-template").html(),item_template,fname_type=el.data("fname-type"),emptyRating=el.data("empty-rating"),openModalProduct,circular=!0,delayedAnimation=!1,cloned=!1,reset=!1,running=!1,initialized=!1,is_loading=!1,is_static=!0,is_horizontal=!0,methods={initialize:function(){0===el.find(".products-carousel li").length&&0===el.find(".products-vertical-list li").length&&(is_static=!1),el.hasClass("product-container-vertical")&&(is_horizontal=!1),item_template=Handlebars.compile(item_template_source),methods.initializeContainer()},initializeContainer:function(){is_static?is_horizontal?(wrapper=el.find(".products-carousel"),circular="undefined"==typeof wrapper.data("circular")||wrapper.data("circular"),per_page_raw=((wrapper.width()+grid_gutter)/(element_width+grid_gutter)).toFixed(1),per_page=Math.floor(per_page_raw),products=el.find("li"),methods.setupHtmlContainer(),carousel.init()):(wrapper=el.find(".products-vertical-list"),ul=el.find("ul"),products=el.find("li"),methods.updateVertical()):(is_horizontal?(wrapper=el.find(".products-carousel"),circular="undefined"==typeof wrapper.data("circular")||wrapper.data("circular"),wrapper.parents("#product-sidebar").length>0&&"b"===MediaSaturn.mediaQuery.getScreenSize()&&(wrapper.addClass("no-hover"),grid_width=squeezed_grid),per_page_raw=((wrapper.width()+grid_gutter)/(element_width+grid_gutter)).toFixed(1),per_page=Math.floor(per_page_raw),methods.setupHtmlContainer()):(wrapper=el.find(".products-vertical-list"),ul=$("<ul></ul>"),wrapper.append(ul)),products=getObjectByName(wrapper.data("products")),methods.setupProducts())},setupProducts:function(){"undefined"!=typeof products[0]&&"undefined"!=typeof products[0].type?methods.getRecommendationProducts():(methods.initializeEmpty(),is_horizontal?(initial_products=methods.getInitialProductsArray(),methods.getInitialProducts(initial_products),carousel.init()):methods.getInitialProducts(products))},bindProducts:function(a){products=a,methods.initializeEmpty(),is_horizontal&&carousel.init()},getPerPage:function(){return per_page},getInitialProductsArray:function(){return products.slice(0,Math.ceil(per_page_raw))},recalculate:function(){return!(initialized===!1||!is_horizontal||is_static)&&(grid_width=wrapper.parents("#product-sidebar").length>0&&"b"===MediaSaturn.mediaQuery.getScreenSize()?squeezed_grid:normal_grid,per_page_raw=((wrapper.width()+grid_gutter)/(element_width+grid_gutter)).toFixed(1),per_page=Math.floor(per_page_raw),offset=0,initial_products=products.slice(0,Math.ceil(per_page_raw)),ul.css({marginLeft:0}),methods.getProducts(initial_products),void carousel.adjustControls())},setupHtmlContainer:function(){prev=$('<div class="prev hide"></div>'),next=$('<div class="next hide"></div>'),wrapper.append(prev).append(next),is_static?(ul=el.find("ul"),el.addClass("static-container")):(ul=$('<ul class="prodteaser-list"></ul>'),wrapper.append(ul),ul.wrap('<div class="pc-wrapper"></div>'))},initializeEmpty:function(){var a="";"undefined"!=typeof products&&$.each(products,function(b,c){a+='<li data-id="'+c.id+'"></li>'}),ul.html(a)},getInitialProducts:function(a){ProductContainer.__pc_defer.push({el:el,ids:a,wrapper:wrapper,carousel:carousel,methods:methods})},getRecommendationProducts:function(){ProductContainer.__pc_recos.push(products),ProductContainer.__pc_defer.push({type:products[0].type,el:el,ids:products,wrapper:wrapper,carousel:carousel,methods:methods}),el.addClass("recommendation-box")},getProducts:function(a){var b=ProductContainer.url,c=[],d=[];return!is_loading&&(is_loading=!0,$.each(a,function(a,b){var e=ProductContainer.getCachedProduct(b.id);e?d.push(e):c.push(b)}),void(0===c.length?(methods.appendProducts(d),"undefined"!=typeof ProductContainer.callback&&""!==ProductContainer.callback&&executeFunctionByName(ProductContainer.callback,window,wrapper),delayedAnimation&&(delayedAnimation=!1,carousel.animate())):(ProductContainer.separator=ProductContainer.url.indexOf("?")===-1?"?":"&",$.each(c,function(a,c){b+=ProductContainer.separator+ProductContainer.param+"="+c.id,ProductContainer.separator="&"}),wrapper.addClass("loading"),$.ajax({url:b,type:"get",dataType:"json"}).done(function(a){ProductContainer.cacheProducts(a),methods.appendProducts(d.concat(a)),wrapper.removeClass("loading"),"undefined"!=typeof ProductContainer.callback&&""!==ProductContainer.callback&&executeFunctionByName(ProductContainer.callback,window,wrapper),delayedAnimation&&(delayedAnimation=!1,carousel.animate())}))))},appendProducts:function(a){$.each(a[0],function(a,b){var c=b;$.each(products,function(a,b){b.id===c.id&&b.name&&""!==b.name&&(c.name=b.name)}),c.__custom={},3===element_grid_size&&(c.__custom.itemSize3=!0),MediaSaturn.productJsonPresenter.prepareRating(c,emptyRating,function(){ul.parents(".products-carousel").addClass("with-rating")}),"energyEfficiency"in c&&("value"in c.energyEfficiency&&ul.parents(".products-carousel").addClass("with-eek-old"),("eeLayerUrl"in c.energyEfficiency||"eePdfUrl"in c.energyEfficiency)&&ul.parents(".products-carousel").addClass("with-eek")),"nutritionFacts"in c&&"nutritionFactsLinkText"in c.nutritionFacts&&(c.__custom.nutritionUrl=c.url+"#"+c.nutritionFacts.nutritionFactsAnchorId,ul.parents(".products-carousel").addClass("with-nutrition")),c.__custom.type="","features"in c&&$.each(c.features,function(a,b){$.each(b,function(a,b){b.featureName===fname_type&&(c.__custom.type=b.featureValue)})}),MediaSaturn.productJsonPresenter.prepareOldPrice(c);var d=item_template(c),e=ul.find('[data-id="'+b.id+'"]');e.replaceWith(d)}),is_horizontal||methods.updateVertical(),methods.updateRenderedElements(),is_loading=!1},updateVertical:function(){var a=ul.find("li");a.each(function(a,b){var c=$(b);c.find(".installment-compact, .flags, .base-content, .b-set, .ee-wrapper").remove(),c.find("img").wrap('<div class="img-wrapper" />'),wrapper.hasClass("with-numbering")&&c.find(".base-info").prepend('<span class="pos">'+(a+1)+"</span>"),c.find(".price").addClass("price-xs").priceImageReplacement(),c.find("[data-simple-tooltip]").simpleTooltip()})},needsLoading:function(a,b){var c,d;for(c=a;c<b;c++)if("undefined"!=typeof products[c]&&(d=ul.find('li[data-id="'+products[c].id+'"]').html(),""===d))return!0;return!1},updateRenderedElements:function(){wrapper.find(".photo img[data-original], .prodteaser-image img[data-original]").lazyload({failure_limit:2e3}),wrapper.find(".price").priceImageReplacement(),wrapper.find("[data-simple-tooltip]").simpleTooltip(),MediaSaturn.Widgets.CheckGridItemButton(),wrapper.find(".unit-price")&&wrapper.find(".installment-compact")&&$(".installment-compact").addClass("up-present"),wrapper.parents("#colorbox").length>0&&$("#colorbox").colorbox.resize(),methods.modal(),methods.switchPreview(),initialized===!1&&(initialized=!0,$(window).on("fee_breakpoint_change",methods.recalculate),$(document).trigger("fee.fgrid_refresh",[el]))},modal:function(){0===$("body > .ct-modal-overlay").length&&$("body").append('<div class="ct-modal-overlay"></div>'),$(".prodteaser-list .prodteaser .modular-link").off("click.cmsproductcontainer"),$(".prodteaser-list .prodteaser .modular-link").on("click.cmsproductcontainer",function(a){if(0===$(this).parents(".prodteaser-product-link").length)return methods.openModal(this),a.preventDefault(),!1}),$(".ct-modal-close, .ct-modal-overlay").on("click",function(){return $(".ct-modal").removeClass("ct-modal--show"),$(".ct-modal-overlay").removeClass("ct-modal--show"),!1})},openModal:function(element){var container=$(element).parents(".cms-product-container"),url=container.data("href"),listItem=$(element).parents(".prodteaser-list li:not(.cloned)"),listObj=listItem.parents(".prodteaser-list").find("> li:not(.cloned)"),_itemId=listItem.data("id"),_modalTemplateSource=$(".cms-product-container--modal-template").html(),_modalTemplate=Handlebars.compile(_modalTemplateSource),_modal=$(".js-ct-modal"),separator=url.indexOf("?")===-1?"?":"&",urlParam=container.data("param"),hasNDD=container.data("ndd"),featuresLimit=container.data("features-limit"),nextItemIdx=-1,prevItemIdx=-1,loopSwitch=!0;listItem.next(":not(.cloned)").length?nextItemIdx=listItem.next(":not(.cloned)").index():loopSwitch&&(nextItemIdx=0),listItem.prev(":not(.cloned)").length?prevItemIdx=listItem.prev(":not(.cloned)").index():loopSwitch&&(prevItemIdx=listObj.length-1),url+=separator+urlParam+"="+_itemId,$.ajax({cache:!1,url:url,data:{},dataType:"json"}).done(function(response){var context,itemHtml,timeframePluralFormula;if($.each(response,function(a,b){context=b}),context.__custom={},MediaSaturn.productJsonPresenter.prepareFeatures(context,featuresLimit),MediaSaturn.productJsonPresenter.prepareEyeCatchers(context),MediaSaturn.productJsonPresenter.prepareRating(context,emptyRating),hasNDD&&"nextDayDelivery"in context.shippingInfo){context.__custom.ndd=!0,timeframePluralFormula=context.shippingInfo.nextDayDelivery.javascriptPluralFormula;try{eval(timeframePluralFormula)}catch(e){}}itemHtml=_modalTemplate(context),_modal.find(".template-container").html(itemHtml),_modal.find(".price").priceImageReplacement(),_modal.find("[data-simple-tooltip]").simpleTooltip(),$(".timeframe:not(.state-initialized)").each(function(){new MediaSaturn.Timeframe(this)}),MediaSaturn.clickableLinks(),nextItemIdx===-1?_modal.find(".next").removeAttr("data-item-index").hide():_modal.find(".next").attr("data-item-index",nextItemIdx).show(),prevItemIdx===-1?_modal.find(".prev").removeAttr("data-item-index").hide():_modal.find(".prev").attr("data-item-index",prevItemIdx).show(),_modal.find(".prev[data-item-index], .next[data-item-index]").off("click.modal-switch-item").on("click.modal-switch-item",function(a){var b=_modal.parents(".cms-product-container").find(".prodteaser-list > li:not(.cloned):eq("+$(this).data("item-index")+")");if(0!==b.length)return b.html()?methods.openModal(b.find(".prodteaser")):(openModalProduct=this,$(this).is(".prev")?carousel.prev(a):carousel.next(a)),a.preventDefault(),!1})}).fail(function(a){}),_modal.addClass("ct-modal--show"),$(".ct-modal-overlay").addClass("ct-modal--show"),_modal.find(".template-container").html('<div class="loading"><span></span><span></span><span></span><span></span><span></span></div>')},switchPreview:function(){$(document).on("click.gallery",".ct-modal .thumbs a",function(a){var b=$(this).data("preview"),c=$(this).parents(".ct-modal").find(".preview");c.find("img.img-preview").prop("src",b),$(this).parent().siblings().removeClass("active"),$(this).parent().addClass("active");var d=$(this).parents("li").index();0!==d?c.find("img.flags").addClass("hide"):c.find("img.flags").removeClass("hide"),a.preventDefault()})}},carousel={init:function(){next.on("click",carousel.next),prev.on("click",carousel.prev),ul.addClass("animated"),carousel.adjustControls()},adjustControls:function(){products.length<=per_page||(circular===!1?(products.length>offset+per_page?next.removeClass("hide"):next.addClass("hide"),offset>0?prev.removeClass("hide"):prev.addClass("hide")):("undefined"!=typeof next&&next.removeClass("hide"),"undefined"!=typeof prev&&prev.removeClass("hide")),openModalProduct&&($(openModalProduct).trigger("click.modal-switch-item"),openModalProduct=null))},next:function(a){var b,c;return a.preventDefault(),!running&&(running=!0,carousel.clone(),offset===products.length?(ul.css({marginLeft:0}),offset=per_page):offset+per_page===products.length?(offset+=per_page,reset=!0):offset+=offset+2*per_page>products.length?products.length%per_page:per_page,b=offset+Math.ceil(per_page_raw-per_page),c=offset+Math.ceil(per_page_raw),void(el.is(".static-container")===!1&&methods.needsLoading(b,c)?(delayedAnimation=!0,methods.getProducts(products.slice(b,c))):carousel.animate()))},prev:function(a){var b,c;return a.preventDefault(),!running&&(running=!0,carousel.clone(),0===offset?(offset=products.length%per_page>0?products.length-products.length%per_page:products.length-per_page,ul.css({marginLeft:-1*(products.length*element_width+products.length*grid_gutter)+"px"})):offset<0?(offset=products.length-products.length%per_page,ul.css({marginLeft:-1*(products.length*element_width+products.length*grid_gutter)+"px"})):offset-=offset+per_page===products.length&&products.length%per_page>0?products.length%per_page:per_page,b=offset,c=offset+per_page,void(el.is(".static-container")===!1&&methods.needsLoading(b,c)?(delayedAnimation=!0,methods.getProducts(products.slice(b,c))):carousel.animate()))},clone:function(){if(cloned===!1){var a=ul.find("> li").slice(0,Math.ceil(per_page_raw)).clone().addClass("cloned");ul.append(a),ul.find(".photo img[data-original], .prodteaser-image img[data-original]").lazyload(),cloned=!0}},animate:function(){var a=-1*(offset*element_width+offset*grid_gutter);ul.animate({marginLeft:a+"px"},500,carousel.afterAnimate),carousel.adjustControls()},beforeAnimate:function(){ul.css({marginLeft:offset*element_width+offset*grid_gutter+"px"})},afterAnimate:function(){methods.updateRenderedElements(),running=!1,reset&&(ul.css({marginLeft:0}),reset=!1,offset=0)},setupTouchNavigation:function(){el.find(".pc-wrapper").hammer({prevent_default:!0,prevent_mouseevents:!0}).on("swipe drag tap",function(a){var b;if("swipe"===a.type)switch(a.gesture.direction){case"left":carousel.next(a);break;case"right":carousel.prev(a)}if("drag"===a.type)switch(b=$(window).scrollTop(),a.gesture.direction){case"up":$(window).scrollTop(b-a.gesture.deltaY);break;case"down":$(window).scrollTop(b-a.gesture.deltaY)}"tap"===a.type&&$(a.target).trigger("click")})}};return methods.initialize(),{recalculate:methods.recalculate}};ProductContainer.globalSetup=function(){if(ProductContainer.is_initialized===!0)return!1;var a=$(".cms-product-container").first();ProductContainer.url=a.data("href"),ProductContainer.param=a.data("param"),ProductContainer.callback=a.data("callback"),ProductContainer.separator=ProductContainer.url.indexOf("?")===-1?"?":"&",ProductContainer.__pc_cache=ProductContainer.__pc_cache||{},ProductContainer.__pc_defer=ProductContainer.__pc_defer||[],ProductContainer.__pc_recos=ProductContainer.__pc_recos||[],$(document).on("fee_productcontainer_products_loaded",ProductContainer.recommendationProductsLoaded),ProductContainer.is_initialized=!0},ProductContainer.buildProductContainers=function(a){a.each(function(){var a=$(this);if(!a.data("productContainer")){var b=new ProductContainer(this);a.data("productContainer",b)}})},ProductContainer.cacheProducts=function(a){$(a).each(function(a,b){ProductContainer.__pc_cache[b.id]=b})},ProductContainer.getCachedProduct=function(a){return"undefined"!=typeof ProductContainer.__pc_cache[a]&&ProductContainer.__pc_cache[a]},ProductContainer.launch=function(){ProductContainer.__pc_recos.length>0?$(document).trigger("fee_load_productcontainer_products",[ProductContainer.__pc_recos]):ProductContainer.initialLoad()},ProductContainer.recommendationProductsLoaded=function(a){var b=ProductContainer.__pc_defer;$.each(b,function(a,b){"undefined"!=typeof b.type&&b.methods.bindProducts(b.ids)}),ProductContainer.__pc_recos=[],ProductContainer.initialLoad()},ProductContainer.initialLoad=function(){var a,b,c=[];a=ProductContainer.__pc_defer,$.each(a,function(a,b){var d=b.ids;"undefined"!=typeof d.products&&(d=b.methods.getInitialProductsArray());for(var e=0;e<d.length;e++)$.inArray(d[e].id,c)===-1&&c.push(d[e].id)}),b=ProductContainer.url;var d=[];if($.each(c,function(a,b){var c=ProductContainer.getCachedProduct(b);c===!1&&d.push(b)}),0===d.length)$.each(a,function(a,b){var c=b.ids;"undefined"!=typeof c.products&&(c=b.methods.getInitialProductsArray()),b.methods.getProducts(c),b.carousel.adjustControls(),b.wrapper.removeClass("loading")}),ProductContainer.__pc_defer=[],ProductContainer.setupEvents();else{c=d,ProductContainer.separator=ProductContainer.url.indexOf("?")===-1?"?":"&";for(var e=0;e<c.length;e++)b+=ProductContainer.separator+ProductContainer.param+"="+c[e],ProductContainer.separator="&";$.each(a,function(a,b){b.wrapper.addClass("loading")}),$.ajax({url:b,type:"get",dataType:"json"}).done(function(b){ProductContainer.cacheProducts(b),$.each(a,function(a,b){var c=b.ids;"undefined"!=typeof c.products&&(c=b.methods.getInitialProductsArray()),b.methods.getProducts(c),b.carousel.adjustControls(),b.wrapper.removeClass("loading")}),ProductContainer.__pc_defer=[],ProductContainer.setupEvents(),$(document).trigger("fee.fgrid_refresh")})}},ProductContainer.setupEvents=function(){$(document).off("click.product_container_event"),$(window).off("resize.product_container_event"),$(document).on("click.product_container_event",".product-container .products-grid a",ProductContainer.trackClick),$(document).on("click.product_container_event","#product-preview a",ProductContainer.trackHoverLayerClick),$(window).on("resize.product_container_event",$.throttle(1e3,function(){$(window).trigger("fee_breakpoint_change")}))},ProductContainer.trackClick=function(a){var b=$(this),c=b.parents("li").first(),d=c.data("product");$(document).trigger("fee_productcontainer_product_click",[{product:d}])},ProductContainer.trackHoverLayerClick=function(a){var b=$(this).parents("#product-preview"),c=$(b.data("eventTarget")),d=c.parents("li").first(),e=d.data("product");$(document).trigger("fee_productcontainer_product_click",[{product:e}])},$.fn.cmsProductContainer=function(a){if(0!==this.length)return"recalculate"===a?($.each(this,function(a,b){var c=$(b).data("productContainer");c&&c.recalculate()}),this):(ProductContainer.globalSetup(),ProductContainer.buildProductContainers(this),"undefined"!=typeof window.__cmsProductContainerlaunchTimeout&&window.clearTimeout(window.__cmsProductContainerlaunchTimeout),window.__cmsProductContainerlaunchTimeout=window.setTimeout(ProductContainer.launch,100),void 0)},$(document).on("fee_ready",function(){$(".cms-product-container:not(#top-navigation .cms-product-container)").cmsProductContainer()})}(jQuery),function(a,b,c,d){"use strict";function e(a,b,c){var d="",e="";return c&&(e="wide "),d+='<li class="empty '+e+"grid-item-"+a+'" data-id="'+a+'" data-index="'+b+'">',d+='<div class="base-info"></div>',d+='<div class="actions"><input type="checkbox"/ ><label> </label></div>',d+="</li>"}function f(b){b>0?a(".action-bar").addClass("action-bar--show"):a(".action-bar").removeClass("action-bar--show")}a(document).on("fee_productgrid_salesadvisor_products_loaded",function(){MediaSaturn.cmsProductGrid.reloadSalesAdvisorTemplates()}),MediaSaturn.cmsProductGrid={openModalProduct:null,init:function(){0!==a(".cms-products-grid").length&&a(".ct-products-grid").each(a.proxy(this.prepareBox,this))},prepareBox:function(b,d){var e=getObjectByName(a(d).data("products"));c.needsToLoadBox(e)?(a(d).addClass("is-reco-loading"),c.loadBox({products:[e],callback:a.proxy(this.boxOnPrepare,this)})):this.initializeTemplate({skipPrudsysBoxes:!0,item:a(d)})},boxOnPrepare:function(a){this.initializeTemplate({skipPrudsysBoxes:!1})},initializeTemplate:function(a){this.modal(),this.selectItems(),this.switchPreview(),this.updateAddToCartUrl(),this.onScrollNew.init(a),this.activateScrollTop(),this.ctLazyLoadImages()},ctLazyLoadImages:function(){a(".ct-products-grid").lazyLoadImages({multiplier:1})},activateScrollTop:function(){a("html, body").off("click.cmsproductsgrid_scrolls"),a("html, body").on("click.cmsproductsgrid_scrolls",".scroll-top",function(b){b.preventDefault(),a("html, body").animate({scrollTop:0},"300")})},modal:function(){var b,c;0===a(".ct-modal-overlay").length&&a("body").append('<div class="ct-modal-overlay"></div>'),b=a(".ct-products-grid li").find(".photo, .product-link, .nutrition-link, .color-picker li a, .variation-features-link"),b.off("click.cmsproductsgrid_modalbase"),b.on("click.cmsproductsgrid_modalbase",function(b){var c=a(this).parents(".cms-products-grid"),d=c.data("modal-details");if(d===!0||void 0===d)return MediaSaturn.cmsProductGrid.openModal(this),b.preventDefault(),!1}),c=a(".ct-modal-close, .ct-modal-overlay"),c.off("click.cmsproductsgrid_links"),c.on("click.cmsproductsgrid_links",function(){return MediaSaturn.cmsProductGrid.closeModal(),!1}),a(document).off("cbox_complete.cms-products-grid-modal").on("cbox_complete.cms-products-grid-modal",function(){a("#colorbox #basket-flyout").length&&MediaSaturn.cmsProductGrid.closeModal()})},openModal:function(b){function c(b){var i=f.data("load-more"),j=i.indexOf("?")===-1?"?":"&";i+=j+n+"="+b,a.ajax({method:"GET",cache:!1,url:i,dataType:"json"}).done(function(b){var f,i,j;a.each(b,function(a,b){f=b}),f.__custom={},MediaSaturn.productJsonPresenter.prepareFeatures(f,o),MediaSaturn.productJsonPresenter.prepareEyeCatchers(f),MediaSaturn.productJsonPresenter.prepareOldPrice(f),MediaSaturn.productJsonPresenter.prepareSoldOut(f),MediaSaturn.productJsonPresenter.prepareUniqueId(f),MediaSaturn.productJsonPresenter.prepareQuantityChooser(f),MediaSaturn.productJsonPresenter.prepareRating(f,g),h&&MediaSaturn.productJsonPresenter.prepareNDD(f),p&&MediaSaturn.productJsonPresenter.prepareVariationFeatures(f),i=e(f),m.find(".template-container").html(i),m.find(".price").priceImageReplacement(),m.find("[data-simple-tooltip]").simpleTooltip(),Modernizr.touchevents===!1&&MediaSaturn.Product.easyZoom.setUp(m.find(".preview .zoom")),a(".timeframe:not(.state-initialized)").each(function(){new MediaSaturn.Timeframe(this)}),MediaSaturn.clickableLinks(),MediaSaturn.cmsProductGrid.quantityChooserInit(m.find(".quantity-chooser"),m.find(".add-to-cart.button")),m.find(".js-product-attributes").each(function(){new MediaSaturn.ProductAttributes({$element:a(this),action:function(a){c(a),d()}})}),q===-1?m.find(".next").removeAttr("data-item-index").hide():m.find(".next").attr("data-item-index",q).show(),r===-1?m.find(".prev").removeAttr("data-item-index").hide():m.find(".prev").attr("data-item-index",r).show(),j=m.find(".prev[data-item-index], .next[data-item-index]"),j.off("click.cmsproductstsgrid_modalswitchitem"),j.on("click.cmsproductstsgrid_modalswitchitem",function(b){var c,d;if(c=m.parents(".cms-products-grid").find(".ct-products-grid > li[data-index="+a(this).data("item-index")+"]"),0!==c.length)return c.is(".empty")?(d=m.parents(".cms-products-grid").find(".ct-products-grid"),MediaSaturn.cmsProductGrid.openModalProduct=this,MediaSaturn.cmsProductGrid.onScrollNew.gridUpdate(a(this).is(".prev")?"up":"down",a(this).data("item-index"),d)):MediaSaturn.cmsProductGrid.openModal(c.find(".base-info")),b.preventDefault(),!1})}).fail(function(a,b){console.log("Error while loading product grid: ",a,b)})}function d(){m.addClass("ct-modal--show"),a(".ct-modal-overlay").addClass("ct-modal--show"),m.find(".template-container").html('<div class="loading"><span></span><span></span><span></span><span></span><span></span></div>')}if(0!==a(b).length){var e,f=a(b).parents(".cms-products-grid"),g=f.data("empty-rating"),h=f.data("ndd"),i=a(b).parents(".ct-products-grid li"),j=i.parents(".ct-products-grid").find("> li[data-index]"),k=i.data("id"),l=a(".cms-products-grid--modal-template").html(),m=f.find(".js-ct-modal"),n=f.find(".ct-products-grid").data("url-param"),o=f.data("features-limit"),p=f.data("variation-features"),q=-1,r=-1,s=!1,t=f.data("modal-template");void 0!==t&&(l=a(".cms-products-grid--modal-template-"+t).html()),e=Handlebars.compile(l),i.data("index")===j.length-1?s&&(q=0):q=i.data("index")+1,0===i.data("index")?s&&(r=j.length-1):r=i.data("index")-1,c(k),d()}},closeModal:function(){a(".ct-modal").removeClass("ct-modal--show"),a(".ct-modal-overlay").removeClass("ct-modal--show")},selectItems:function(){var b=a('.ct-products-grid input[type="checkbox"]:checked');b.length>0&&(b.each(function(){a(this).parents("li").addClass("selected")}),a(".action-bar").addClass("action-bar--show")),a(document).off("change.products_grid"),a(document).on("change.products_grid",'.ct-products-grid .cart-checkbox input[type="checkbox"]',function(){var b=a('.ct-products-grid .cart-checkbox input[type="checkbox"]:checked').length;f(b),a(this).closest(".ct-products-grid > li").toggleClass("selected")}),a(".action-clearall").off("click.productsgrid_clear"),a(".action-clearall").on("click.productsgrid_clear",function(){return a('.ct-products-grid input[type="checkbox"]').prop("checked",!1),a(".action-bar").removeClass("action-bar--show"),a(".ct-products-grid li").removeClass("selected"),!1})},updateAddToCartUrl:function(){function b(){c={},d=0,a('.ct-products-grid input[type="checkbox"]:checked').each(function(){var b,e=a(this),f=e.data(),h={};a.each(f,function(a,b){var c;for(c=0;c<g.length;c++)a.indexOf(g[c])>-1&&"quantityDataName"!==a&&(h[a]=b)}),a.extend(c,h),b=e.data("items-count"),void 0===b&&(b=1),d+=parseInt(b,10)});var b=a.param.querystring(e,c);a(".action-bar .button").attr("data-href",b),a(".action-bar .button .count").html(d),f(d)}var c,d,e=a(".action-bar .button").data("href"),g=["catentryid","categoryid","productqty","quantity"];b(),a('.ct-products-grid input[type="checkbox"]').off("change.cms-products-grid").on("change.cms-products-grid",function(){b()})},switchPreview:function(){a(document).off("click.cmsproductsgrid_gallery"),a(document).on("click.cmsproductsgrid_gallery",".ct-modal .thumbs a, .cms-products-grid .aside .thumbs a",function(b){var c=a(this).data("preview"),d=a(this).parents(".ct-modal, .aside").find(".preview"),e=a(this).data("zoom");d.find("img.img-preview").prop("src",c),void 0!==e&&""!==e&&d.find("img.img-preview").data("zoom",e),a(this).parent().siblings().removeClass("active"),a(this).parent().addClass("active");var f=a(this).parents("li").index();0!==f?d.find("img.flags").addClass("hide"):d.find("img.flags").removeClass("hide"),Modernizr.touchevents===!1&&(a(this).parents(".js-ct-modal").find(".zoom").length>0?MediaSaturn.Product.easyZoom.setUp(a(this).parents(".js-ct-modal").find(".zoom")):a('[data-index="0"] .preview .zoom').length>0&&MediaSaturn.Product.easyZoom.setUp(a(this).parents('[data-index="0"]').find(".preview .zoom"))),b.preventDefault()})},quantityChooserInit:function(b,c,d){function e(){var b,d,e,f,h=parseInt(g.val(),10);b=g.prop("name"),d=c.attr("data-href"),f=a.deparam.querystring(d),f[b]=h,e=a.param.querystring(d,f),c.attr("data-href",e)}function f(){var a=g.val(),b=d.data("quantity-data-name");d.data(b,a),d.attr("data-"+b,a),d.data("items-count",a),h.updateAddToCartUrl()}var g,h=this;1===b.length&&(g=b.find("select"),c&&c.length>0&&(g.on("change",e),e()),d&&d.length>0&&(g.on("change",f),f()))},onScrollNew:{init:function(b){var c,d;"undefined"!=typeof b.item?(c=a(b.item),c.data("last-item",0),this.prepareGrid(c),this.updateTrigger(c),this.anchorTrigger(c)):(d=a(".ct-products-grid.is-reco-loading"),d.each(a.proxy(function(b,d){c=a(d),c.data("last-item",0),this.prepareGrid(c),this.updateTrigger(c),this.anchorTrigger(c),c.removeClass("is-reco-loading")},this)))},prepareGrid:function(b){function c(a,b){var c,d=!1;return i&&0===a&&!k&&(d=!0),c=e(b.id,a,d)}function d(a){var b;return"undefined"==typeof a.anchor?(a.anchor="pg-"+(new Date).getTime(),a.showTopAnchor=!1):a.showTopAnchor=!0,b=m(a)}function f(b){var c,d,e,f,g,h,i,j,k,m,n,o={};if(b.activeQuestion&&b.activeQuestion.answers)for(o.salesAdvisorQuestionEnabled=!0,o.salesAdvisorAnswers=[],g=b.activeQuestion.text||"{}",g=g.replace(/\r?\n/g," "),h=a.parseJSON(g),o.salesAdvisorQuestion=h.html,"horizontal"===h.order&&(o.salesAdvisorOrientationHorizontal=!0),c=0;c<b.activeQuestion.answers.length;c++)d=b.activeQuestion.answers[c].text||"{}",d=d.replace(/\r?\n/g," "),e=a.parseJSON(d),e.html&&(f=e.html,f&&(f=f.replace(/<\/?html>/g,""),o.salesAdvisorAnswers.push({itemHtml:f,arrayIndex:c})));if(b.breadcrumb&&b.breadcrumb.length){for(o.salesAdvisorBreadcrumbItems=[],n=b.breadcrumb.length,j=b.breadcrumb[0],c=1;c<n;c++)i=b.breadcrumb[c],j=b.breadcrumb[c-1],"advisor"!==i.type||"advisor"!==j.type&&"unspecified"!==j.type||(k=i.text,m=a.parseJSON(k||"{}"),m.text&&o.salesAdvisorBreadcrumbItems.push({itemText:m.text,arrayIndex:c-1}));o.salesAdvisorBreadcrumbItems.length&&(o.salesAdvisorBreadcrumbEnabled=!0)}return(o.salesAdvisorBreadcrumbEnabled||o.salesAdvisorQuestionEnabled)&&(o.salesAdvisorEnabled=!0),l(o)}function g(b){function c(c){var d=a(this),e=d.data("array-index"),f=b.activeQuestion.answers[e];c.preventDefault(),n.addClass("is-salesadvisor-loading"),MediaSaturn.cmsProductGrid.setTemplateLoadingOverlay(n.closest(".cms-products-grid")),a(document).trigger("fee_productgrid_salesadvisor_click",[f,h,n])}function d(c){var d=a(this),e=d.data("array-index"),f=b.breadcrumb[e];c.preventDefault(),n.addClass("is-salesadvisor-loading"),MediaSaturn.cmsProductGrid.setTemplateLoadingOverlay(n.closest(".cms-products-grid")),a(document).trigger("fee_productgrid_salesadvisor_click",[f,h,n])}n.off("click.salesadvisorquestion").on("click.salesadvisorquestion",".sales-advisor-list [data-array-index]",c),n.off("click.salesadvisorbreadcrumb").on("click.salesadvisorbreadcrumb",".sales-advisor-breadcrumb [data-array-index]",d)}var h,i,j,k,l,m=Handlebars.compile(a(".cms-products-grid--banner-template").html()),n=a(b),o=0;n.hasClass("is-prepared")||(h=getObjectByName(n.data("products")),i=n.parents(".cms-products-grid").data("first-item"),k=n.parents(".cms-products-grid").data("sales-advisor"),j="",k&&(l=Handlebars.compile(a(".cms-products-grid--sales-advisor-template").html())),0===h.length&&(n.addClass("is-empty"),n.parent().addClass("no-products")),a.each(h,function(a,b){k&&"salesadvisor"===b.type&&(j+=f(b),g(b)),"imageTeaser"===b.type&&(j+=d(b)),"product"===b.type&&(j+=c(o,b),o++)}),n.append(j),n.addClass("is-prepared"))},gridUpdate:function(b,c,d){function f(b){var c=d.parents(".cms-products-grid").data("load-more"),i=c.indexOf("?")===-1?"?":"&";
a.each(b,function(b,d){c+=i+r+"="+d.id,i="&",d.colors&&a.each(d.colors,function(a,b){c+=i+r+"="+b.id})}),a.ajax({cache:!1,url:c,dataType:"json"}).done(function(b){var c="",i=0;a.each(b,function(j,l){var o,r=l,s=d.find(".grid-item-"+r.id+".empty"),t=s.parents(".cms-products-grid").data("features-limit");return""===r.content?(s.remove(),i+=1,!0):(r.gridId=s.parents(".cms-products-grid").data("grid-id"),r.__custom={},MediaSaturn.productJsonPresenter.prepareStoreAvailability(r),MediaSaturn.productJsonPresenter.prepareEyeCatchers(r),MediaSaturn.productJsonPresenter.prepareNutritionFacts(r),MediaSaturn.productJsonPresenter.prepareSoldOut(r),MediaSaturn.productJsonPresenter.prepareColors(r,l,b,k),MediaSaturn.productJsonPresenter.prepareOldPrice(r),MediaSaturn.productJsonPresenter.prepareFeatures(r,t),MediaSaturn.productJsonPresenter.prepareUniqueId(r),MediaSaturn.productJsonPresenter.prepareQuantityChooser(r),MediaSaturn.productJsonPresenter.prepareRating(r,m),void s.each(function(b,d){var j=a(d);o=j.data("index"),n&&(r.__custom.nr=o+1-i),p&&"0"===o.toString()&&MediaSaturn.productJsonPresenter.prepareNDD(r,o),q&&MediaSaturn.productJsonPresenter.prepareVariationFeatures(r),c=j.hasClass("wide")?h(l):g(l),j.html(c).removeClass("empty").addClass("loaded"),a(".timeframe:not(.state-initialized)").each(function(){new MediaSaturn.Timeframe(this)}),MediaSaturn.cmsProductGrid.quantityChooserInit(j.find(".quantity-chooser"),j.find(".add-to-cart.button"),j.find(".cart-checkbox input[type=checkbox]")),Modernizr.touchevents===!1&&0===a(d).data("index")&&MediaSaturn.Product.easyZoom.setUp(j.find(".preview .zoom")),j.find(".js-product-attributes").each(function(){new MediaSaturn.ProductAttributes({$element:a(this),action:function(b){var c,d,g;c=e(b,j.data("index"),j.hasClass("wide")),d=a(c),d.append('<div class="item-loading-overlay"></div>'),j.replaceWith(d),g=[{id:b,type:"product"}],setTimeout(function(){f(g)},0)}})})}))}),a(".price").priceImageReplacement(),a("[data-simple-tooltip]").simpleTooltip(),a(document).trigger("fee.fgrid_refresh"),MediaSaturn.clickableLinks(),MediaSaturn.cmsProductGrid.modal(),MediaSaturn.cmsProductGrid.updateAddToCartUrl(),MediaSaturn.cmsProductGrid.openModalProduct&&(a(MediaSaturn.cmsProductGrid.openModalProduct).trigger("click"),MediaSaturn.cmsProductGrid.openModalProduct=null)}).fail(function(a,b){console.log("Error loading products:",a,b)})}var g,h,i,j,k=a.grep(getObjectByName(d.data("products")),function(a){return"product"===a.type}),l=k.length,m=d.parents(".cms-products-grid").data("empty-rating"),n=d.parents(".cms-products-grid").data("order-numbers"),o=d.parents(".cms-products-grid").data("first-item"),p=d.parents(".cms-products-grid").data("ndd"),q=d.parents(".cms-products-grid").data("variation-features"),r=d.data("url-param"),s=d.data("load-items"),t=d.data("is-anchor"),u=d.data("last-item"),v=d.parents(".cms-products-grid").data("item-template"),w=d.parents(".cms-products-grid").data("first-item-template");g=void 0!==v?Handlebars.compile(a(".cms-products-grid--item-template-"+v).html()):Handlebars.compile(a(".cms-products-grid--item-template").html()),o&&void 0!==w?h=Handlebars.compile(a(".cms-products-grid--item1st-template-"+w).html()):o&&(h=Handlebars.compile(a(".cms-products-grid--item1st-template").html())),t?(i=d.data("last-item"),d.data("is-anchor",!1)):i=c,"down"===b?(u=i+s,j=k.slice(i,u)):"up"===b&&(u=i-s,j=k.slice(u,i)),d.data("last-item",u),i<=l&&f(j)},updateTrigger:function(b){b.children("li:not(.banner):not(.sales-advisor-grid-item)").filter(function(b){var c=a(this).parents(".ct-products-grid").data("load-items");return b%c===0}).waypoint({offset:"100%",handler:function(b){function c(b){for(var c=!1,d=0;d<e;d++){if(a(b).next().hasClass("empty")){c=!0;break}if(0===a(b).siblings().length){c=!0;break}b=a(b).next()}return c}var d=a(this).parents(".ct-products-grid"),e=d.data("load-items");if("down"===b&&c(this)){var f=d.data("is-anchor"),g=parseInt(a(this).data("index"),10);f?(d.data("last-item",g),MediaSaturn.cmsProductGrid.onScrollNew.gridUpdate(b,g,d)):MediaSaturn.cmsProductGrid.onScrollNew.gridUpdate(b,g,d)}}}).waypoint({offset:"-324px",handler:function(c){var d=!1;d="up"===c&&a(this).prev().hasClass("empty"),d&&MediaSaturn.cmsProductGrid.onScrollNew.gridUpdate(c,a(this).data("index")+1,b)}})},anchorTrigger:function(b){a(document).off("click.cmsproductsgrid_anchors"),a(document).on("click.cmsproductsgrid_anchors",".grid-anchor",function(b){var c=a(this).attr("href"),d=a(c).parents(".ct-products-grid");d.data("is-anchor",!0),location.hash=c,d.data("last-item",a(c).next().index()),b.preventDefault()})}},reloadSalesAdvisorTemplates:function(){a(".ct-products-grid.is-salesadvisor-loading").each(function(){var b=a(this);b.removeClass("is-salesadvisor-loading").removeClass("is-prepared"),MediaSaturn.cmsProductGrid.clearTemplateLoadingOverlay(b.closest(".cms-products-grid")),b.empty(),MediaSaturn.cmsProductGrid.onScrollNew.init({item:b[0]})})},setTemplateLoadingOverlay:function(a){a.append('<div class="cms-products-grid-loading-overlay"></div>')},clearTemplateLoadingOverlay:function(a){a.find(".cms-products-grid-loading-overlay").remove()}},a(document).on("fee_ready",function(){MediaSaturn.cmsProductGrid.init()})}(jQuery,jQuery,MediaSaturn.PrudsysLoader,MediaSaturn.ProductLoader),function(a,b){function c(a){this.$element=a,this.init()}function d(){this.items=[]}function e(a){b.extend(this,a),this.init()}function f(a){b.extend(this,a)}function g(a){b.extend(this,a)}function h(a){this.$element=a,void 0===this.$element.data("cmsslider")&&(this.init(),this.$element.data("cmsslider",this))}c.SELECTOR=".cms-slider__item",c.ITEM_CONTENT_SELECTOR=".cms-slider__item-content",c.ITEM_FIXED_CLASS="cms-slider__item--fixed",c.ITEM_ACTIVE_CLASS="cms-slider__item--active",b.extend(c.prototype,{$element:null,order:null,orderCurrent:null,fixed:!1,init:function(){var a,b,d,e=this.$element[0].className.split(/\s+/),f=e.length;for(this.order={s:null,m:null,b:null},a=0;a<f;a++)b=null,d=null,/^[smb]-/.test(e[a])&&(b=e[a].charAt(0),d=e[a].slice(2),this.order[b]="hide"===d?d:+d),e[a]===c.ITEM_FIXED_CLASS&&(this.fixed=!0)},getOrder:function(a){return this.order[a]},isFixed:function(){return this.fixed},setCurrentOrder:function(a){this.orderCurrent=a},getCurrentOrder:function(){return this.orderCurrent},compareWith:function(a,b){var c,d;return b?(c=this.getOrder(b),d=a.getOrder(b)):(c=this.getCurrentOrder(),d=a.getCurrentOrder()),"hide"===c?1:"hide"===d?-1:c-d},detach:function(){return this.$element.detach(),this},appendTo:function(a){return a.append(this.$element),this},setWidth:function(a){return this.$element.css("width",a),this},setContentWidth:function(a){return this.$element.find(c.ITEM_CONTENT_SELECTOR).css("width",a),this},setActive:function(){this.$element.addClass(c.ITEM_ACTIVE_CLASS)},clearActive:function(){this.$element.removeClass(c.ITEM_ACTIVE_CLASS)},accept:function(a){a.visit(this)}}),b.extend(d.prototype,{add:function(a){this.items.push(a)},each:function(a){var b;for(b=0;b<this.items.length;b++)a(this.items[b])},getLength:function(){return this.items.length},sort:function(a){var b,c,d,e=[],f=[],g=[];for(this.each(function(a){e.push(a),a.isFixed()||f.push(a)}),c=this.getLength(),d=f.length,e.sort(function(b,c){return b.compareWith(c,a)}),b=0;b<c;b++)e[b].setCurrentOrder(b);for(b=0;b<d;b++)g[b]=f[b].getCurrentOrder();for(function(a){var b,c,d;for(b=a.length-1;b>0;b--)c=Math.floor(Math.random()*(b+1)),d=a[b],a[b]=a[c],a[c]=d}(g),b=0;b<d;b++)f[b].setCurrentOrder(g[b]);this.items.sort(function(a,b){return a.compareWith(b)}),this.each(function(b){"hide"===b.getOrder(a)&&b.setCurrentOrder("hide")})},clearActiveItem:function(){this.each(function(a){a.clearActive()})},setActiveItem:function(a){a<0||a>=this.items.length||(this.clearActiveItem(),this.items[a].setActive())}}),e.SELECTOR=".cms-slider__navigation",e.PAGINATION_SELECTOR=".cms-slider__pagination",e.PAGINATION_ITEM_SELECTOR=".cms-slider__pagination-item",e.BTN_PREV_SELECTOR=".cms-slider__btn-prev",e.BTN_NEXT_SELECTOR=".cms-slider__btn-next",e.ACTIVE_PAGINATION_ITEM_CLASS="cms-slider__pagination-item--active",e.PAGE_ATTR_NAME="cmsSliderPageIndex",b.extend(e.prototype,{$elements:null,carousel:null,itemsCollection:null,paginationItemHTML:null,$prevBtn:null,$nextBtn:null,$pagination:null,init:function(){var a=this;this.$pagination=this.$elements.filter(e.PAGINATION_SELECTOR),this.$prevBtn=this.$elements.find(e.BTN_PREV_SELECTOR),this.$nextBtn=this.$elements.find(e.BTN_NEXT_SELECTOR),this.paginationItemHTML=this.$pagination.html(),this.$prevBtn.on("click",b.proxy(function(){this.prev()},this)),this.$nextBtn.on("click",b.proxy(function(){this.next()},this)),this.$pagination.on("click",e.PAGINATION_ITEM_SELECTOR,function(){var c=b(this).index();a.goToPage(c),a.setActivePaginationItem(c),a.itemsCollection.setActiveItem(c)})},render:function(a){var c,d,e=this.carousel.getLength();for(1===e?this.$elements.hide():this.$elements.show(),this.$pagination.empty(),c=0;c<e;c++)d=b(this.paginationItemHTML),this.$pagination.append(d);void 0!==a&&a>=0&&a<e?(this.carousel.goToPage(a,{animate:!1}),this.setActivePaginationItem(a),this.itemsCollection.setActiveItem(a)):(this.setActivePaginationItem(0),this.itemsCollection.setActiveItem(0)),this.carousel.on("scrollEnd",b.proxy(function(){var a=this.getCurrentPageIndex();this.setActivePaginationItem(a),this.itemsCollection.setActiveItem(a)},this))},getCurrentPageIndex:function(){return this.carousel.getCurrentPage()},goToPage:function(a){this.carousel.goToPage(a,{animate:!0})},next:function(){var a=this.carousel.getLength()-1,b=this.getCurrentPageIndex(),c=b+1;c>a&&(c=0),this.setActivePaginationItem(c),this.carousel.next()},prev:function(){var a=this.carousel.getLength()-1,b=this.getCurrentPageIndex(),c=b-1;c<0&&(c=a),this.setActivePaginationItem(c),this.carousel.prev()},setActivePaginationItem:function(a){var b=this.$pagination.find(e.PAGINATION_ITEM_SELECTOR);b.removeClass(e.ACTIVE_PAGINATION_ITEM_CLASS),b.eq(a).addClass(e.ACTIVE_PAGINATION_ITEM_CLASS)}}),b.extend(f.prototype,{action:null,delay:null,intervalID:null,restart:function(){this.resume()},pause:function(){clearInterval(this.intervalID)},resume:function(){this.pause(),this.intervalID=setInterval(this.action,this.delay)}}),b.extend(g.prototype,{$itemsContainer:null,itemWidth:null,contentWidth:null,noItemsRendered:!0,visit:function(a){"hide"!==a.getCurrentOrder()?(a.appendTo(this.$itemsContainer).setWidth(this.itemWidth).setContentWidth(this.contentWidth),this.noItemsRendered=!1):a.detach()}}),h.SELECTOR=".cms-slider",h.ITEMS_CONTAINER_SELECTOR=".cms-slider__items-list",h.CAROUSEL_SELECTOR=".cms-slider__carousel",h.DATA_ATTR_DELAY="delay",h.DATA_ATTR_FULL_WIDTH="full-width",h.NO_ITEMS_MODIFIER_CLASS="cms-slider--no-slides",h.HIDE_MODIFIER_CLASS="cms-slider--hide",b.extend(h.prototype,{items:null,carousel:null,navigation:null,autorotation:null,delay:null,fullWidth:null,currentScreenSize:null,init:function(){var a,e,f=this;this.delay=this.$element.data(h.DATA_ATTR_DELAY),this.fullWidth=this.$element.data(h.DATA_ATTR_FULL_WIDTH),a=this.items=new d,this.$element.find(c.SELECTOR).each(function(){a.add(new c(b(this)))}),this.currentScreenSize=e=MediaSaturn.mediaQuery.getScreenSize(),this.refresh(e,void 0,!0),b(window).on("resize.cmsslider",b.debounce(400,function(){null!==f.navigation&&f.$element.addClass(h.HIDE_MODIFIER_CLASS)})),b(window).on("resize.cmsslider",b.debounce(500,function(a){var b,c,d;null!==f.navigation&&(b=f.navigation.getCurrentPageIndex(),c=MediaSaturn.mediaQuery.getScreenSize(),c===f.currentScreenSize?d=!1:(d=!0,f.currentScreenSize=c),f.refresh(c,b,d))})),this.$element.on("mouseover touchstart",function(){f.autorotation&&f.autorotation.pause()}).on("mouseout touchend",function(){f.autorotation&&f.autorotation.resume()})},refresh:function(a,c,d){var e,f,i,j,k,l=this.items,m={left:0,right:0},n=this,o=708;return d&&(this.rollbackToInitialState(),this.items.sort(a)),this.$element.css({marginLeft:m.left,marginRight:m.right}),j=this.$element.find(h.CAROUSEL_SELECTOR).width(),f=b(window).width(),this.fullWidth&&f>=o?(k=Math.floor((f-j)/2),m.left=-k,m.right=-k,i=j+2*k):i=j,this.$element.css({marginLeft:m.left,marginRight:m.right}),e=new g({$itemsContainer:this.$element.find(h.ITEMS_CONTAINER_SELECTOR),itemWidth:i,contentWidth:j}),l.each(function(a){a.accept(e)}),e.noItemsRendered?void this.handleEmptyContainer():void this.refreshCarousel(b.proxy(function(){this.refreshNavigation(c),setTimeout(function(){n.$element.find(h.ITEMS_CONTAINER_SELECTOR).css("min-height",1)},0),this.$element.removeClass(h.HIDE_MODIFIER_CLASS)},this))},rollbackToInitialState:function(){this.$element.removeClass(h.NO_ITEMS_MODIFIER_CLASS)},handleEmptyContainer:function(){this.$element.addClass(h.NO_ITEMS_MODIFIER_CLASS)},refreshCarousel:function(a){function c(){setTimeout(function(){b(window).trigger("scroll")},300)}function d(){b(window).trigger("scroll"),b(document).trigger("gtm_impressions_refresh")}function e(){a&&a(),f.refreshCarousel=function(a){f.items.clearActiveItem(),f.carousel.refresh(a)},setTimeout(function(){b(window).trigger("scroll")},200)}var f=this;f.$element.find("img[data-original]").lazyload(),this.carousel=MediaSaturn.carouselFactory.createCarousel(this.$element.find(h.CAROUSEL_SELECTOR)[0],{scrollStart:c,scrollEnd:d,onInit:e,circular:!0}),this.refreshCarousel=b.noop},refreshNavigation:function(a){var b,c;b=this.navigation=new e({$elements:this.$element.find(e.SELECTOR),carousel:this.carousel,itemsCollection:this.items}),b.render(a),this.delay&&(c=this.autorotation=new f({action:function(){b.next()},delay:this.delay}),c.restart()),this.refreshNavigation=function(a){b.render(a),this.delay&&c.restart()}},destroy:function(){b(window).off("resize.cmsslider"),this.carousel&&this.carousel.destroy()}}),a.CmsSlider=h}(MediaSaturn,jQuery),$(document).on("fee_ready",function(){$(MediaSaturn.CmsSlider.SELECTOR).each(function(){new MediaSaturn.CmsSlider($(this))})}),function(a){"use strict";var b=function(b,c){var d=a(b),e={init:function(){var a=d.find(".countdown");if(0!==a.length){var b=new Date(a.data("enddate")),c=a.data("lang"),e=window[c],f=a.data("title");jQuery.countdown.regional[e.region]={labels:e.labels,labels1:e.labels1,compactLabels:["J","M","W","T"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1},jQuery.countdown.setDefaults(jQuery.countdown.regional[e.region]),a.countdown({until:b,format:"dHM",layout:'<span class="countdown-title">'+f+'</span> <span class="countdown-days-val">{dn}</span> <span class="countdown-days-unit">{dl}</span> <span class="countdown-hours-val">{hn}</span> <span class="countdown-hours-unit">{hl}</span> <span class="countdown-minutes-val">{mn}</span> <span class="countdown-minutes-unit">{ml}</span>',onExpiry:function(){window.location.reload()}})}}};e.init()};b.buildBanner=function(c){c.each(function(){var c=a(this);if(!c.data("banner")){var d=new b(this);c.data("banner",d)}})},a.fn.cmsBanner=function(a){0!==this.length&&b.buildBanner(this)},a(document).on("fee_ready",function(){a(".cms-banner").cmsBanner()})}(jQuery),function(a,b){"use strict";MediaSaturn.CardAdavantages={init:function(){var a=MediaSaturn.CardAdavantages.getLevel();b('.ca-tab[data-level="'+a+'"]').addClass("active"),b('.ca-tab[data-level="'+a+'"] .current-status').addClass("status"),MediaSaturn.CardAdavantages.updateTiles(a),MediaSaturn.CardAdavantages.handleClick()},getLevel:function(){return"undefined"!=typeof mcs&&mcs.user&&mcs.user.tierLevel?mcs.user.tierLevel:mcs.user.defaultTierLevel},handleClick:function(){b(".ca-tab").on("click",function(a){a.preventDefault();var c=b(this),d=c.data("level").toString();b(".ca-tabs .active").removeClass("active"),c.addClass("active"),MediaSaturn.CardAdavantages.updateTiles(d)})},updateTiles:function(a){b(".ca-tiles .active").removeClass("active"),b(".ca-tiles .disabled").removeClass("disabled"),b(".ca-tiles").attr("class","ca-tiles level-"+a),b(".ca-tabs").attr("class","ca-tabs level-"+a),b(".ca-tiles .ca-tile").each(function(c,d){for(var e=b(d),f=e.data("levels"),g=0;g<f.length;g++)f[g]=f[g].toString();b.inArray(a,f)!==-1?(e.find("*[data-image-level="+a+"]").addClass("active"),e.addClass("active")):e.find("[data-image-level="+a+"]").addClass("disabled")})}},b(document).ready(function(){b(".my-card-advantages").length&&MediaSaturn.CardAdavantages.init()})}(window,jQuery),function(a,b){"use strict";MediaSaturn.CardAdavantagesBox={init:function(){var a=MediaSaturn.CardAdavantagesBox.getLevel(),c=MediaSaturn.CardAdavantagesBox.getNextLevel(),d=MediaSaturn.CardAdavantagesBox.getBitsToNextLevel(),e=b(".advantages-box-template").data("json"),f=window[e];MediaSaturn.CardAdavantagesBox.loadHandlebarTemplate(f),MediaSaturn.CardAdavantagesBox.displayAdvantagesLevel(a,".box-level__current .single-advantage"),"3"!==a?(MediaSaturn.CardAdavantagesBox.displayAdvantagesLevel(c,".box-level__next .single-advantage"),b(".box-level__next .next-level-bits").text(d),b(".box-description__default").show(),b(".box-description__last").hide()):(b(".box-level__next .box-headline").hide(),b(".box-level__next .box-headline__last").show(),b(".box-description__last").show(),b(".box-description__default").hide())},getLevel:function(){if(mcs&&mcs.user&&"undefined"!=typeof mcs.user.tierLevel)return mcs.user.tierLevel},getNextLevel:function(){if(mcs&&mcs.user&&"undefined"!=typeof mcs.user.tierLevel&&"3"!==mcs.user.tierLevel)return Number(mcs.user.tierLevel)+Number(1)},getBitsToNextLevel:function(){if(mcs&&mcs.user&&"undefined"!=typeof mcs.user.requiredBits)return mcs.user.requiredBits},loadHandlebarTemplate:function(a){var c=b(".advantages-box-template"),d=Handlebars.compile(b(".advantages-box-content").html());c.html(d(a))},displayAdvantagesLevel:function(a,c){b(c).each(function(c,d){var e=b(d);b.inArray(a,e)&&e.find("*[data-image-level="+a+"]").parent().addClass("active")})}},b(document).ready(function(){b(".advantages-box").length&&MediaSaturn.CardAdavantagesBox.init()})}(window,jQuery),function(a,b){"use strict";MediaSaturn.CardCoupons={init:function(){MediaSaturn.CardCoupons.loadCoupons(),b(".coupons-filter-select").on("change",b.proxy(this.filterCoupons,this)),MediaSaturn.CardCoupons.couponsPagination()},loadCoupons:function(){var a=b(".coupons-list").attr("data-source");b.ajax({url:a,cache:!1,type:"GET",dataType:"json"}).done(function(a){var c=b(".coupons-list-template"),d=Handlebars.compile(b(".coupons-list-content").html());c.html(d(a)),c.find(".coupon-item .button.activate, .coupon-item .button.deactivate").on("click",MediaSaturn.CardCoupons.couponButtonClick)}).fail(function(){console.log("table fail")})},filterCoupons:function(){var a={},c=b(".coupons-filter-select");a[c.prop("name")]=c.val();var d=b(".coupons-list").attr("data-source");b(".coupons-list-template").addClass("coupons-loading"),b.ajax({url:d,data:a,cache:!1,type:"GET",dataType:"json"}).done(function(a){MediaSaturn.CardCoupons.loadingData(a)}).fail(function(){console.log("table fail")})},couponsPagination:function(){b(".coupons-list .pagination-wrapper a").on("click",function(a){var c=b(this).attr("href"),d=b(this).attr("data");b(".coupons-list-template").addClass("coupons-loading"),b.ajax({url:c,data:{link:d},cache:!1,type:"GET",dataType:"json"}).done(function(a){MediaSaturn.CardCoupons.loadingData(a)}).fail(function(){console.log("table fail")}),a.preventDefault()})},loadingData:function(a){b(".coupons-list-template").removeClass("coupons-loading");var c=b(".coupons-list-template"),d=Handlebars.compile(b(".coupons-list-content").html());c.html(d(a)),c.find(".coupon-item .button.activate, .coupon-item .button.deactivate").on("click",MediaSaturn.CardCoupons.couponButtonClick)},couponButtonClick:function(){var a=b(this),c=a.attr("data-action"),d=a.siblings(".button.deactivate, .button.activate");a.addClass("loading"),b.ajax({url:c,cache:!1,type:"GET",dataType:"json"}).done(function(c){"success"===c.status?(a.addClass("hidden"),d.removeClass("hidden"),a.hasClass("activate")?a.parents(".coupon-item").removeClass("coupon-item-inactive").addClass("coupon-item-active"):a.parents(".coupon-item").removeClass("coupon-item-active").addClass("coupon-item-inactive")):b.infoLayers.showLayer({url:c.url,name:c.layer,cache:!1,item:a,splashscreen:!1})}).error(function(a,b){"parsererror"===b&&window.location.reload()}).always(function(){a.removeClass("loading")})}},b(document).ready(function(){b(".coupons-list").length&&MediaSaturn.CardCoupons.init()})}(window,jQuery),function(a,b){"use strict";MediaSaturn.CardIndicator={init:function(){var a=b(".tier-level").data("level"),c=b(".tier-level").data("current"),d=b(".tier-level").data("next"),e=b(".tier-level").data("pending"),f=c+e;c>d?b(".current-level").css("width","100%"):c<d&&e>d?(b(".pending-level").css("width","100%"),b(".current-level").css("width",this.calculateStatus(c,f))):(b(".pending-level").css("width",this.calculateStatus(f,d)),b(".current-level").css("width",this.calculateStatus(c,d))),3===a&&(b(".pending-level").css("width","100%"),b(".current-level").css("width",this.calculateStatus(c,f)),b(".tier-pending-bits").css("display","none"))},calculateStatus:function(a,b){return a/b*100+"%"}},b(document).ready(function(){b(".tier-level").length&&MediaSaturn.CardIndicator.init()})}(window,jQuery),function(a,b){"use strict";MediaSaturn.ClubManageCard={init:function(){return 0!==b(".tile-content--order").length&&void b(".tile-content--order .button--order").on("click",b.proxy(this.showLayerModal,this))},showLayerModal:function(a){a.preventDefault();var c=b(".tile-content--order .button--order").attr("data-url");b.ajax({cache:!1,type:"GET",url:c,dataType:"json"}).done(function(a){b.colorbox({overlayClose:!0,html:a.content,escKey:!0,reposition:!0,width:"750px",height:"420px",onComplete:function(){b.colorbox.resize()}})}),b(document).on("click",".layer-close",this.closeModal)},closeModal:function(a){a.preventDefault(),b.colorbox.close()}},b(document).ready(function(){MediaSaturn.ClubManageCard.init()})}(window,jQuery),function(a,b){"use strict";MediaSaturn.CardStatus={transactionData:{transactions:[],pagination:{}},init:function(){var a=b(".purchases-list-template");MediaSaturn.CardStatus.loadPurchasesTable(),b(".purchases-filter-select").on("change",b.proxy(this.filterPurchases,this)),a.on("click",".pagination-wrapper a",b.proxy(this.purchasesPagination,this)),a.on("click",".collapse-icon",b.proxy(this.initCollapsiblePurchases,this))},loadPurchasesTable:function(){var a=b(".purchases-list").attr("data-source");MediaSaturn.CardStatus.tableAjax(a)},purchasesPagination:function(a){a.preventDefault();var c=b(a.target),d=c.data("source");this.transactionData.transactions=[],MediaSaturn.CardStatus.tableAjax(d)},tableAjax:function(a){b(".purchases-list-template").addClass("purchases-loading"),b.ajax({url:a,type:"GET",dataType:"json"}).done(function(a){b(".purchases-list-template").removeClass("purchases-loading"),MediaSaturn.CardStatus.transformData(a),MediaSaturn.CardStatus.loadTableTemplate()}.bind(this)).fail(function(){console.log("table fail")})},transformData:function(a){if(a.transactions.length){for(var b=0;b<a.transactions.length;b++){var c=a.transactions[b];this.transactionData.transactions[b]=c,this.transactionData.transactions[b].expanded=!1}this.transactionData.pagination=a.pagination}else this.transactionData=a},loadTableTemplate:function(){var a=b(".purchases-list-template"),c=Handlebars.compile(b(".purchases-status-content").html());a.html(c(this.transactionData))},loadPurchasesDetails:function(a){b.ajax({url:a,cache:!0,type:"GET",dataType:"json"}).done(function(a){if(a.loyaltyTransactionId){var b=this.getPurchase(a.loyaltyTransactionId);void 0!==a.items&&a.items.length>0?b.items=a.items:b.errorMessage=a.errorMessage,b.state="uncollapsed"}MediaSaturn.CardStatus.loadTableTemplate()}.bind(this)).fail(function(){console.log("table fail")})},getPurchase:function(a){var c=b.grep(this.transactionData.transactions,function(b){return b.id===a.toString()});if(c.length)return c[0]},initCollapsiblePurchases:function(a){a.preventDefault();var c=b(a.target),d=c.data("source"),e=c.data("purchase-id"),f=this.getPurchase(e);f.expanded===!1&&""===f.state||(f.expanded===!1?(f.expanded=!0,"undefined"==typeof f.items&&"undefined"==typeof f.errorMessage?MediaSaturn.CardStatus.loadPurchasesDetails(d):(f.state="uncollapsed",c.closest(".pt-total-collapsed").removeClass("pt-total-collapsed").addClass("pt-total-uncollapsed"),c.closest(".pt-body").find(".pt-td.pt-items").removeClass("hide"))):(f.expanded=!1,f.state="collapsed",c.closest(".pt-total-uncollapsed").removeClass("pt-total-uncollapsed").addClass("pt-total-collapsed"),c.closest(".pt-body").find(".pt-td.pt-items").addClass("hide")))},filterPurchases:function(){var a={},c=b(".purchases-filter-select");c.each(function(){var c=b(this);a[c.prop("name")]=c.val()});var d=b(".purchases-list").attr("data-source");this.transactionData.transactions=[],b(".purchases-list-template").addClass("purchases-loading"),b.ajax({url:d,data:a,cache:!1,type:"GET",dataType:"json"}).done(function(a){b(".purchases-list-template").removeClass("purchases-loading"),MediaSaturn.CardStatus.transformData(a),MediaSaturn.CardStatus.loadTableTemplate()}.bind(this)).fail(function(){console.log("table fail")})}},b(document).ready(function(){(b(".bits-status-wrapper").length||b(".purchases-list").length)&&MediaSaturn.CardStatus.init()})}(window,jQuery),function(a,b){"use strict";MediaSaturn.ClubMaintenance={settings:{width:742,height:420},init:function(){return 0!==b("#loyaltyClub-activation-form").length&&(b(".js-lc-cancel-action").on("click",b.proxy(this.loadConfirmLayer,this)),void b(".change-market-button").on("click",function(a){a.preventDefault(),b(".club-market-selected, .change-market-select").toggle()}))},loadConfirmLayer:function(a){var c,d=b(a.target);a.preventDefault(),c=d.data("action"),b.ajax({method:"GET",url:c}).done(b.proxy(this.showLayerModal,this)).fail(b.proxy(this.onLoadError,this))},showLayerModal:function(a){if("undefined"==typeof a)return!1;var c=a;b(document).one("click",".layer-close-action",this.closeModal),b.colorbox({html:c,transition:"none",overlayClose:!0,escKey:!0,reposition:!0,initialWidth:this.settings.width,initialHeight:this.settings.height,onComplete:function(){b(document).trigger("fee.fgrid_refresh"),b.colorbox.resize(),window.setTimeout(function(){b.colorbox.resize()},300)}})},onLoadError:function(){console.log("Layer could not be loaded")},closeModal:function(a){a.preventDefault(),b.colorbox.close()}},b(document).ready(function(){MediaSaturn.ClubMaintenance.init()})}(window,jQuery),function(a,b){"use strict";MediaSaturn.CardOrders={init:function(){MediaSaturn.CardOrders.collapseOrders()},collapseOrders:function(){var a=b(".order-info"),c=b(".order-data-details .order-details, .print");a.hasClass("collapsed")&&(a.find(c).addClass("hide"),b(".products-section").addClass("hide")),b(".collapse-icon").on("click",function(d){d.preventDefault();var e=b(this).closest(a);e.hasClass("collapsed")?(e.removeClass("collapsed").addClass("expanded"),e.find(c).removeClass("hide"),e.next().removeClass("hide")):(e.removeClass("expanded").addClass("collapsed"),e.find(c).addClass("hide"),e.next().addClass("hide"))})}},b(document).ready(function(){b(".orders-list--club").length&&MediaSaturn.CardOrders.init()})}(window,jQuery),function(a,b){"use strict";MediaSaturn.BitsPoints={init:function(){if(0===b("#points_bar").length)return!1;var a=b("#points_bar").attr("data-points");this.fillBar(a),b(".messages-permissions-form .checkbox-points").change(b.proxy(this.modifyPoints,this))},fillBar:function(a){b("#points_bar").attr("data-points",a),b("#points_bar").attr("class","points-bar");var c=Math.round(a);c>100?c=100:c<0&&(c=0);var d="points-"+c;b("#points_bar").addClass(d)},modifyPoints:function(a){a.preventDefault();var c=b(".messages-permissions-form").attr("data-multiplier");b(a.target).is(":checked")?this.fillBar(this.addPoints(c)):this.fillBar(this.removePoints(c))},addPoints:function(a){var c=b("#points_bar").attr("data-points");return parseInt(c,10)+parseInt(a,10)},removePoints:function(a){var c=b("#points_bar").attr("data-points");return parseInt(c,10)-parseInt(a,10)}},b(document).ready(function(){MediaSaturn.BitsPoints.init()})}(window,jQuery),function(a,b){"use strict";MediaSaturn.ClubSalesslips={init:function(){return 0!==b(".show-salesslip").length&&(b(".show-salesslip").on("click",b.proxy(this.showLayerModal,this)),void b(document).on("submit","#colorbox .salesslips-form",b.proxy(this.submitModalForm,this)))},showLayerModal:function(a){a.preventDefault();var c=b(".show-salesslip").attr("data-url");b.ajax({cache:!1,type:"GET",url:c,dataType:"json"}).done(function(a){b.colorbox({overlayClose:!0,html:a.content,escKey:!0,reposition:!0,width:"750px",height:"420px",onComplete:function(){b.colorbox.resize(),MediaSaturn.Widgets.CaptchaReload(),MediaSaturn.ClubSalesslips.toggleInfo()}}),window.validateSalesslipForm()}),b(document).on("click",".layer-close",this.closeModal)},closeModal:function(a){a.preventDefault(),b.colorbox.close()},toggleInfo:function(){b(".salesslip-details-button").on("click",function(a){a.preventDefault(),window.setTimeout(function(){b(".salesslip-additional-info").toggleClass("hide"),b(document).trigger("fee.fgrid_refresh")},100),b.colorbox.resize()})},submitModalForm:function(a){a.preventDefault();var c=b(a.target);c.valid()===!0&&b.ajax({type:c.attr("method"),url:c.attr("action"),data:c.serialize(),dataType:"json",success:function(a){b(".club-salesslips-layer").replaceWith(a.content),b.colorbox.resize(),window.validateSalesslipForm(),MediaSaturn.ClubSalesslips.toggleInfo(),MediaSaturn.Widgets.CaptchaReload()}})}},b(document).ready(function(){MediaSaturn.ClubSalesslips.init()})}(window,jQuery),function(a,b){"use strict";MediaSaturn.ClubTeaserWidget={init:function(){b(".club-teaser-widget").length>0?this.loadData("teasers"):b(".club-counter-widget").length>0&&this.loadData("counter")},addLoadingClasses:function(){b(".club-teaser-widget, .club-counter-widget").addClass("state-loading")},removeLoadingClasses:function(){b(".club-teaser-widget, .club-counter-widget").removeClass("state-loading")},loadData:function(a){var c,d,e,f=[];c=b("teasers"===a?".club-teaser-widget":".club-counter-widget"),this.addLoadingClasses(),c.each(function(a,c){f.push(b(c).data("url"))}),d=b.ajax({url:f[0],method:"GET",dataType:"json"}),2===f.length&&f[0]!==f[1]?(e=b.ajax({url:f[1],method:"GET",dataType:"json"}),b.when(d,e).done(b.proxy(function(a,b){this.dataOnLoad([a[0],b[0]])},this)).fail(b.proxy(this.onLoadError,this))):(d.done(b.proxy(function(a){this.dataOnLoad(a)},this)),d.fail(b.proxy(this.onLoadError,this)))},onLoadError:function(a){this.renderVoucher(null),this.renderLottery(null),this.removeLoadingClasses()},dataOnLoad:function(a){var b,c=null,d=null;for(b=0;b<a.length;b++)"undefined"!=typeof a[b].benefitId&&(a[b].benefitId.indexOf("WOW")!==-1&&(c=a[b]),a[b].benefitId.indexOf("HAND")!==-1&&(d=a[b]));this.renderVoucher(c),this.renderLottery(d),this.removeLoadingClasses()},renderVoucher:function(a){var c,d,e={counter:!1,exceedNextLevel:!1,date:!1,purchasesEnabled:!1};a&&"undefined"!=typeof a.benefitId&&(parseInt(a.benefitCur,10)>0&&(a.benefitNextLevel-a.benefitCur>0?(e.counter=a.benefitNextLevel-a.benefitCur,e.plural=e.counter>1):e.exceedNextLevel=!0),"undefined"!=typeof a.transferDate&&(e.date=this.prepareDate(a.transferDate)),"undefined"!=typeof a.benefitCur&&"true"==a.digitalStampCard&&(e.purchasesEnabled=!0,e.purchases=parseInt(a.benefitCur,10)||0,e.purchasesSingle=1===e.purchases,e.purchasesPlural=e.purchases>1,"undefined"!=typeof a.purchasesPending&&(e.purchasesPendingEnabled=!0,e.purchasesPending=parseInt(a.purchasesPending,10)||0,e.purchasesPendingSingle=1===e.purchasesPending,e.purchasesPendingPlural=e.purchasesPending>1))),c=b(".club-voucher-counter-teaser"),c.length>0?(d=Handlebars.compile(b(".ctw-voucher-content-template").html()),c.html(d(e))):b(".club-voucher-counter").length>0&&(d=Handlebars.compile(b(".club-voucher-counter-template").html()),
b(".club-voucher-counter").append(d(e)))},renderLottery:function(a){var c,d,e={counter:!1,date:!1};a&&"undefined"!=typeof a.benefitId&&(parseInt(a.benefitCur,10)>0&&(e.counter=a.benefitCur,e.plural=e.counter>1),"undefined"!=typeof a.transferDate&&(e.date=this.prepareDate(a.transferDate))),c=b(".club-voucher-lottery-teaser"),c.length>0?(d=Handlebars.compile(b(".ctw-lottery-content-template").html()),c.html(d(e))):b(".club-lottery-counter").length>0&&(d=Handlebars.compile(b(".club-lottery-counter-template").html()),b(".club-lottery-counter").append(d(e)))},prepareDate:function(a){if("undefined"==typeof a)return null;var b=new Date(parseInt(a,10)),c=function(a,b){for(var c=String(a);c.length<(b||2);)c="0"+c;return c};return{year:b.getFullYear(),month:c(b.getMonth()+1,2),day:c(b.getDate(),2),hours:c(b.getHours(),2),minutes:c(b.getMinutes(),2)}}},b(document).ready(function(){MediaSaturn.ClubTeaserWidget.init()})}(window,jQuery),function(a,b){"use strict";MediaSaturn.cardRegister={init:function(){this.ekitCheck(),this.pointsCounter(),this.toggleInfo(),this.getMemberCheckbox(),this.detectCountryByZip(),this.subsequentSelect()},disableHiddenFields:function(a,b){a.prop("checked")?b.prop("disabled",!1):b.prop("disabled",!0)},ekitCheck:function(){var a=b("#e-kit-check"),c=b(".ekit-number-section input");a.click(function(){b(".ekit-number-section, .order-card-section").toggleClass("hide"),MediaSaturn.cardRegister.disableHiddenFields(a,c),b(".order-card-section").hasClass("hide")?b("#card-order").prop("disabled",!0):b("#card-order").prop("disabled",!1)}),a.prop("checked")?b(".ekit-number-section, .order-card-section").toggleClass("hide"):b(".ekit-number-section input").prop("disabled",!0),b(".rc-ekit-number").hasClass("error")&&(a.prop("checked",!0),b(".ekit-number-section").removeClass("hide"),b(".order-card-section").addClass("hide"))},getMemberCheckbox:function(){var a=b("#member-check"),c=b(".member-field-section input");a.click(function(){b(".member-field-section").toggleClass("hide"),MediaSaturn.cardRegister.disableHiddenFields(a,c)}),b(".rc-member-number").hasClass("error")&&(a.prop("checked",!0),b(".member-field-section").removeClass("hide")),a.prop("checked")&&b(".member-field-section").removeClass("hide")},pointsCounter:function(){b("#notify-agreement").click(function(){b(".points-counter-checked , .points-counter").toggleClass("hide")}),b("#notify-agreement").prop("checked")&&(b(".points-counter-checked").removeClass("hide"),b(".points-counter").addClass("hide"))},toggleInfo:function(){b(".card-register .show-more").addClass("hide"),b(".card-register .show-more-button").on("click",function(a){a.preventDefault(),b(".card-register .show-more").toggleClass("hide"),b(".card-register .show-more-button").addClass("hide")})},detectCountryByZip:function(){var a=b(".my-account .detect-zip");a.each(function(a,c){var d=b(c),e=d.data("config");d.on("input",function(){var a=parseInt(d.val(),10);d.valid()&&(a>=e.range[0]&&a<=e.range[1]?b(e.outputEl).val(e.inRangeVal):b(e.outputEl).val(e.defaultVal))}),d.parents("form").on("submit",function(){d.parent().removeClass("hide-error")})})},subsequentSelect:function(){return b.fn.subsequentSelect?void b(".card-register").find("[data-subsequent-id]").subsequentSelect():void setTimeout(this.subsequentSelect,0)}},b(document).ready(function(){MediaSaturn.cardRegister.init()})}(window,jQuery),function(a){var b=".breadcrumbs-alternatives-data",c=".breadcrumbs-tpl-item",d=".breadcrumbs-tpl-back-to-search";a.Breadcrumbs=function(a){this.$element=$(a),this.init()},$.extend(a.Breadcrumbs.prototype,{$element:null,alternatives:null,referrer:null,patternCategory:null,patternSearchResults:null,itemTemplate:null,backToSearchTemplate:null,init:function(){var a,e;a=this.$element.nextAll(b),0!==a.length&&(this.alternatives=a.html()||"{}",this.alternatives=$.parseJSON(this.alternatives),this.referrer=document.referrer,this.referrer&&(this.patternCategory=new RegExp(a.data("pattern-category")||""),this.patternSearchResults=new RegExp(a.data("pattern-searchresults")||""),this.itemTemplate=Handlebars.compile(this.$element.nextAll(c).html()),this.backToSearchTemplate=Handlebars.compile(this.$element.nextAll(d).html()),e=this.getReferrerCategoryId(),null!==e?this.useCategoryBreadcrumb(e):this.isReferrerASearchResults()&&this.useSearchResultsBreadcrumb()))},getReferrerCategoryId:function(){var a,b=null;return a=this.patternCategory.exec(this.referrer),a&&(b=a[1]),b},isReferrerASearchResults:function(){return this.patternSearchResults.test(this.referrer)},useCategoryBreadcrumb:function(a){var b,c,d,e=this.alternatives[a];if(e)for(this.$element.find("> li:not(.home):not(.current)").remove(),c=this.$element.find("> li.current"),b=0;b<e.length;b++)d=this.itemTemplate(e[b]),$(d).insertBefore(c)},useSearchResultsBreadcrumb:function(){var a,b,c;a=this.$element.find("> li.home"),c={url:this.referrer},b=this.backToSearchTemplate(c),$(b).insertBefore(a)}})}(MediaSaturn),$(".breadcrumbs").each(function(){new MediaSaturn.Breadcrumbs(this)}),function(a,b){"use strict";function c(a){this.$element=a,this.init()}c.prototype.init=function(){this.supportStickyHeader(),this.supportTopMetaNav(),this.supportCartMaxHeight()},c.prototype.isNewHeader=function(){return this.$element.hasClass("site-header--new")},c.prototype.supportStickyHeader=function(){return this.$stickable=b(".header-stickable"),0!==this.$stickable.length&&(this.enableStickyHeader(),this.$stickable.data("stickyHeight",b("#header").find(".stickable-content").outerHeight(!0)),this.disableStickyHeader(),this.$stickable.data("closedByUser",!1),b("#top-navigation, .site-navbar").waypoint(this.onStickyHeaderWaypoint.bind(this)),void b(".site-header__close, .header-stickable-close").on("click",this.onStickyHeaderClose.bind(this)))},c.prototype.onStickyHeaderWaypoint=function(a){"down"===a&&this.$stickable.data("closedByUser")===!1?this.enableStickyHeader():this.disableStickyHeader()},c.prototype.enableStickyHeader=function(){this.$stickable.addClass("header-sticky")},c.prototype.disableStickyHeader=function(){this.$stickable.removeClass("header-sticky")},c.prototype.onStickyHeaderClose=function(a){a.preventDefault(),this.disableStickyHeader(),this.$stickable.data("closedByUser",!0)},c.prototype.getHeight=function(){var a=0,c=b("#header");return c.is(".header-stickable")&&(a=c.data("stickyHeight")),a},c.prototype.supportTopMetaNav=function(){b(".site-top-meta-nav").length>0&&this.$element.addClass("site-header--with-top-meta-nav")},c.prototype.supportCartMaxHeight=function(){if(this.isNewHeader){var a=this.$element.find(".nav-flyout--cart"),b=function(){var b=a.find(".nav-flyout__content"),c=60+b.offset().top+b.innerHeight()-b.find(".nav-flyout__content-list").outerHeight();b.find(".nav-flyout__content-list").css("max-height","calc(100vh - "+c+"px)")};a.on("update",b)}},b(document).ready(function(){var a=b(".site-header");a.length>0&&a.data("header-support",new c(a))})}(window,jQuery),function(a){a.LanguageSwitcher={init:function(){$(".language-selector > a").on("click",this.onDropDown),$(".language-selector").on("mouseleave",this.onMouseLeave),$([".language-selector .language-name",".language-selector .simple-selector",".language-switcher__link"].join(",")).on("click",this.switchLanguage)},onDropDown:function(a){var b=!1;$(this).parent().hasClass("enabled")?($(this).parent().removeClass("enabled"),b=!1):($(this).parent().addClass("enabled"),b=!0),b?$(this).parent().find(".languages-list").css("display","table"):$(this).parent().find(".languages-list").css("display","none"),$(this).parent().find(".arrow").toggle(),1===$(".language-selector > a").length&&0===$(".languages-list .language-name").length},onMouseLeave:function(){$(this).removeClass("enabled"),$(this).find(".languages-list").hide(),$(this).parent().find(".arrow").show()},switchLanguage:function(a){var b=$(this).data("lang"),c=$('link[hreflang="'+b+'"]');0!==c.length&&(window.location.href=c.prop("href"),a.preventDefault())}},$(document).on("fee_ready",function(){a.LanguageSwitcher.init()})}(MediaSaturn),function(a,b){"use strict";MediaSaturn.FlyoutNav={_template:null,_once:!1,init:function(){var a=b("#header");a.on("click.flyoutNav",".link-with-popup > a",function(a){var c=b(this).parent();a.preventDefault(),MediaSaturn.FlyoutNav._once===!1&&MediaSaturn.FlyoutNav.prepareMarketDetails(),c.hasClass("state-popup-shown")?c.removeClass("state-popup-shown"):window.setTimeout(function(){c.addClass("state-popup-shown")})}),b(document).on("click.flyoutNav",function(a){var c=b(a.target);0!==c.parents(".flyout-market-nav").length||c.is(".flyout-market-nav")||b(".flyout-market-nav").removeClass("state-popup-shown")})},prepareMarketDetails:function(){var a,c,d,e=new Date,f=b(".market-nav-description"),g={};return 0!==f.length&&(a=getObjectByName(f.data("store-json")),this._template=Handlebars.compile(b(".mn-oo-template").html()),this._once=!0,g.address=a.data.address,g.marketFlyoutHeadline=a.headline,this.isHoliday(a.data,e)?(c=this.getNextOpenDay(a.data,e),d=a.messages.closedOnHolidayOpensNextDay,g.marketOpeningStateClass="mn-market-closed"):this.isOpen(a.data,e,!1)?(c=this.getOpenHours(a.data,e),d=a.messages.openNow,g.marketOpeningStateClass="mn-market-open"):(c=this.getNextOpenDay(a.data,e),d=this.isToday(c)?a.messages.closedOpensToday:a.messages.closedOpensNextDay,g.marketOpeningStateClass="mn-market-closed"),g.openHoursMessage=this.getOpenHoursMessage({template:d,values:c}),void f.html(this._template(g)))},isToday:function(a){var b=this.getDateString(new Date),c=""+a.year+"-"+a.month+"-"+a.day;return b===c},getOpenHoursMessage:function(a){var b=Handlebars.compile(a.template);return b(a.values)},pad:function(a){var b=String(a);return 1===b.length&&(b="0"+b),b},getDateString:function(a){return""+a.getFullYear()+"-"+this.pad(a.getMonth()+1)+"-"+this.pad(a.getDate())},getHourString:function(a){return""+this.pad(a.getHours())+":"+this.pad(a.getMinutes())},getNextDay:function(a){var b=new Date(a.getTime());return b.setDate(b.getDate()+1),new Date(b.getTime())},isHoliday:function(a,b){var c=this.getDateString(b);return a.holidays.indexOf(c)!==-1},isOpen:function(a,b,c){for(var d,e,f,g=b.getDay()+1,h=null,i=this.getHourString(b),j=0;j<a.openinghours.length;j++)if(a.openinghours[j].day===g){h=a.openinghours[j];break}return null!==h&&(!!c||(d=Date.parse("01 Jan 2015 "+i+":00"),e=Date.parse("01 Jan 2015 "+h.hours.opening+":00"),f=Date.parse("01 Jan 2015 "+h.hours.closing+":00"),d>=e&&d<=f))},willOpenToday:function(a,b){var c,d,e,f=b.getDay()+1,g=null,h=this.getHourString(b);if(this.isHoliday(a,b)===!1){for(var i=0;i<a.openinghours.length;i++)if(a.openinghours[i].day===f){g=a.openinghours[i];break}return null!==g&&(c=Date.parse("01 Jan 2015 "+h+":00"),d=Date.parse("01 Jan 2015 "+g.hours.opening+":00"),e=Date.parse("01 Jan 2015 "+g.hours.closing+":00"),c<=d)}},getOpenHours:function(a,b){for(var c,d=b.getDay()+1,e=0;e<a.openinghours.length;e++)a.openinghours[e].day===d&&(c=a.openinghours[e].hours);return c},getNextOpenDay:function(a,b){var c,d=b,e=!1,f=0;for(this.isHoliday(a,d)||this.isOpen(a,d,!1)===!1?this.willOpenToday(a,d)?e=!0:d=this.getNextDay(d):e=!0;!e;){if(f++>100)return!1;this.isHoliday(a,d)||this.isOpen(a,d,!0)===!1?d=this.getNextDay(d):e=!0}return!!e&&(c=this.getOpenHours(a,d),{year:d.getFullYear(),month:this.pad(d.getMonth()+1),day:this.pad(d.getDate()),opening:c.opening,closing:c.closing})}},b(document).ready(function(){MediaSaturn.FlyoutNav.init()})}(window,jQuery),function(a,b){"use strict";function c(a,b,c,d,e){this.$menu=a,this.dropdownShow=b,this.dropdownHide=c,this.activateSubmenu=d,this.deactivateSubmenu=e,this.init()}function d(a,b,c,d,e){this.$menu=a,this.dropdownShow=b,this.dropdownHide=c,this.activateSubmenu=d,this.deactivateSubmenu=e,this.init()}b.extend(c.prototype,{init:function(){this.$menu.menuAim({activate:this.activateSubmenu,deactivate:this.deactivateSubmenu,exitMenu:function(){return!0}}),b(".js-dropdown-toggle").on("mouseenter",this.dropdownShow).on("mouseleave",this.dropdownHide)}}),b.extend(d.prototype,{activeRow:null,init:function(){b(".js-dropdown-toggle").on("click",this.dropdownToggleOnClick.bind(this)),this.$menu.find(".megadropdown__dropdownlink").on("click",this.dropdownlinkOnClick.bind(this)),b(document).on("touchend click",function(a){var c=b(a.target);c.closest(".js-dropdown-toggle").length<=0&&this.dropdownHide()}.bind(this))},dropdownToggleOnClick:function(a){var c=b(a.target);this.$menu.is(".megadropdown__dropdown--is-open")?c.closest(".megadropdown__item").length>0&&(this.dropdownHide(),a.preventDefault()):(this.dropdownShow(),a.preventDefault())},dropdownlinkOnClick:function(a){var c=b(a.target).closest(".megadropdown__dropdownitem"),d=c[0];d!==this.activeRow&&(a.preventDefault(),null!==this.activeRow&&this.deactivateSubmenu(this.activeRow),this.activateSubmenu(d),this.activeRow=d)}}),MediaSaturn.Widgets.Megadropdown={init:function(){this.attachEvents()},isTouch:function(){return!!("ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)},attachEvents:function(){var a=b(".js-nav-dropdown");this.isTouch()?new d(a,this.dropdownShow.bind(this),this.dropdownHide.bind(this),this.activateSubmenu.bind(this),this.deactivateSubmenu.bind(this)):new c(a,this.dropdownShow.bind(this),this.dropdownHide.bind(this),this.activateSubmenu.bind(this),this.deactivateSubmenu.bind(this)),b(document).on("preview_dropdown",this.previewDropdown.bind(this))},previewDropdown:function(a,b){var c=3e3;b&&b.close_delay&&(c=b.close_delay),this.dropdownShow(),this.previewTimeout=window.setTimeout(this.dropdownHide.bind(this),c)},activateSubmenu:function(a){var c=b(a),d=b(".js-nav-dropdown"),e=c.data("submenuId"),f=b("#"+e),g=d.outerHeight();c.addClass("megadropdown__dropdownitem--is-active"),f.addClass("megadropdown__popover--is-open"),f.css({height:g})},deactivateSubmenu:function(a){var c=b(a),d=c.data("submenuId"),e=b("#"+d);c.removeClass("megadropdown__dropdownitem--is-active"),e.removeClass("megadropdown__popover--is-open")},dropdownShow:function(){var a;b(".js-nav-dropdown").addClass("megadropdown__dropdown--is-open"),a=b(".megadropdown__popover--is-open")[0],void 0!==a&&this.deactivateSubmenu(),window.clearTimeout(this.previewTimeout)},dropdownHide:function(){var a,c=this;setTimeout(function(){b(".js-nav-dropdown:hover").length<=0&&(b(".js-nav-dropdown").removeClass("megadropdown__dropdown--is-open"),a=b(".megadropdown__dropdownitem--is-active")[0],void 0!==a&&c.deactivateSubmenu(a))},100)}},jQuery(document).ready(function(a){MediaSaturn.Widgets.Megadropdown.init()})}(window,jQuery),function(a,b){"use strict";MediaSaturn.Widgets.MainMenu={init:function(){this.calculate(),this.flyout_position(),this.styleNoClicklinks(),b(window).resize(function(){MediaSaturn.Widgets.MainMenu.calculate()});var a;if(a="b"===MediaSaturn.mediaQuery.getScreenSize()?5:"s"===MediaSaturn.mediaQuery.getScreenSize()?3:4,b("#top-navigation").find(".item").hover(function(){b("#top-navigation").not(".menu-dropdown-variant").find(".flyout-subnavigation > ul:visible").not(".masonry").masonry({itemSelector:".flyout-subnavigation > ul > li",transitionDuration:0})}),b(window).resize(b.throttle(250,function(){b(".flyout-subnavigation .masonry").masonry("destroy")})),b("html").hasClass("lt-ie8")){var c='<table class="top-navigation-items"><tr>';b("#top-navigation > .top-navigation-items > .item").each(function(){c=c+'<td class="'+b(this).attr("class")+'">'+b(this).html()+"</td>"}),c+="</tr></table>",b("#top-navigation").html(c)}},calculate:function(){if("s"!==MediaSaturn.mediaQuery.getScreenSize()){var a=b("#top-navigation .item").length,c=b("#top-navigation").width(),d=Math.ceil((c-b("#top-navigation .item.prospect").width())/a);b("#top-navigation .item:not(.prospect)").css("width",d)}else b("#top-navigation .item:not(.prospect)").css("width","auto")},styleNoClicklinks:function(){b("#top-navigation ").find("ul > li > ul li a").not("[href]").css("text-decoration","none")},flyout_position:function(){b("#top-navigation").find(".item").hoverIntent({over:function(){b(this).addClass("navHover").find(".flyout-subnavigation").css("display","block"),b("#top-navigation").not(".menu-dropdown-variant").find(".flyout-subnavigation > ul:visible").not(".masonry").masonry({itemSelector:".flyout-subnavigation > ul > li",transitionDuration:0})},out:function(){b(this).removeClass("navHover").find(".flyout-subnavigation").css("display","none")},timeout:120}),b("#top-navigation .item").mouseover(function(){b(this).find(".flyout-subnavigation").css("z-index","1100")}),b("#top-navigation .item").mouseout(function(){b(this).find(".flyout-subnavigation").css("z-index","1001")}),b("#top-navigation").not(".menu-dropdown-variant").find(".item").hover(function(){var a,c=b("#top-navigation"),d=b(this).find(".flyout-subnavigation"),e=b(this);c.width()>d.outerWidth()&&(a=e.position().left+e.outerWidth()/2-d.outerWidth()/2,d.css("left",a),d.css("right","auto"),a>c.width()-d.outerWidth()&&(d.css("left","auto"),d.css("right",0)),a<0&&d.css("left",0))})}},jQuery(document).ready(function(a){MediaSaturn.Widgets.MainMenu.init()})}(window,jQuery),function(a,b){"use strict";var c=[],d=228;b.MenuWithContentspots={init:function(){a(".menu-dropdown-variant").length>0&&(a(document).on("fee.fgrid_refresh",function(c,d){a("#top-navigation .fg-container:visible").respoFlexGrid("recalculate"),a(".spinner").removeClass("spinner"),a("#top-navigation .flyout-subnavigation:visible").addClass("ready"),b.MenuWithContentspots.lazyLoadWhenMainItemHovered()}),this.manageMenu(),this.widthIfAllMenuContainers(),this.countFlyOutsWidths(),this.initiateMenuAim(),this.ifNoContentShowOnlyLevel1(),this.delayCategoryContentSpotAimed())},ifNoContentShowOnlyLevel1:function(){a(".flyout-subnavigation").each(function(){0===a(this).find(".category-placeholder").length&&(a(this).find(".level-2").addClass("level2-hidden"),a(this).addClass("no-category-placeholder"))})},countFlyOutsWidths:function(b){var c="";c=b?b:a("#top-navigation .item");var e=a("#top-navigation").width();c.each(function(){var b=(a(this).position().left,2*d+parseInt(a(this).attr("data-container-width"),10));0===a(this).find(".level-2").length&&(a(this).find(".flyout-subnavigation").addClass("noLevel2"),b=d+parseInt(a(this).attr("data-container-width"),10));var c=0,f=50;c=b<e&&b>e-f?e:b,a(this).find(".flyout-subnavigation").css("width",c)})},initiateMenuAim:function(){function c(){a(".menu-dropdown-variant .level-1 a").on({touchstart:function(){var b=a(this);b.parents(".flyout-subnavigation").find(".hovered-menu").removeClass("hovered-menu"),b.parents(".flyout-subnavigation").find(".maintainHover").removeClass("maintainHover"),a(".level-1 > ul").removeAttr("style"),d(this),setTimeout(function(){b.parent().find(".contentspot").find(".fg-container:visible").respoFlexGrid("recalculate")},100)}})}function d(c){var d=a(c);if(a(".level-1 > ul").removeAttr("style"),a(".no-category-placeholder").removeClass("no-category-placeholder"),!d.parents(".item").find("> a").data("isblocked")){var e=d.find("ul");g.outerHeight(),g.outerWidth();setTimeout(function(){d.find(".contentspot").find(".fg-container:visible").respoFlexGrid("recalculate")},100),d.parents(".flyout-subnavigation").find(".category-placeholder .contentspot").hide(),e.css({display:"block",top:0}),d.parents(".level-1").addClass("hovered-menu"),d.addClass("hovered-menu"),b.MenuWithContentspots.countFlyOutsWidths(a(c).parents(".item")),d.parents(".item").removeClass("menu-init-state"),d.find(".contentspot").respoFlexGrid("recalculate")}}function e(b){var c=a(b),d=c.find("ul");d.css("display","none"),c.find("a").removeClass("maintainHover"),c.parents(".flyout-subnavigation").find(".hovered-menu").removeClass("hovered-menu")}function f(b){0===a(b).parents(".dropdown-menu").find(".hovered-menu").length&&d(b)}var g=a(".dropdown-menu").not(".flyout-expanding-left .dropdown-menu"),h=a(".flyout-expanding-left .dropdown-menu");g.menuAim({activate:d,deactivate:e,enter:f}),h.menuAim({activate:d,deactivate:e,enter:f,submenuDirection:"left"}),c(),a(document).click(function(){a("a.maintainHover").removeClass("maintainHover")})},delayCategoryContentSpotAimed:function(){!function(a){var b={};a.mousedirection=function(d){var e={};b=a.extend(e,d),a("li.item.hasChild > a").mousemove(a.throttle(20,function(a){c.push({x:a.pageX,y:a.pageY}),c.length>5&&c.shift()}))}}(jQuery),a.mousedirection()},manageMenu:function(){function d(b,c){if(Modernizr.touchevents===!0){b.stopPropagation(),b.preventDefault();var d=a(c).parent();d.hasClass("touched")&&(window.location=a(c).attr("href")),d.siblings().removeClass("touched"),d.siblings().find(".touched").removeClass("touched"),d.addClass("touched")}}function e(){a("li.item.hasChild > a").mouseenter(function(){a(".level-1 > ul").removeAttr("style"),c=[];var d=a(this).parent();d.find(".hovered-menu").removeClass("hovered-menu"),d.find(".maintainHover").removeClass("maintainHover"),d.find(".category-placeholder .contentspot").show(),setTimeout(function(){d.find(".fg-container:visible").respoFlexGrid("recalculate")},500),d.addClass("menu-init-state"),b.MenuWithContentspots.ifNoContentShowOnlyLevel1()}),a("li.item.hasChild > a").mouseleave(function(){function b(){var a=c[c.length-1],b=c[0],d=a.x-b.x,e=a.y-b.y;return a.x>b.x&&a.y>b.y?(d=Math.abs(d),e=Math.abs(e),d+e<30?0:1):0}var d=this;b()&&a(this).parent().find(".category-placeholder .contentspot").length>0&&(a(d).data("isblocked",!0),setTimeout(function(){a(d).data("isblocked",!1)},400)),c=[]})}a("#top-navigation.menu-dropdown-variant .flyout-subnavigation .level-1").mouseover(function(){a(this).parents(".flyout-subnavigation").css("max-width","1600px"),a(this).addClass("recalculated"),a("#top-navigation .fg-container:visible").respoFlexGrid("recalculate")}),e(),a("#top-navigation.menu-dropdown-variant .flyout-subnavigation .level-1").mouseenter(function(){if(!a(this).hasClass("prerendered")){a("#top-navigation .fg-container:visible .cms-product-container, #top-navigation .fg-container:visible .product-container, #top-navigation .fg-container:visible .image-teaser").length?(a("#top-navigation .fg-container:visible").addClass("spinner"),a("#top-navigation .fg-container:visible").find(".cms-product-container").cmsProductContainer(),a("#top-navigation .fg-container:visible").find(".product-container").productContainer(),a("#top-navigation .fg-container:visible").find(".image-teaser").stageTeaser({controls:!0}),a(this).addClass("prerendered")):(a(this).addClass("prerendered"),a("#top-navigation .flyout-subnavigation:visible").addClass("ready"))}}),a(".item ul").not(".respoInMenu").find("a").on({touchend:function(a){var b=this;d(a,b)}})},lazyLoadWhenMainItemHovered:function(){a("ul.top-navigation-items > li").hover(function(){a(this).find("img").addClass("loaded").lazyload()})},widthIfAllMenuContainers:function(){a(".top-navigation-items > li .dropdown-menu").each(function(){var b=a(this).respoFlexGrid("calculateRespoflexWidth");a(this).parents(".top-navigation-items > li").attr("data-container-width",b)})}},jQuery(document).ready(function(a){b.MenuWithContentspots.init()})}(jQuery,MediaSaturn),function(a,b){"use strict";function c(a){this.$element=a,this.init()}var d=".nav-flyout__trigger",e=".nav-flyout__counter",f=".nav-flyout__content",g=".nav-flyout--dynamic",h="nav-flyout--touch",i=2e3;c.prototype.init=function(){this.$trigger=this.$element.find(d),this.isTouch()&&this.touchSupport(),this.$element.is(g)&&(j.call(this),this.initDynamic())},c.prototype.isTouch=function(){return!!("ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)},c.prototype.touchSupport=function(){var a=this;this.$element.addClass(h),this.$trigger.on("click",function(b){a.isOpen()?a.close():a.open(),b.preventDefault()}),b(document).off("touchend.navflyout click.navflyout").on("touchend.navflyout click.navflyout",function(a){var c=b(a.target);c.closest(".nav-flyout").length<=0&&b(".nav-flyout.is--hover").removeClass("is--hover")})},c.prototype.isOpen=function(){return this.$element.hasClass("is--hover")},c.prototype.open=function(){b(".nav-flyout.is--hover").removeClass("is--hover"),this.$element.addClass("is--hover")},c.prototype.close=function(){this.$element.removeClass("is--hover")};var j=function(){this.initDynamic=function(){this.$counter=this.$element.find(e),this.$content=this.$element.find(f),this.updateUri=this.$trigger.data("load-url"),this.$trigger.one("mouseover",this.onHover.bind(this)),this.$element.on("click",".flyout-list__action-remove",this.onRemove.bind(this)),this.$element.on("flyout-reload",this.onReload.bind(this))},this.onHover=function(a){this.requestUpdate()},this.onRemove=function(a){a.preventDefault();var c=b(a.target),d=c.data("load-url");this.requestUpdate(d)},this.onReload=function(a){this.requestUpdate(),this.tempOpen(i)},this.requestUpdate=function(a){var c=this.updateUri;"undefined"!=typeof a&&(c=a);var d=b.ajax({url:c,data:{},dataType:"jsonp"});d.done(this.onUpdateSuccess.bind(this))},this.onUpdateSuccess=function(a){var c=b(a.content);this.$trigger.attr("href",c.find(d).attr("href")),this.$counter.html(c.find(e).html()),this.$content.html(c.find(f).html()),this.$element.trigger("update")},this.tempOpen=function(a){this.open(),window.setTimeout(this.tempClose.bind(this),a)},this.tempClose=function(){this.close()}};b(document).ready(function(){b(".nav-flyout").each(function(a,d){var e=b(d);e.data("nav-flyout",new c(e))})})}(window,jQuery),function(a,b){"use strict";function c(a){this.$element=a,this.init()}c.prototype.init=function(){this.$select=this.$element.find(".site-header__search-dropdown-select"),this.$label=this.$element.find(".site-header__search-dropdown-label"),this.$select.on("change",this.updateLabel.bind(this))},c.prototype.updateLabel=function(a){var b=this.$select.find("option:selected").text();this.$label.text(b),this.$select.blur()},b(document).ready(function(){var a=b("#site-search");a.length>0&&new c(a)})}(window,jQuery),function(a,b){"use strict";MediaSaturn.SiteSearchAutocomplete=function(){function c(){h("prepare"),da&&(b("#search-phrase").on("click focus",g),j.on("input",d))}function d(a){var c=b.trim(b(a.currentTarget).val());if(b("html").hasClass("ie10")||navigator.userAgent.match(/Trident.*rv[ :]?11\./)){if(""===c)return;if(c===b(a.currentTarget).attr("placeholder"))return void e("")}c.length<2&&e(c)}function e(a){h("show",a)}function f(a){da&&h("save",a)}function g(a){var c=b.trim(b("#search-phrase").val());if("focus"===a.type&&0===c.length)return!1;if(b("html").hasClass("ie10")||navigator.userAgent.match(/Trident.*rv[ :]?11\./)){var d=b("#search-phrase").val(),e=b("#search-phrase").attr("placeholder");d===e&&h("show",void 0)}return!(c.length>1)&&void h("show",void 0)}function h(a,c){function d(){var a,b=g(),d=[],e={columnsClass:"2-columns js-savedsearch",searchHistory:[]};if(b&&(a=JSON.parse(b)),void 0!==a&&null!==a){for(var f=0;f<a.length;f++){var h=a[f].substring(0,1);h.toLowerCase()!==c&&h.toUpperCase()!==c||d.push(a[f]),d=d.splice(0,ba)}return a=a.splice(0,ba),void 0===c||0===c.length?(e.searchHistory=a,p=a,void R(e)):void(0!==d.length&&(e.searchHistory=d,p=d,R(e)))}}function e(){var a,b,d=g();return void 0===d||null===d?(a=JSON.stringify([c]),void f(a)):(b=JSON.parse(d),b.indexOf(c)===-1&&b.unshift(c),b.length>ca&&(b=b.splice(0,ca)),b=JSON.stringify(b),void f(b))}function f(a){try{localStorage.setItem(i,a)}catch(b){return}}function g(){var a;try{a=localStorage.getItem(i)}catch(b){}return a}function h(){var a,c;return a=b("[data-savedsearch-show]").data("savedsearch-show"),c=b("[data-savedsearch-store]").data("savedsearch-store"),void 0===a&&void 0===c?void(da=!1):("number"==typeof a&&(ba=a),void("number"==typeof c&&(ca=c)))}var i="feeSearchHistory";"save"===a?e():"show"===a?d():"prepare"===a&&h()}var i,j,k,l,m,n,o,p,q,r,s=!1,t=2,u="",v="",w="sa-item-highlight",x="sa-item-threshold",y=2,z=-1;q={UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,ESCAPE:27,BACKSPACE:8},r=["id","currentprice","mainCatName","nameWithId","parentCategory","sourceField","categoryPath","deeplink","categoryids","categoryName","collection","fullQuery","modelnumber","ImageUrl","filterFrequency","availabilityindicator","availabilityIndicator"];var A=function(){if(i=b("#site-search"),0===i.length)return!1;j=i.find("#search-phrase"),k=i.find(".search-autocomplete"),l=k.data("imageurl-base"),m=k.data("imageurl-scale"),n=i.data("product-url");try{o=Handlebars.compile(b("#autocomplete-template").html())}catch(a){return!1}B(),C()},B=function(){j.on("keydown",b.throttle(100,D)),j.on("keyup",b.throttle(500,E)),j.on("blur",Z),i.on("submit",X),k.on("click",".sa-item",aa),c()},C=function(){b("#content").hasClass("homepage")&&"matchMedia"in a&&a.matchMedia("(min-device-width: 1024px)").matches&&b(a).on("load.searchBox",function(){b("#search-phrase").focus()})},D=function(a){switch(a.keyCode){case q.UP:T("up",a);break;case q.DOWN:T("down",a);break;case q.LEFT:T("left",a);break;case q.RIGHT:T("right",a);break;case q.ESCAPE:$(a);break;case q.ENTER:_(a)}b(".sa-error-bubble").remove()},E=function(a){var b=a.keyCode;b!==q.UP&&b!==q.DOWN&&b!==q.LEFT&&b!==q.RIGHT&&b!==q.ESCAPE&&b!==q.ENTER&&F()},F=function(){if(u=b.trim(j.val()),u.length<t)return!1;if(v===u)return!1;if(u===j.attr("placeholder"))return!1;v=u;var c=""+i.data("before-autocomplete");"undefined"!=typeof c&&""!==c&&executeFunctionByName(c,a,i),b.ajax({cache:!1,url:i.prop("action"),data:i.serialize(),dataType:"json"}).done(G).error(function(a){console.log("Error while getting results:",a)})},G=function(a){p=a.suggestions,0===p.length?S():R(M(p))},H=function(a){for(var b=r.length,c=0;c<b;c++)if(a.toLowerCase().indexOf(r[c].toLowerCase())!==-1)return!1;return!0},I=function(a){var b,c,d,e=[];if(a=""+a,a.indexOf("|")!==-1){for(b=a.split("|"),d=0;d<b.length;d++)if(c=b[d],""!==c){if(c.indexOf("=")===-1){e.push(c);break}e.push(c.split("=")[1])}}else e.push(a);return 1===e.length?e[0]:e},J=function(a){return"string"==typeof a?a.toLowerCase().replace(/\s/g,"-"):""},K=function(a){var b=u,c=new RegExp("("+b+")","ig");return a.replace(c,'<strong class="sa-item-phrase-highlight">$1</strong>')},L=function(a){var b="",c="",d=null;return d=parseInt(a,10),b=0===d?"0":d<=20?"1":50===d?"2":100===d?"3":"4",c=x+"-"+b},M=function(a){var c={primary:{},secondary:{},secondaryCounter:0};return b.each(p,function(a,b){var d;switch(b.type){case"productName":"undefined"==typeof c.primary.products&&(c.primary.products={label:k.data("products-label"),items:[]}),d=P(b),c.primary.products.items.push(d);break;case"searchTerm":"undefined"==typeof c.secondary.searchTerms&&(c.secondary.searchTerms={label:k.data("terms-label"),items:[]},c.secondaryCounter+=1),d={value:b.name,label:K(b.name),params:b.searchParams,type:"searchTerm"},c.secondary.searchTerms.items.push(d);break;case"category":if("undefined"==typeof c.secondary.categories&&(c.secondary.categories={label:k.data("categories-label"),items:[]},c.secondaryCounter+=1),d={value:b.name,label:K(b.name),params:b.searchParams,type:"category"},b.attributes&&b.attributes.Categories_lvl0){var e=b.attributes.Categories_lvl0.split("");"undefined"!==e[1]&&(d.topLevelCategory=e[1])}c.secondary.categories.items.push(d);break;case"queryInCategory":"undefined"==typeof c.secondary.categoryQueries&&(c.secondary.categoryQueries={label:k.data("category-queries-label"),items:[]},c.secondaryCounter+=1),d={value:b.name,label:K(b.name),categoryName:Q(b.attributes.categoryName),params:b.searchParams,isQueryInCategory:!0,type:"queryInCategory"},c.secondary.categoryQueries.items.push(d);break;case"cms":"undefined"==typeof c.secondary.cms&&(c.secondary.cms={label:k.data("cms-label"),items:[]},c.secondaryCounter+=1),d={value:b.name,label:K(b.name),params:b.searchParams,type:"cms"},c.secondary.cms.items.push(d);break;case"brand":"undefined"==typeof c.primary.brands&&(c.primary.brands={label:k.data("brands-label"),items:[]}),d={id:b.attributes.brandid,image:b.attributes.manufacturerimage,value:b.name,label:b.name,params:b.searchParams,
isBrand:!0,type:"brand"},c.primary.brands.items.push(d)}}),N(c),O(c),c},N=function(a){y="undefined"!=typeof a.primary.products&&a.secondaryCounter>0?2:1,a.columnsClass=y+"-columns"},O=function(a){if("undefined"!=typeof a.primary.brands)try{a.primary.products.items.length>3&&(a.primary.products.items=a.primary.products.items.slice(0,3))}catch(b){console.log("No products found...")}},P=function(a){var c,d,e="",f="#",g={};return"shop"===a.attributes.collection?e=l+a.attributes.modelnumber+m:"wls"===a.attributes.collection&&(e=a.attributes.ImageUrl),f=n.replace("{{modelnumber}}",a.attributes.modelnumber),"undefined"!=typeof a.attributes.currentprice&&(c=a.attributes.currentprice.toString().split("."),d={base:c[0],fraction:c[1]}),b.each(a.attributes,function(b,c){var d=!1;if(H(b)&&(g[b]={value:I(c),attributeCssClass:J(b),valueCssClass:J(I(c))},d="undefined"!=typeof a.attributes.availabilityindicator||"undefined"!=typeof a.attributes.availabilityIndicator,"availabilitytext"===b&&d)){var e=L(a.attributes.availabilityindicator||a.attributes.availabilityIndicator),f=g[b].valueCssClass;g[b].valueCssClass=f+" "+e}}),{type:"product",value:a.name,label:K(a.name),params:a.searchParams,imageSrc:e,link:f,price:d,additionalAttributes:g}},Q=function(a){var b=a.split("");return b[0]},R=function(a){var b=o(a);k.html(b).show(),z=-1,s=!1},S=function(){k.hide()},T=function(a,b){var c=!1;if(k.is(":hidden"))return!1;if("down"===a)z<p.length-1&&z++,c=!0;else if("up"===a)z>0&&z--,c=!0;else if(2===y&&("left"===a||"right"===a)){if(0===k.find(".sa-item-highlight").length)return!1;if(k.find(".js-savedsearch").length>0)return!1;z=U(),c=!0}c&&W()},U=function(){var a,c,d,e,f,g,h=0;return a=k.find(".sa-item"),c=k.find(".sa-item-highlight"),e=c.position(),f=c.parents(".sa-column"),g=b(f.hasClass("sa-primary")?".sa-secondary":".sa-primary"),g.find(".sa-item").each(function(a,c){var f=b(c).position();return f.top<=e.top&&void(d=b(c))}),d.length>0&&(h=a.index(d)),h},V=function(a){j.val(a.data("value"))},W=function(){var a,b=k.find(".sa-item");k.find("."+w).removeClass(w),a=b.eq(z),a.addClass(w)},X=function(c){var d,e;return e=i.data("before-submit"),"undefined"!=typeof e&&""!==e&&executeFunctionByName(e,a,i),d=b.trim(j.val()),d.length<2?s===!0?(f(d),!0):(Y(),!1):void f(d)},Y=function(){var c,d=j.data("error-too-short");c='<div class="sa-error-bubble">'+d+"</div>",b(".sa-error-bubble").remove(),j.after(c),a.setTimeout(function(){b(".sa-error-bubble").remove()},3e3)},Z=function(b){a.setTimeout(function(){k.hide()},350)},$=function(a){k.hide()},_=function(a){var b;z>-1&&(b=k.find("."+w),V(b.find(".sa-item-link")),b.find(".sa-item-link").trigger("click"),a.preventDefault())},aa=function(c){var d,e=b(this);if(c.preventDefault(),e.is(".sa-item")&&(e=e.find(".sa-item-link")),e.parents(".js-savedsearch").length>0)return j.val(e.data("savedsearch-query")),k.hide(),z=-1,void MediaSaturn.eventTrackerGTM.trackEventNow({id:"SUGGEST_AREA",extension:{eventLabel:"searchhistory"}});if(d=e.data("type"),"product"===d)MediaSaturn.eventTrackerGTM.trackEventNow({id:"SUGGEST_AREA",href:e.prop("href"),extension:{eventLabel:d},callbackWhenFailed:function(){a.location.href=e.prop("href")}});else{b(".search-params").val(e.data("params")),j.val(e.data("value")),"category"===d&&(j.val(""),b(".ps-query").val(u),s=!0);var f=i.data("after-autocomplete-select");"undefined"!=typeof f&&""!==f&&executeFunctionByName(f,a,i,e),b("#search-category-select").trigger("change"),MediaSaturn.eventTrackerGTM.trackEventNow({id:"SUGGEST_AREA",$form:i,extension:{eventLabel:d},callbackWhenFailed:function(){i.trigger("submit")}})}},ba=7,ca=50,da=!0;return{_isAllowedAttribute:H,init:A}}(),b(document).ready(function(){MediaSaturn.SiteSearchAutocomplete.init()})}(window,jQuery),function(a,b){"use strict";MediaSaturn.SiteSearch={init:function(){if(this.wrapper=b("#site-search"),0===this.wrapper.length)return!1;if(this.wrapper.hasClass("site-header__search"))return!1;var a;this.select=b("#search-category-select"),a='<div class="options hide"><ul>',b("option",this.select).each(function(c,d){a+='<li><a href="#">'+b(d).text()+"</a></li>"}),a+="</ul></div>",this.searchDropdown=this.wrapper.find(".dropdown"),this.autocomplete=this.wrapper.find(".search-autocomplete"),this.searchInput=this.wrapper.find("#search-phrase"),this.searchLabel=this.wrapper.find(".label"),this.searchButton=this.wrapper.find("[type=submit]"),this.searchDropdown.append(a),this.searchOptions=this.wrapper.find(".options"),this.searchOptionsItems=this.searchOptions.find("a"),this.adjustInputWidth(),b(window).on("resize",b.throttle(250,function(a){MediaSaturn.SiteSearch.adjustInputWidth()})),this.select.change(function(){MediaSaturn.SiteSearch.highlightOption(this.selectedIndex)}),this.searchLabel.on("click.search",b.proxy(this.toggleDisplay,this)),this.searchOptionsItems.on("click.search",b.proxy(this.selectOption,this)),this.select.trigger("change")},hideDropdown:function(){this.searchOptions.addClass("hide"),this.searchDropdown.removeClass("active")},showDropdown:function(){this.searchOptions.removeClass("hide"),this.searchDropdown.addClass("active"),this.searchOptionsItems.add(this.searchLabel).on("mousedown.site-search",function(a){a.stopPropagation()}),b(document).bind("mousedown.site-search",b.proxy(function(){this.searchOptionsItems.off("mousedown.site-search"),this.hideDropdown(),b(document).off("mousedown.site-search")},this))},toggleDisplay:function(a){void 0!==a&&a.preventDefault(),this.searchDropdown.hasClass("active")?this.hideDropdown():this.showDropdown()},highlightOption:function(a){this.wrapper.find(".current").html(this.searchOptionsItems.eq(a).text()),this.adjustInputWidth()},selectOption:function(a){var c;a.preventDefault(),c=this.searchOptionsItems.index(b(a.target)),this.select[0].selectedIndex=c,this.highlightOption(c),this.toggleDisplay()},adjustInputWidth:function(){var a=this.searchDropdown.outerWidth(!0),c=this.searchButton.outerWidth(!0),d=this.searchInput.outerWidth(!0)-this.searchInput.width(),e=this.wrapper.width(),f=e-a-c-d;this.searchInput.css({width:f+"px"}),b(document).trigger("site-search-setup-columns")}},b(document).ready(function(){MediaSaturn.SiteSearch.init()})}(window,jQuery),function(a){"use strict";a.MarketsMap=function(a,b,c,d,e,f,g,h){this.$holder=a,this.marketsList=b,this.onMarketChange=c,this.countryCode=e,f&&(this.detailedMarkersThreshold=f),g&&(this.closestMarketsThreshold=g),d&&(this.onGeocodingError=d),this.currentMarketId=h,this._createMarkers()},a.MarketsMap.prototype={constructor:a.MarketsMap,gmap:void 0,markets:void 0,$holder:void 0,marketsList:void 0,pins:void 0,detailedMarkersThreshold:30,closestMarketsThreshold:5,activeMarket:void 0,distanceOrigin:void 0,initialGBounds:void 0,ginfoWindow:void 0,localizedMarker:void 0,loaded:!1,isDetailedView:!1,onMarketChange:void 0,onGeocodingError:$.noop,infoWindowTemplateId:"market-selector/info-window",countryCode:void 0,searchedZipCode:void 0,currentMarketId:void 0,_init:function(){var a,b=this;a=b.initialGBounds?b.initialGBounds:b._getMarketsGBounds(b.markets),b._drawMap(a),b._drawMarkers(),b.ginfoWindow=new google.maps.InfoWindow,b._attachEvents(),b.activeMarket&&b._getInfoWindowContent().then(function(a){b.ginfoWindow.setContent(a),setTimeout(function(){b.ginfoWindow.open(b.gmap,b.activeMarket.__gmarker)},1e3)}),b.localizedMarker&&b.localizedMarker.setMap(b.gmap),b.loaded=!0},_retrievePins:function(){var a;a={base:{url:null,size:new google.maps.Size(41,55),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(21,55)},baseLevel1:{url:null,size:new google.maps.Size(41,60),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(21,60)},baseLevel2:{url:null,size:new google.maps.Size(41,60),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(21,60)},baseLevel3:{url:null,size:new google.maps.Size(41,60),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(21,60)},baseLevel4:{url:null,size:new google.maps.Size(41,60),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(21,60)},active:{url:null,size:new google.maps.Size(49,70),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(25,70)},localized:{url:null,size:new google.maps.Size(27,35),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(14,35)}},$("#marketsel-gm-pins").children().each(function(b,c){var d=$(c).data("pin-name"),e=$(this).css("background-image").replace("url(","").replace(")","");if("none"!==e)switch(e=e.replace(/"/gi,""),d){case"base":a.base.url=e;break;case"base-level-1":a.baseLevel1.url=e;break;case"base-level-2":a.baseLevel2.url=e;break;case"base-level-3":a.baseLevel3.url=e;break;case"base-level-4":a.baseLevel4.url=e;break;case"active":a.active.url=e;break;case"localized":a.localized.url=e}}),this.pins=a},_createMarkers:function(){var a,b,c={},d=this.marketsList;this.markets=[],a=this.markets,this._retrievePins(),b=this.pins,$.each(d.availabilities,function(a,b){var d={availabilityLevel:b.level,availabilityMessage:b.message};c[b.id]=d}),$.each(d.markets,function(d,e){var f,g,h;f=$.extend(e,c[e.id]),g=new google.maps.LatLng(e.lat,e.lng),h=b.base,f.__gmarker=new google.maps.Marker({position:g,title:f.name+" - "+f.availabilityMessage,icon:h}),a.push(f)})},_drawMap:function(a){var b,c=this.$holder,d=this.activeMarket;b={zoom:5,streetViewControl:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM,style:google.maps.ZoomControlStyle.LARGE},mapTypeControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},panControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM},center:a.getCenter()},this.gmap=new google.maps.Map(c.get(0),b),this.gmap.fitBounds(a),d&&this.gmap.setCenter(d.__gmarker.getPosition())},_attachEvents:function(){function a(){var a;a=j._getMarketsInGBounds(e.getBounds()),a.length<=f?j.isDetailedView===!1&&(j._showDetailedMarkers(),j.isDetailedView=!0):j.isDetailedView===!0&&(j._showBaseMarkers(),j.isDetailedView=!1)}function b(a){var b=j.activeMarket;b&&(j.isDetailedView?b.__gmarker.setIcon(h["baseLevel"+b.availabilityLevel]):b.__gmarker.setIcon(h.base)),a.__gmarker.setIcon(h.active),j.activeMarket=a,j._getInfoWindowContent().then(function(b){i.setContent(b),i.open(e,a.__gmarker)})}function c(){j._clearActiveMarket()}var d=this.$holder,e=this.gmap,f=this.detailedMarkersThreshold,g=this.marketsList.markets,h=this.pins,i=this.ginfoWindow,j=this,k=this.onMarketChange;google.maps.event.addListener(e,"bounds_changed",a),$.each(g,function(a,c){google.maps.event.addListener(c.__gmarker,"click",function(){b(c)})}),google.maps.event.addListener(i,"closeclick",c),d.on("click",".js-select-market",function(){k(j.activeMarket.id,j.searchedZipCode)}),google.maps.event.addDomListener(window,"resize",function(){var a=e.getCenter();google.maps.event.trigger(e,"resize"),e.setCenter(a)})},_getMarketsGBounds:function(a){var b=new google.maps.LatLngBounds;return $.each(a,function(a,c){b.extend(c.__gmarker.getPosition())}),b},_getMarketsInGBounds:function(a){var b=[],c=this.markets;return $.each(c,function(c,d){a.contains(d.__gmarker.getPosition())&&b.push(d)}),b},_drawMarkers:function(){var a=this.markets,b=this.gmap;$.each(a,function(a,c){c.__gmarker.setMap(b)})},_showDetailedMarkers:function(){var a=this.markets,b=this.pins;$.each(a,function(a,c){c.__gmarker.setIcon(b["baseLevel"+c.availabilityLevel])}),this._showActiveMarker()},_showBaseMarkers:function(){var a=this.markets,b=this.pins;$.each(a,function(a,c){c.__gmarker.setIcon(b.base)}),this._showActiveMarker()},_showActiveMarker:function(){var a=this.activeMarket,b=this.pins;a&&a.__gmarker.setIcon(b.active)},_getClosestMarkets:function(a){var b,c=this.activeMarket,d=this.marketsList.markets,e=this.closestMarketsThreshold,f=this,g=[],h=[];b=a?a:c.__gmarker.getPosition(),$.each(d,function(a,c){var d,e=c.__gmarker.getPosition();d=f._getDistanceBetween(e,b),g.push({market:c,distance:d})}),g.sort(function(a,b){return a.distance-b.distance});for(var i=0;i<e&&i<g.length;i++)h.push(g[i].market);return h},_getInfoWindowContent:function(){var b,c,d=this.activeMarket,e=this.currentMarketId,f=this.infoWindowTemplateId,g=$.Deferred();return b=$.extend({},d),this.distanceOrigin&&(b.distance=this._getDistanceBetween(d.__gmarker.getPosition(),this.distanceOrigin)),e&&e.toString()===d.id.toString()&&(b.currentMarket=!0),c=$(b.availabilityMessage),c.length&&c.first().is("li")&&(c=c.wrap("<ul></ul>").parent().wrap("<div></div>").parent(),b.availabilityMessage=c.html()),a.TemplateLoader.load(f).then(function(a){var c=a(b);g.resolve(c)}),g},_clearActiveMarket:function(){var a=this.activeMarket,b=this.pins;void 0!==a&&null!==a&&(this.loaded&&(this.isDetailedView?a.__gmarker.setIcon(b["baseLevel"+a.availabilityLevel]):a.__gmarker.setIcon(b.base)),this.activeMarket=void 0)},_setLocalizedMarker:function(a){var b=this.pins.localized,c=this.gmap;this.localizedMarker?this.localizedMarker.setPosition(a):(this.localizedMarker=new google.maps.Marker({position:a,icon:b}),this.loaded&&this.localizedMarker.setMap(c))},_geocode:function(a){function b(a,b){var c,d;b===google.maps.GeocoderStatus.OK?(c=a[0].geometry.location,d=a[0].geometry.viewport,e.resolve(c,d)):g(b)}var c,d=this.countryCode,e=$.Deferred(),f=new google.maps.Geocoder,g=this.onGeocodingError;return c={address:a,componentRestrictions:{country:d}},f.geocode(c,b),e},_geocodeReverse:function(a){function b(a,b){b===google.maps.GeocoderStatus.OK?$.each(a,function(a,b){var c=!1;if($.each(b.address_components,function(a,b){if($.inArray("postal_code",b.types)>=0)return d.resolve(b.long_name),c=!0,!1}),c)return!1}):f(b)}var c,d=$.Deferred(),e=new google.maps.Geocoder,f=this.onGeocodingError;return c={latLng:a},e.geocode(c,b),d},_getDistanceBetween:function(a,b){var c;return c=google.maps.geometry.spherical.computeDistanceBetween(a,b),c=Math.round(Math.round(c)/100)/10},_setDistanceOrigin:function(a){this.distanceOrigin=a},load:function(){this._init()},isLoaded:function(){return this.loaded},setActiveMarketById:function(a){var b,c,d=this.markets;for(c=0;c<d.length;c++)a.toString()===d[c].id.toString()&&(b=d[c].__gmarker.getPosition());return this.setActiveMarket(b,!0)},getActiveMarket:function(a,b){var c,d=$.Deferred();return this.setActiveMarket(a).then(function(a){a&&(c=a.id),d.resolve(c)}),d},setActiveMarket:function(a,b){function c(a,c){a?(d=g._getClosestMarkets(a),b!==!0&&g._setLocalizedMarker(a)):d=g.markets,g._setDistanceOrigin(a),c?$.each(d,function(a,b){c.extend(b.__gmarker.getPosition())}):c=g._getMarketsGBounds(d),g.loaded?(f.fitBounds(c),g._clearActiveMarket(),i&&i.close()):g.initialGBounds=c,a&&(g.activeMarket=e=d[0],g.loaded&&g._getInfoWindowContent().then(function(a){i.setContent(a),i.open(f,e.__gmarker)})),h.resolve(g.activeMarket)}var d,e,f=this.gmap,g=this,h=$.Deferred(),i=this.ginfoWindow;return a&&"string"==typeof a?this._geocode(a).then(function(a,b){c(a,b),g._geocodeReverse(a).then(function(a){g.searchedZipCode=a})}):(c(a),g.searchedZipCode=void 0),h}}}(MediaSaturn),function(a,b){"use strict";MediaSaturn.AddToBasketWidget={_elements:{},init:function(){this._elements.basket=b("#header .cart .basket"),this._elements.cart=b("#header .cart"),this._elements.basketInfo=b("#header .cart .articles"),b(".pdp-quantity-select").on("change",this.propagateChangesToSelects),b(document).on("click",".add-to-cart:not(.disable-event), .market-buy .button",this.addToBasketClickHandler),b(document).on("click","#basket-flyout .guarantee-add-next, #basket-flyout .guarantee-add-back",this.warrantyAddAction),b(document).on("click","#guarantee-form-in-layer input[type=checkbox]",this.warrantyOnCheckboxClick),b(document).on("click","#basket-layer-cart",this.preventDoubleClick),b(document).on("fee_add_to_basket_layer",this.addToBasketEventHandler)},propagateChangesToSelects:function(a){var c=b(this);b(".pdp-quantity-select").val(c.val())},addToBasketClickHandler:function(a){var c,d,e,f,g,h=b(this),i="?";return!h.hasClass("is-active")&&(h.addClass("is-active"),window.setTimeout(function(){h.removeClass("is-active")},3e3),c=h.attr("data-href"),"undefined"==typeof c||(a.preventDefault(),d=b(".pdp-quantity-select"),d.length>0&&(e=d.prop("name"),f=d.val(),c.indexOf("?")!==-1&&(i="&"),c=c+i+e+"="+f),g=h.data("gtm-bundle-event-label"),void 0!==g&&MediaSaturn.eventTrackerGTM.trackEventNow({id:"ADD_BUNDLE_TO_CART",context:{label:g}}),void MediaSaturn.AddToBasketWidget.addToBasket(c)))},addToBasketEventHandler:function(a,b){var c;return void 0!==typeof b&&(c=b.basketUrl,void MediaSaturn.AddToBasketWidget.addToBasket(c))},addToBasket:function(a){var c;b("#colorbox").length>0&&(c=b(b("#colorbox .layer-content").length>0?"#colorbox .layer-content":"#colorbox .modal-content"),c.length>0&&c.append('<div class="layer-loading layer-to-layer" />')),b.ajax({cache:!1,url:a,data:{currentUrl:window.location.href},dataType:"jsonp"}).done(MediaSaturn.AddToBasketWidget.ajaxOnSuccess).fail(MediaSaturn.AddToBasketWidget.ajaxOnFail)},ajaxOnSuccess:function(a){b(document).trigger("fee.cart_reload"),b(".nav-flyout--cart").trigger("flyout-reload"),b(document).trigger("fee_product_cart_add",[a.eventParams]),"undefined"!=typeof a.success&&a.success===!0&&b(document).trigger("fee_product_cart_add_success",[a.eventParams]),b.colorbox({overlayClose:!1,escKey:!1,html:a.content,onComplete:MediaSaturn.AddToBasketWidget.modalOnComplete,onClosed:MediaSaturn.AddToBasketWidget.modalOnClose})},modalOnClose:function(){var a=function(){Modernizr.touchevents?MediaSaturn.AddToBasketWidget._elements.cart.trigger("hoverin.fee_cart_flyout"):MediaSaturn.AddToBasketWidget._elements.cart.trigger("mouseenter.fee_cart_flyout")};window.setTimeout(a,2500)},modalOnComplete:function(){var a,c;b(document).trigger("fee.fgrid_refresh"),b.colorbox.resize(),c=b("#continue-shopping"),MediaSaturn.hasEmptyHref(c)&&c.on("click",function(a){a.preventDefault(),b.colorbox.close()}),b("html").hasClass("ie8")&&(b("#basket-flyout .products-grid li:last-child").css("padding-right","0"),b(".crosssells li:last-child").addClass("last-child")),b("#colorbox .product-container").productContainer(),b(".modal-content .price").priceImageReplacement(),b(".modal-content [data-simple-tooltip]").simpleTooltip(),b("#extraguarantee .tooltip").tooltips({contentAfter:!0}),b("#basket-flyout > .contentspot .fg-container").length>0&&(b("#basket-flyout > .contentspot .fg-container img").length>0?b("#basket-flyout > .contentspot .fg-container img").on("load",b.debounce(100,function(){b(".fg-container").not(".nochange").respoFlexGrid("recalculate"),b.colorbox.resize()})):(b("#basket-flyout > .contentspot .fg-container").not(".nochange").respoFlexGrid("recalculate"),b.colorbox.resize())),a=b("#colorbox .premiumopts"),a.length&&new MediaSaturn.Product.GuaranteePlus(a),window.setTimeout(function(){b.colorbox.resize()},300)},ajaxOnFail:function(a){b.colorbox({overlayClose:!1,escKey:!1,html:a.content,onComplete:function(){var a=b("#continue-shopping");MediaSaturn.hasEmptyHref(a)&&a.on("click",function(a){a.preventDefault(),b.colorbox.close()})}})},warrantyAddAction:function(a){var c=b("#guarantee-form-in-layer"),d=c.attr("action"),e=c.serialize(),f=b(this).hasClass("guarantee-add-back"),g=b(this).attr("href"),h=b(this);if(a.preventDefault(),c.find("[type=checkbox]:checked").length){if(b(document).trigger("guarantee-add-in-basket-layer",[c.find("[type=checkbox]:checked")]),h.hasClass("is-active"))return!1;h.addClass("is-active"),b.ajax({type:"post",url:d,data:e,cache:!1}).always(function(a){var c=function(){MediaSaturn.hasEmptyHref(h)?b.colorbox.close():window.location=g};h.removeClass("is-active"),f?b(".nav-flyout--cart").length>0||b("#rise-header").length>0?(b(".nav-flyout--cart").trigger("flyout-reload"),c()):b(document).trigger("fee.cart_reload",{afterCallback:c}):window.location=g})}else f&&MediaSaturn.hasEmptyHref(h)?b.colorbox.close():window.location=g},warrantyOnCheckboxClick:function(a){var c=b("#guarantee-form-in-layer input[type=checkbox]");c.is(":checked")?MediaSaturn.eventTracker.fire("add-guarantee"):MediaSaturn.eventTracker.fire("remove-guarantee")},preventDoubleClick:function(a){if(b(this).preventDoubleClick())return!1}},b(document).ready(function(){MediaSaturn.AddToBasketWidget.init()})}(window,jQuery),function(a,b){"use strict";MediaSaturn.AdvertisingContentspots={_selector:".acs-container",_element:null,init:function(){return this._element=b(this._selector),0!==this._element.length&&(this._element.find(".acs-sticky").length>0&&this.enableSticky(),this.calculateSideElements(),void b(window).on("resize",b.throttle(250,b.proxy(this.calculateSideElements,this))))},enableSticky:function(){var a=this;this._element.waypoint(function(b){if("down"===b){var c=a._element.find(".acs-top").outerHeight();a._element.addClass("acs-state-sticky"),a._element.css("min-height",c)}else a._element.removeClass("acs-state-sticky")},{offset:-12})},calculateSideElements:function(){var a=this._element.find(".container");if(a.length>0){var c=a.outerWidth(),d=b(window).width(),e=(d-c)/2,f=this._element.find(".acs-left"),g=this._element.find(".acs-right");g.length>0&&g.width(e),f.length>0&&f.width(e).scrollLeft(f.get(0).scrollWidth)}}},b(document).ready(function(){MediaSaturn.AdvertisingContentspots.init()})}(window,jQuery),function(a,b){"use strict";MediaSaturn.basketReactivateLayer={settings:{width:742,height:420},init:function(){b(document).on("fee_basket_reactivate_layer",b.proxy(this.loadBasketLayer,this))},loadBasketLayer:function(a,c){var d;return void 0!==typeof c&&(d=c.layerUrl,void b.ajax({method:"GET",url:d}).done(b.proxy(this.showLayerModal,this)).fail(b.proxy(this.onLoadError,this)))},showLayerModal:function(a){if("undefined"==typeof a)return!1;var c=a;b.colorbox({html:c,transition:"none",overlayClose:!0,escKey:!0,reposition:!0,initialWidth:this.settings.width,initialHeight:this.settings.height,onComplete:function(){b(document).trigger("fee.fgrid_refresh"),b("#colorbox .product-container").productContainer(),b.colorbox.resize()}})},onLoadError:function(a){console.log("Error loading reactivate basket layer:",a)}},a(document).ready(function(){MediaSaturn.basketReactivateLayer.init()})}(jQuery,jQuery),function(a,b){"use strict";MediaSaturn.BlogPagination={init:function(){MediaSaturn.BlogPagination.loadBlogContent()},loadBlogContent:function(){b(".blog-section__article .pagination-wrapper a").click(function(a){var c=b(this).attr("href");b.ajax({type:"GET",url:c,success:function(a){b(".blog-section.blog-section__article").replaceWith(a),b(document).trigger("fee.fgrid_refresh"),MediaSaturn.BlogPagination.loadBlogContent()}}),a.preventDefault()})}},b(document).ready(function(){MediaSaturn.BlogPagination.init()})}(window,jQuery),function(a){function b(){a(".financing-open").on("click",function(b){b.preventDefault();var e=c(b);e||(e=d(b)),a.colorbox({href:a(this).data("href"),className:"financing-layer",iframe:!0,width:"620px",height:"232px",top:e})})}function c(b){var c=a(b.target).parents(".product-wrapper");return c.length?c[0].getBoundingClientRect().top+25:void 0}function d(a){return a.target.getBoundingClientRect().bottom+10}function e(b,c,d){function e(a){b.find(".calculator-error").text(a).show(),b.find(".calculator-container, .calculator").hide()}function f(c){var d=b.find("#slider"),e=b.find("#slider .slider-line"),f=b.find(".slider-handle"),g=b.find("#value-curr"),i=c[0],j=c[c.length-1];d.slider({classes:{"ui-slider":"slider","ui-slider-handle":"slider-handle"},min:i,max:j,stepValues:c,value:j,slide:function(b,c){var i=a(this).slider("option","stepValues"),j=0,k=a(this).slider("option","max"),l=0;return e.css("width",f.css("left")),g.val(d.slider("value")),a.each(i,function(a,b){j=Math.abs(c.value-b),j<k&&(k=j,l=a)}),a(this).slider("value",i[l]),g.val(d.slider("value")),h(i[l]),!1},stop:function(a,b){e.css("width",f.css("left")),g.val(d.slider("value"))}}),b.find(".slider-labels .slider-label-min").text(i),b.find(".slider-labels .slider-label-max").text(j)}function g(a){for(var c=a[0],d=a[a.length-1],e=d-c,f=b.find(".milestones"),g=1;g<a.length-1;g++){var h=a[g]-c;f.append('<li class="milestone" style="left:'+h/e*100+'%"></li>')}}function h(a){var c=m.indexOf(a);b.find("#installment-rate").text(o[c]),b.find("#interest-rate").text(p[c]),s&&b.find(".handling-fee-value").text(s[c])}function i(a,c){b.find(".calculator-container .legal-text").attr("data-layer",a),b.find(".calculator-container .marketing-description").attr("data-layer",c)}function j(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"")}function k(a){return a.toString().replace(/(\.\d)$/g,"$10").replace(/^(\d+)$/g,"$1.00")}var l="calculator-content";if(d=d||{},!c||!c.durations||c.durations.length<=0)return e(d.unavailableErrorText||"Offer not available"),void a(document).trigger("cetelem-error",d.unavailableErrorText);b.data(l)?b.html(b.data(l)):b.data(l,b.html());var m=c.durations,n=c.totalPrice,o=c.installmentRates,p=c.interestRates,q=c.legalText,r=c.marketingDescription,s=c.handlingFee;o=o.map(j),s=s.map(k),n=j(n),f(m),g(m),i(q,r),b.find("#total-price").text(n),b.find("#installment-rate").text(o[m.length-1]),b.find("#interest-rate").text(p[m.length-1]),s&&b.find(".handling-fee-value").text(s[m.length-1]),b.find("#calculator-container").text("").append(b.find(".payment-form .calculator")),b.find(".payment-form .calculator").show(),b.find("#value-curr").val(b.find("#slider").slider("value")),a(document).trigger("cetelem-loaded",{lowestInstallment:o[o.length-1]})}b(),a(document).on("fee_ajax_page_load",b),a(document).on("cetelem-calculator",function(b,c){a.getJSON(c.data.url,{price:c.data.price}).then(function(a){e(c.element,a,c.data)})})}(jQuery),function(a,b){"use strict";function c(a,c,d){this.$elements=a,this.settings=b.extend({},e,c),this.selector=d,this.init()}var d="cliplisterLink",e={onPrecheckComplete:null};b.extend(c.prototype,{$elements:null,precheckBaseUrl:null,eanParams:null,selector:null,init:function(){this.precheckBaseUrl=b("meta[property=cliplister-precheck-url]").attr("content"),this.precheckBaseUrl&&this.doPrecheck().then(b.proxy(this.precheckComplete,this))},constructURL:function(){var a,c=this.precheckBaseUrl,d=location.protocol?location.protocol:"https:",e="&mode=multi",f=this.$elements,g=[],h=[],i="";return f.each(function(){var a=b(this).data("ean-enc");g.push(a)}),b.each(g,function(a,c){b.inArray(c,h)===-1&&h.push(c)}),b.each(h,function(a,b){i+="&ean="+b}),a=d+c+e+i},doPrecheck:function(){var a=b.Deferred(),c=this.constructURL();return b.ajax({crossDomain:!0,url:c,contentType:"text/plain",success:function(c){c=b.parseJSON(c),a.resolve(c)}}),a},precheckComplete:function(a){var b=this.$elements,c=this.selector,d=this.settings;d.onPrecheckComplete&&d.onPrecheckComplete(b,a,c)}}),b.fn[d]=function(a){return this.length&&new c(this,a,this.selector),this}}(MediaSaturn,jQuery),function(a){a.CliplisterGalleryThumbs={$fullscreenLink:null,cliplisterDataFromJSON:function(a){return a[0]},cleanup:function(){$(".js-cliplister-thumbnails").remove()},createThumbnails:function(b,c){var d=1,e=b.first().closest(".thumbs, .thumbnail-carousel__list"),f=this.cliplisterDataFromJSON(c),g=b.first().find(".cliplister-thumbnail--template").html();a.CliplisterPlayer.appendThumbnails(e,d,g,f,function(a){a.data("cliplisterItem",f)})},setUpFullscreenLink:function(a,b){var c=this.cliplisterDataFromJSON(b),d=a.closest("#product-sidebar").find(".js-fullscreen-link");d.data("cliplisterItem",c),this.$fullscreenLink=d},setUpAgeRating:function(b){var c=$("#product-wrapper"),d=this.$fullscreenLink,e=".thumbs .cliplister-video, .thumbnail-carousel__thumbnail--cliplister";a.agerating.conditionalHide(c,e,function(a){var b;a.is(".thumbnail-carousel__thumbnail--cliplister")&&(b=a.first().closest(".thumbnail-carousel").data("thumbnailCarousel")),a.remove(),b&&setTimeout(function(){b.refresh()},1),d.data("ageratingHideVideo",!0)})},onPrecheckComplete:function(a,b,c){this.createThumbnails(a,b),this.setUpFullscreenLink(a,b),this.setUpAgeRating(a,c),this.cleanup()}}}(MediaSaturn),function(a){a.CliplisterGalleryLinks={onPrecheckComplete:function(b,c,d){var e;$.each(c,function(a,c){0!==c.videos.length&&b.filter("[data-ean="+c.ean+"]").removeClass("hide").data("cliplisterItem",c)}),e=b.map(function(){return $(this).closest(".product-wrapper").get(0)}),a.agerating.conditionalHide(e,d),b.addClass("initialized")}}}(MediaSaturn),function(a,b){a.CliplisterPlayer={currentVideoId:null,appendThumbnails:function(a,c,d,e,f){var g=e.videos,h=Handlebars.compile(d);b.each(g,function(d,e){var g,i,j,k={};b.each(e.links,function(a,b){"icon"===b.name&&(j=b.location)}),k.imgSrc=j,k.altText=e.title,k.index=d,i=h(k),g=b(i).data("cliplisterVideoData",e),0===c?a.append(g):a.children().eq(c+d-1).after(g),f&&f(g)})},initPlayer:function(a,c,d){var e,f=b("#"+d),g=f.data("custid"),h=f.data("lang");h=h&&h.length>0?h.split(","):["#"],e={parentId:d,customer:g,assetKeys:[a],keyType:0,fsk:18,languages:h,autoplay:!0,initialAsset:c.id,stage:{width:f.width(),height:f.height()},plugins:{PreviewImage:{layer:4},PlayButton:{id:"playButton",layer:5,image:"https://mycliplister.com/static/viewer/assets/skins/default/playButton.png",width:100,height:100},InnerControls:{layer:2,mobileDefaultControls:!0,id:"controls",blacklist:["share","quality","playback-speed"],template:{type:"external",source:"https://cdn6.mycliplister.com/media06/static/msh/controls.html"}}}};try{window.cliplisterViewer=new window.Cliplister.Viewer(e)}catch(i){console.error("Failed to create Cliplister Viewer instance. Error: ",i)}},play:function(a,b){var c=document.getElementById(b).api;c.playAsset(a.id)},stop:function(a){var b=document.getElementById(a).api;b.stop()},isPlaying:function(a){var b=document.getElementById(a).api;return b&&b.isPlaying()},isInitialized:function(a){var b=document.getElementById(a).api;return!!b},destroyStage:function(){window.cliplisterViewer.destroyStage()}}}(MediaSaturn,jQuery),$(document).ready(function(){$(".js-media-cliplister:not(.initialized)").cliplisterLink({onPrecheckComplete:$.proxy(MediaSaturn.CliplisterGalleryLinks.onPrecheckComplete,MediaSaturn.CliplisterGalleryLinks)}),$(".js-cliplister-thumbnails").cliplisterLink({onPrecheckComplete:$.proxy(MediaSaturn.CliplisterGalleryThumbs.onPrecheckComplete,MediaSaturn.CliplisterGalleryThumbs)}),$(document).on("fee_ajax_page_refresh",function(){$(".js-media-cliplister:not(.initialized)").cliplisterLink({onPrecheckComplete:$.proxy(MediaSaturn.CliplisterGalleryLinks.onPrecheckComplete,MediaSaturn.CliplisterGalleryLinks)})})}),function(a,b){"use strict";function c(){if(0!==a("#cookie-info-layer").length){var b=a("#cookie-info-layer").data("cookie-info-position");"center"===b&&(z.bottom=!1,z.innerWidth="75%",z.opacity=.5),a.colorbox(z),g(),e(),k(),u()}}function d(){a("#cookie-info-layer").colorbox.resize({innerWidth:z.innerWidth})}function e(){a(document).on("resize",a.debounce(100,d))}function f(){a(document).off("resize",d)}function g(){a("#cookie-info-layer .js-cookie-info-settings-button").on("click",o),a("#cookie-info-layer .js-cookie-info-accept-button").on("click",h),a("#cookie-info-layer .js-cookie-info-cancel-button").on("click",j),a("#cookie-info-layer .js-cookie-info-save-button").on("click",i),a("#cookie-info-layer [name=js-cookie-info-settings-level]").on("change",k)}function h(){return w({acceptedFrom:"part1",value:"marketing"}),v(),!1}function i(){var a;return a=l()?"marketing":m()?"statistical":"functional",w({acceptedFrom:"part2",value:a}),v(),!1}function j(){return a("#cookie-info-layer .js-cookie-info-settings-layer").hide(),a("#cookie-info-layer .js-cookie-info-first-layer").show(),a.colorbox.resize(),!1}function k(){var b=l(),c=m(),d=n();b?(c=!0,d=!0):c&&(d=!0),p(c,".js-cookie-info-statistics-option"),p(b,".js-cookie-info-marketing-option"),q(b,c,d),a.colorbox.resize()}function l(){return a("#cookie-info-layer .js-cookie-info-input-marketing").is(":checked")}function m(){return a("#cookie-info-layer .js-cookie-info-input-statistics").is(":checked")}function n(){return a("#cookie-info-layer .js-cookie-info-input-functional").is(":checked");
}function o(){return a("#cookie-info-layer .js-cookie-info-first-layer").hide(),a("#cookie-info-layer .js-cookie-info-settings-layer").show(),a.colorbox.resize(),!1}function p(b,c){var d,e=a("#cookie-info-layer "+c);d=a(b?"#cookie-info-layer .js-cookie-info-allowed-list":"#cookie-info-layer .js-cookie-info-notallowed-list"),e.appendTo(d)}function q(b,c,d){a("#cookie-info-layer .js-cookie-info-settings-layer").toggleClass("cookie-info-marketing-allowed",b).toggleClass("cookie-info-statistics-allowed",c).toggleClass("cookie-info-functional-allowed",d)}function r(){a(document).off("cbox_load",t),a(document).on("cbox_closed",s)}function s(){a(document).off("cbox_closed",s),a.colorbox(z),e(),u()}function t(){f(),setTimeout(r,1e3)}function u(){a(document).on("cbox_load",t)}function v(){a(document).off("cbox_load",t),f(),a("#cboxOverlay").show(),a.colorbox.close()}function w(b){a(document).trigger("fee_cookie_info_accept",b)}function x(){void 0!==getObjectByName("mcs")&&void 0!==getObjectByName("mcs").cookieLaw&&void 0!==getObjectByName("mcs").cookieLaw.cookieLawLayer&&y(getObjectByName("mcs").cookieLaw.cookieLawLayer())}function y(b){b&&(a("body").append(b),c())}var z={};z.inline=!0,z.href="#cookie-info-layer",z.fixed=!0,z.bottom=0,z.innerWidth="100%",z.opacity=0,z.trapFocus=!1,z.overlayClose=!1,z.escKey=!1,z.arrowKey=!1,z.closeButton=!1,z.reposition=!1,z.className="cookie-info-modal",z.onLoad=function(){a("#cboxOverlay").hide()},a(document).ready(function(){x()}),a(document).on("fee_load_marketing",function(){MediaSaturn.eventTracker.init()})}(jQuery,jQuery),function(a){"use strict";MediaSaturn.DeliveryTable=function(a){this.$element=a.$element,this.marketsListUrl=a.marketsListUrl,this.onSelectMarket=a.onSelectMarket,this.onMapToggleProgress=a.onMapToggleProgress,this.onMapToggle=a.onMapToggle,this.mapOpen=a.mapOpen,this._init()},MediaSaturn.DeliveryTable.prototype={$element:void 0,marketsListUrl:void 0,$mapWrapper:void 0,$mapHolder:void 0,mapWrapperHeight:void 0,onSelectMarket:void 0,onMapToggleProgress:void 0,onMapToggle:void 0,currentMarketId:void 0,settings:void 0,isVisible:!1,mapOpen:!1,_init:function(){var a=this.$element;this.$mapWrapper=a.find(".js-map-wrapper"),this.$mapHolder=a.find(".js-map"),this.currentMarketId=a.data("current-market-id"),this.mapWrapperHeight=this.$mapHolder.height(),this.settings=MediaSaturn.marketSelectorSettings,a.data("map-open")===!0&&(this.mapOpen=!0),this._attachHandlers(),this.mapOpen&&this._openMap(this.currentMarketId,!0)},_attachHandlers:function(){function a(a){var b=$(a.currentTarget),c=b.data("market-id");d._openMap(c),a.preventDefault()}function b(a){a.preventDefault(),d._hideMap()}var c=this.$element,d=this;c.find(".js-show-on-map").on("click",a),c.find(".js-close-map").on("click",b)},_openMap:function(a,b){var c=this;this._loadMap().then(function(d){c.isVisible||c._showMap(b),d.isLoaded()?d.setActiveMarketById(a):d.setActiveMarketById(a).then(function(){d.load()})})},_loadMap:function(){var b,c,d=$.Deferred(),e=(this.$element,this.marketsListUrl),f=this.$mapHolder,g=this.onSelectMarket,h=this.settings.countryCode,i=this.settings.detailedMarkersThreshold,j=this.settings.closestMarketsThreshold,k=this.currentMarketId,l=this,m=$.noop;return this.marketsMap?d.resolve(this.marketsMap):(b=$.Deferred(),$.getJSON(e).done(function(a){b.resolve(a)}),c=MediaSaturn.GoogleMapsLoader.getInstance().load(),$.when(b,c).done(function(b){l.marketsMap=new a(f,b,g,m,h,i,j,k),d.resolve(l.marketsMap)})),d},_showMap:function(a){var b=this.$element,c=this.$mapWrapper,d=this.mapWrapperHeight,e=this.onMapToggle,f=this.onMapToggleProgress,g=400,h=this;a&&(g=0),b.find(".deliverytbl-section-map").addClass("state-visible"),c.animate({height:d},{duration:g,progress:function(){f&&f()},complete:function(){var c=b.find(".deliverytbl-section-map"),d=$(window).height(),f=c.height(),g=30,i=0;d>f&&(i=-(d-f-g)),h.isVisible=!0,e&&e(),a!==!0&&b.outerHeight()>d&&$(document).scrollTo(c,"slow",{offset:i})}})},_hideMap:function(){var a=this.$element,b=this.$mapWrapper,c=this.onMapToggle,d=this.onMapToggleProgress,e=this;b.animate({height:0},{progress:function(){d&&d()},complete:function(){e.isVisible=!1,a.find(".deliverytbl-section-map").removeClass("state-visible"),c&&c()}})}},MediaSaturn.DeliveryTableLayer={open:function(a){function b(a,b){$.colorbox({href:a,className:"deliverytbl-layer",onComplete:function(){c(!1),$(window).on("resize.deliverytbl",function(){var a=$("#colorbox").find(".js-deliverytbl-layer-content").outerWidth();$.colorbox.resize({width:a})}),g(o)},onClosed:function(){$(window).off("resize.deliverytbl")}})}function c(a){var b=$("#colorbox").find(".deliverytbl");new MediaSaturn.DeliveryTable({$element:b,marketsListUrl:m,onSelectMarket:d,onMapToggleProgress:e,onMapToggle:f,mapOpen:a})}function d(a){var b=$("#cboxLoadedContent"),d=k.indexOf("?")===-1?"?":"&",e=k+d+l+"="+a;$.colorbox.customPreventReposition(!0),b.load(e,function(){c(!0),setTimeout(function(){$.colorbox.customPreventReposition(!1)},1e3)}),g(a)}function e(){$.colorbox.resize()}function f(){}function g(a){var b=!1;$(document).off("infolayer_loading.deliverytbl"),$(document).one("infolayer_loading.deliverytbl",function(){b=!0}),$(document).off("infolayer_loaded.deliverytbl"),$(document).one("infolayer_loaded.deliverytbl",function(){b=!1}),$(document).off("cbox_cleanup.deliverytbl"),$(document).on("cbox_cleanup.deliverytbl",function(){b||($(document).off("cbox_cleanup.deliverytbl"),void 0!==a&&"undefined"!=typeof n&&""!==n&&executeFunctionByName(n,window,a))})}var h,i,j=a.$link,k=j.data("href"),l=j.data("param-market-change"),m=j.data("markets-list"),n=j.data("callback-on-close"),o=a.marketId;"undefined"!=typeof o?(h=k.indexOf("?")===-1?"?":"&",i=k+h+l+"="+o,b(i,!1)):b(k,!1)}}}(MediaSaturn.MarketsMap),$(document).ready(function(){$(document).on("click",".deliverytbl-open",function(a){var b=$(this);a.preventDefault(),MediaSaturn.DeliveryTableLayer.open({$link:b})})}),function(a,b){"use strict";MediaSaturn.eid={init:function(){b("#register-form-eid a").on("click",function(a){var c=b(this).attr("data-connect-url");a.preventDefault();var d='<div class="eid-iframe"><div id="loading"><div class="spinner"></div></div></div>';b.colorbox({transition:"fade",html:d,initialWidth:708,initialHeight:400}),b.ajax({url:c,type:"POST",dataType:"json"}).success(function(a){window.addEventListener("message",function(b){"eIdFinished"===b.data&&(window.location=a.redirectionUrl)});var c={};c=a.error?a.error:'<iframe src="'+a.iframeUrl+'" width="708" height="400"></iframe>',b(".eid-iframe").html(c)})})}},b(document).ready(function(){MediaSaturn.eid.init()})}(window,jQuery),function(a,b){"use strict";MediaSaturn.EEKLayer={init:function(){b(document).on("eek_image_load_error",this.imageOnError).on("click.eek_label",".ee-layer, .supplement-facts-image",this.labelOnClick).on("click.eek_label",".ee-pdf",this.openPDF)},openPDF:function(a){a.preventDefault(),window.open(b(this).data("url"))},imageOnError:function(a){b("#cboxContent .eek-image").hide(),MediaSaturn.EEKLayer.showAltTable()},labelOnClick:function(a){a.preventDefault();var c=b(this).data("alt"),d={initialWidth:"200px",initialHeight:"200px",preloading:!1,className:"eek-layer-content",open:!0,onComplete:MediaSaturn.EEKLayer.layerOnComplete,xhrError:c};if("undefined"!=typeof c)d.html='<div class="eek-label-alt">'+c+"</div>";else{var e=b(this).data("url");"undefined"==typeof e&&(e=b(this).prop("href")),d.href=e}b("#cboxContent").addClass("loading"),b.colorbox(d),b.colorbox.resize({width:200,height:200})},layerOnComplete:function(){b("#cboxClose").show(),b("#cboxLoadingOverlay, #cboxLoadingGraphic").hide(),0!==b("#cboxContent img").length||0!==b("#cboxContent .eek-image").length?b("#cboxContent img").on("load",function(a){var c=36,d=b(this).width()+c,e=b(this).height()+c;b("#cboxContent").removeClass("loading"),b.colorbox.resize({width:d,height:e})}).each(function(){this.complete&&b(this).trigger("load")}):(b("#cboxContent").removeClass("loading"),MediaSaturn.EEKLayer.showAltTable())},showAltTable:function(){b("#cboxContent .eek-label-alt").removeClass("hide"),b("#cboxContent dl.specification dt").each(function(){b(this).css("min-height",b(this).next("dd").height())}),b("#cboxContent dl.specification dd").each(function(){b(this).css("min-height",b(this).prev("dt").height())});var a=24;1===b("#cboxError").length?b.colorbox.resize({width:b("#cboxError").width()+a,height:b("#cboxError").height()+a}):b.colorbox.resize({width:b(".eek-label-alt").width()+a,height:b(".eek-label-alt").height()+a})}},b(document).ready(function(){MediaSaturn.EEKLayer.init()})}(window,jQuery),MediaSaturn.eventTracker=function(a,b){"use strict";function c(a,b){var c=/\[#\]/g,d=0;return a.match(c).length!==b.length?a:a.replace(c,function(){var a=b[d];return d+=1,a})}function d(b){var c,d;return d=a.grep(j,function(a,c){return a.id&&a.id===b}),d.length&&(c=d[0]),c}function e(){function b(b){function c(a){var c=b.id,d=b.name,e=b.prepareName;void 0!==e&&(d=e(d,a)),k.publish("_event",c,d)}a(b.element).on("mousedown."+i.namespace,b.selector,c)}var c,d;for(c=0;c<j.length;c++)d=j[c],"element"in d&&b(d)}function f(a,b){if(i.isInitialized!==!1){var c,e=d(a);e&&(c=e.name,void 0!==b&&(c=e.prepareName(c,b)),k.publish("_event",a,c))}}function g(a){k.subscribe("_event",a)}function h(){i.isInitialized=!0,l=MediaSaturn.eventTrackerSettings,e()}var i,j,k,l;return k=new b,i={dataAttr:"data-et-id",namespace:"et",isInitialized:!1},j=[{id:"top-navigation-basket",element:"#header",selector:".cart > a",name:"Top Navigation > Basket"},{id:"top-navigation-basket-pulldown",name:"Top Navigation > Basket Pulldown"},{id:"top-navigation-basket-entry",element:"#header",selector:".cart .basket .content li > a",name:"Top Navigation > Basket > [#]",prepareName:function(b,d){var e=a(d.currentTarget).parent().index();return b=c(b,[e])}},{id:"meta-navigation-my-account",element:"#header .right-meta-navigation",selector:"["+i.dataAttr+'="myaccount"]',name:"Meta Navigation > MyAccount"},{id:"meta-navigation-compare",element:"#header .right-meta-navigation",selector:"#list-compare > a",name:"Meta Navigation > Compare"},{id:"meta-navigation-wishlist",element:"#header .right-meta-navigation",selector:"#list-wishlist > a",name:"Meta Navigation > Whishlist"},{id:"meta-navigation-service",element:"#header .left-meta-navigation",selector:".service",name:"Meta Navigation > Service"},{id:"meta-navigation-lexicon",element:"#header .left-meta-navigation",selector:".lexicon",name:"Meta Navigation > Lexikon"},{id:"doormat-category-category-name",element:"#page-footer",selector:"ul["+i.dataAttr+'="category"]',name:"Doormat > Category > [#]",prepareName:function(b,d){var e=a.trim(a(d.target).text());return b=c(b,[e])}},{id:"doormat-top-brands-brand",element:"#page-footer",selector:"ul["+i.dataAttr+'="top-brands"]',name:"Doormat > Top-Brands > [#]",prepareName:function(b,d){var e=a.trim(a(d.target).text());return b=c(b,[e])}},{id:"flyout-navigation-navigation-entry",element:"#top-navigation",selector:"a[href]",name:"Flyout Navigation > [#]",prepareName:function(b,d){var e=a(d.currentTarget).contents().filter(function(){return!a(this).is("em")}).text();return e=a.trim(e),b=c(b,[e])}},{id:"sort-by-sort-id",name:"Sort By > [#]",prepareName:function(a,b){return a=c(a,[b.name])}},{id:"basket-add",element:"#category .products-list",selector:".button.add-to-cart",name:"Basket Add"},{id:"viedo-player-layer",element:"#category .products-list",selector:".media-play-video > a",name:"Video Player Layer"},{id:"music-player-layer",element:"#category .products-list",selector:".media-play-audio > a",name:"Music Player Layer"},{id:"wishlist-add",element:"#category .products-list",selector:".add-to-wishlist",name:"Wishlist Add"},{id:"amd-logo",element:"#category .products-list",selector:".product-wrapper .logos img["+i.dataAttr+'="amd"]',name:"AMD Logo"},{id:"intel-logo",element:"#category .products-list",selector:".product-wrapper .logos img["+i.dataAttr+'="intel"]',name:"Intel Logo"},{id:"select-market-pickup-layer",element:"#category .products-list .product-price, #product-details .price-sidebar",selector:".availability .market-pick > a",name:"Select Market Pickup Layer"},{id:"select-alternative-market-pickup-layer",element:"#category .products-list .product-price, #product-details .price-sidebar",selector:".availability ["+i.dataAttr+'="market-pick"]',name:"Select Alternative Market Pickup Layer"},{id:"image-zoom-layer",name:"Image Zoom Layer"},{id:"print-layer",element:"#product-wrapper",selector:".details .options .print > a",name:"Print Layer"},{id:"wishlist-add-2",element:"#product-wrapper",selector:".details .options .add-to-wishlist",name:"Wishlist Add"},{id:"basket-add-2",element:"#product-wrapper",selector:".price-button .add-to-cart",name:"Basket Add"},{id:"amd-logo-2",element:"#product-sidebar",selector:".support img["+i.dataAttr+'="amd"]',name:"AMD Logo"},{id:"intel-logo-2",element:"#product-sidebar",selector:".support img["+i.dataAttr+'="intel"]',name:"Intel Logo"},{id:"tab-reviews",element:"#product-details",selector:'.product-anchors a[href="#product-reviews"]',name:"Tab Reviews"},{id:"tab-financing",element:"#product-details",selector:'.product-anchors a[href="#finanzierung"]',name:"Tab Financing"},{id:"tab-tracks",element:"#product-details",selector:'.product-anchors a[href="#trackliste"]',name:"Tab Tracks"},{id:"service-change-service-item-name",name:"Service Change > [#]",prepareName:function(a,b){return a=c(a,[b.service])}},{id:"online-price-faq",element:"#product-details .price-details",selector:".online-finance .icon-info",name:"Online Price FAQ"},{id:"market-price-faq",element:"#product-details",selector:".price-label .online-price .icon-info",name:"Market Price FAQ"},{id:"shipment-cost-total-faq",element:"#product-details",selector:".price + small > span.icon-info",name:"Shipment Cost Total FAQ"},{id:"change-quantity",name:"Change Quantity"},{id:"sdd-express-layer-layer-close",element:"body",selector:"#sdd-express .layer-close",name:"Express Delivery Layer > Layer Close"},{id:"sdd-express-layer-add-to-cart",element:"body",selector:"#sdd-express .add-to-cart",name:"Express Delivery Layer > Add To Cart"},{id:"sdd-express-layer-zip-check-success",name:"Express Delivery Layer > Zip Sucess > [#]",prepareName:function(a,b){return a=c(a,[b.zip])}},{id:"sdd-express-layer-zip-check-fail",name:"Express Delivery Layer > Zip Fail > [#]",prepareName:function(a,b){return a=c(a,[b.zip])}},{id:"sdd-express-layer-switchsdd",element:"body",selector:'#sdd-express .switchsddlayer [type="submit"]',name:"Express Delivery Layer > Switch SDD Layer"},{id:"sdd-desireddate-layer-layer-close",element:"body",selector:"#sdd-desireddate .layer-close",name:"Desired Date Delivery Layer > Layer Close"},{id:"sdd-desireddate-layer-add-to-cart",element:"body",selector:"#sdd-desireddate .add-to-cart",name:"Desired Date Delivery Layer > Add To Cart"},{id:"sdd-desireddate-layer-zip-check-success",name:"Desired Date Delivery Layer > Zip Sucess > [#]",prepareName:function(a,b){return a=c(a,[b.zip])}},{id:"sdd-desireddate-layer-zip-check-fail",name:"Desired Date Delivery Layer > Zip Fail > [#]",prepareName:function(a,b){return a=c(a,[b.zip])}},{id:"sdd-express-layer-switchsdd",element:"body",selector:"#sdd-desireddate .trigger-switchsddlayer",name:"Desired Date Delivery Layer > Switch SDD Layer"},{id:"sdd-desireddate-time",name:"Scheduled Delivery > [#]",prepareName:function(a,b){return a=c(a,[b.name])}},{id:"meta-navigation-change-language",element:".language-selector",selector:".language-name",name:"Meta Navigation > Change Language"},{id:"freedelity-authorization-login",element:".my-account.freedelity-authorization .forms",selector:'[type="submit"]',name:"Freedelity > Authorization > Login"},{id:"freedelity-authorization-ssl-layer",element:".my-account.freedelity-authorization",selector:".ssl-information [data-layer]",name:"Freedelity > Authorization > SSL Layer"},{id:"freedelity-activation-info-layer",element:".my-account.freedelity-activation .forms",selector:"li.eid .icon-info",name:"Freedelity > Activation > Info layer"},{id:"freedelity-activation-agreement",element:".my-account.freedelity-activation .forms",selector:"li.agreement label",name:"Freedelity > Activation > Agreement checkbox"},{id:"freedelity-activation-ssl-layer",element:".my-account.freedelity-activation .forms",selector:".ssl-info [data-layer]",name:"Freedelity > Activation > SSL Layer"},{id:"freedelity-activation-submit",element:".my-account.freedelity-activation .forms",selector:'[type="submit"]',name:"Freedelity > Activation > Submit"},{id:"freedelity-deactivation-ssl-layer",element:".my-account.freedelity-deactivation .forms",selector:".ssl-info [data-layer]",name:"Freedelity > Deactivation > SSL Layer"},{id:"freedelity-deactivation-submit",element:".my-account.freedelity-deactivation .forms",selector:'[type="submit"]',name:"Freedelity > Deactivation > Submit"},{id:"loyalty-activation-loyalty-id",name:"Loyalty Activation > Loyalty ID > [#]",prepareName:function(a,b){return a=c(a,[b.id])}},{id:"loyalty-navigation-overview",element:".my-account.loyalty #filters",selector:".et-overview",name:"Loyalty > Left Navigation > Overview"},{id:"loyalty-navigation-activation",element:".my-account.loyalty #filters",selector:".et-activation",name:"Loyalty > Left Navigation > Activation"},{id:"loyalty-navigation-purchases",element:".my-account.loyalty #filters",selector:".et-purchases",name:"Loyalty > Left Navigation > Purchases"},{id:"loyalty-overview-activation",element:".my-account.loyalty-overview .loyalty-sections",selector:".activate a, .activate + a",name:"Loyalty Overview > Activation"},{id:"loyalty-activation-front-end-validation",name:"Loyalty Activation > Front-End validation error > [#]",prepareName:function(a,b){return a=c(a,[b.fieldName])}},{id:"loyalty-activation-back-end-validation",name:"Loyalty Activation > Back-End validation error"},{id:"loyalty-purchases-visited",name:"Loyalty Offline Purchases > Visited"},{id:"add-guarantee",name:"Add Guarantee"},{id:"remove-guarantee",name:"Remove Guarantee"},{id:"overall-guarantee-information",name:" Overall Guarantee Information"},{id:"individual-guarantee-information",name:"Individual Guarantee Information"},{id:"unfold-guarantee-options",name:"Unfold guarantee options"},{id:"fold-guarantee-options",name:"Fold guarantee options"}],{fire:f,subscribe:g,init:h}}(jQuery,MediaSaturn.GenericMediator),MediaSaturn.eventTrackerDY=function(a){function b(a){function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a>>>b|a<<32-b}function d(a,b){return a>>>b}function e(a,b,c){return a&b^~a&c}function f(a,b,c){return a&b^a&c^b&c}function g(a){return c(a,2)^c(a,13)^c(a,22)}function h(a){return c(a,6)^c(a,11)^c(a,25)}function i(a){return c(a,7)^c(a,18)^d(a,3)}function j(a){return c(a,17)^c(a,19)^d(a,10)}function k(a,c){var d,k,l,m,n,o,p,q,r,s,t,u,v=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),w=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),x=new Array(64);a[c>>5]|=128<<24-c%32,a[(c+64>>9<<4)+15]=c;for(var r=0;r<a.length;r+=16){d=w[0],k=w[1],l=w[2],m=w[3],n=w[4],o=w[5],p=w[6],q=w[7];for(var s=0;s<64;s++)s<16?x[s]=a[s+r]:x[s]=b(b(b(j(x[s-2]),x[s-7]),i(x[s-15])),x[s-16]),t=b(b(b(b(q,h(n)),e(n,o,p)),v[s]),x[s]),u=b(g(d),f(d,k,l)),q=p,p=o,o=n,n=b(m,t),m=l,l=k,k=d,d=b(t,u);w[0]=b(d,w[0]),w[1]=b(k,w[1]),w[2]=b(l,w[2]),w[3]=b(m,w[3]),w[4]=b(n,w[4]),w[5]=b(o,w[5]),w[6]=b(p,w[6]),w[7]=b(q,w[7])}return w}function l(a){for(var b=Array(),c=(1<<o)-1,d=0;d<a.length*o;d+=o)b[d>>5]|=(a.charCodeAt(d/o)&c)<<24-d%32;return b}function m(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b}function n(a){for(var b=p?"0123456789ABCDEF":"0123456789abcdef",c="",d=0;d<4*a.length;d++)c+=b.charAt(a[d>>2]>>8*(3-d%4)+4&15)+b.charAt(a[d>>2]>>8*(3-d%4)&15);return c}if("string"==typeof a){var o=8,p=0;return a=m(a),n(k(l(a),a.length*o))}}function c(a){DY&&DY.API&&DY.API("event",a)}function d(a,b){z.debug&&console.log("Dynamic Yield Event:",a,Date.now(),b)}function e(a){var b=!1;if("localhost"===window.location.hostname)b=!0;else for(var c=window.location.hostname.split(".")[0],d=0;d<a.length;d++)a[d]===c&&(b=!0);return!!b&&(console.log("Dynamic Yield Debug Mode:",!0),!0)}function f(){for(var a=document.getElementsByTagName("script"),b=0;b<a.length;b++)if(a[b].src&&a[b].src.indexOf("dynamicyield.com")!==-1)return!0;return!1}function g(){var a=m(z.cookies.acceptance.name);if(!a)return!0;for(var b=z.cookies.acceptance.level,c=0;c<b.length;c++)if(a===b[c])return!0;return!1}function h(a){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?a():document.addEventListener("DOMContentLoaded",a)}function i(a,c){return"ADD_TO_CART"===a&&c?{name:"Add to Cart",properties:{dyType:"add-to-cart-v1",value:t(getObjectByName(c).price),currency:n("*currency"),productId:getObjectByName(c).id,quantity:z["default"].quantity,cart:q("get")}}:"ADD_TO_BASKET"===a&&c?{name:"Add to Cart",properties:{dyType:"add-to-cart-v1",value:c.itemPrice,currency:window.serverIncludedData.settings.currencyCode,productId:c.productId,quantity:z["default"].quantity,cart:r(window.serverIncludedData.products)}}:"BASKET"===a?r(window.serverIncludedData.products):"PURCHASE"===a?{name:"Purchase",properties:{dyType:"purchase-v1",value:t(window.serverIncludedData.summary.totalPrice),currency:window.serverIncludedData.settings.currencyCode,cart:r(window.serverIncludedData.products)}}:"NEWSLETTER_SUBSCRIPTION"===a?{name:"Newsletter Subscription",properties:{dyType:"newsletter-subscription-v1",hashedEmail:b(document.getElementById("newsletterEmail").value)}}:"NEWSLETTER_SUBSCRIPTION_CHECKBOX"===a?{name:"Newsletter Subscription",properties:{dyType:"newsletter-subscription-v1",hashedEmail:b(document.getElementById("register-email").value)}}:"SIGNUP"===a?{name:"Signup",properties:{dyType:"signup-v1",hashedEmail:b(document.getElementById("register-email").value)}}:"LOGIN"===a?{name:"Login",properties:{dyType:"login-v1",hashedEmail:b(document.getElementById("login-email").value)}}:"SYNC_BASKET"===a?{name:"Sync cart",properties:{dyType:"sync-cart-v1",currency:window.serverIncludedData.settings.currencyCode,cart:r(window.serverIncludedData.products)}}:"REMOVE_FROM_BASKET"===a?{name:"Remove from Cart",properties:{dyType:"remove-from-cart-v1",currency:window.serverIncludedData.settings.currencyCode,productId:c?c.productId:null,quantity:c?c.quantity:null,value:c?c.itemPrice:null,cart:r(window.serverIncludedData.products)}}:void 0}function j(a,b){var e=z.basketPageEvents.indexOf(b)!==-1?"BASKET":b;z.mutations[e]=i(e);var f={attributes:!0,childList:!0,subtree:!0},g=function(a,f){JSON.stringify(z.mutations[e])!==JSON.stringify(i(e))&&(z.timeouts[b]&&clearTimeout(z.timeouts[b]),z.timeouts[b]=setTimeout(function(){var a=k(b);a&&(z.mutations[e]=i(e),d("ADD_TO_BASKET"===b?"ADD_TO_CART":b,i(b,a||null)),c(i(b,a||null)))},500))},h=new MutationObserver(g);h.observe(a,f)}function k(a,b){if("NEWSLETTER_SUBSCRIPTION_CHECKBOX"===a)return!!g()&&(document.getElementById("register-newsletter")?document.getElementById("register-newsletter").checked:document.getElementById("NEWSLETTER_ACCEPTANCE").checked);if("ADD_TO_BASKET"===a){var c=o(z.mutations.BASKET,r(window.serverIncludedData.products));return c&&q("set",r(window.serverIncludedData.products)),c}if("REMOVE_FROM_BASKET"===a){var c=p(z.mutations.BASKET,r(window.serverIncludedData.products));return c&&q("set",r(window.serverIncludedData.products)),c}return"SYNC_BASKET"===a?!!l(z.mutations.BASKET,r(window.serverIncludedData.products))&&(q("set",r(window.serverIncludedData.products)),!0):"ADD_TO_CART"===a?(b&&q("add",{productId:getObjectByName(b.data("gtm-event-ext")).id,quantity:z["default"].quantity,itemPrice:t(getObjectByName(b.data("gtm-event-ext")).price)}),!0):"PURCHASE"===a?(q("clear"),!0):"SIGNUP"!==a&&"LOGIN"!==a&&"NEWSLETTER_SUBSCRIPTION"!==a||!!g()}function l(a,b){var c=!1;return a.length===b.length&&a.forEach(function(a){b.forEach(function(b){a.productId===b.productId&&a.quantity!==b.quantity&&(c=!0)})}),c}function m(a){var b=document.cookie.match(new RegExp(a+"=([^;]+)"));if(b)return b[1]}function n(a){for(var b=document.getElementsByTagName("meta"),c=0;c<b.length;c++){if(a.indexOf("*")!==-1&&b[c].getAttribute("property")&&b[c].getAttribute("property").indexOf(a.replace("*",""))!==-1)return b[c].getAttribute("content");if(b[c].getAttribute("property")===a)return b[c].getAttribute("content")}return null}function o(a,b){var c=!1;return a.length<b.length&&b.forEach(function(b){c=a.length<0?a.forEach(function(a){if(a.productId!==b.productId)return b}):b}),c}function p(a,b){var c=!1;return a.length>b.length&&a.forEach(function(a){0!==b.length?b.forEach(function(b){a.productId!==b.productId&&(c=a)}):c=a}),c}function q(a,b){var c=localStorage.getItem(z.storage.cart)?JSON.parse(localStorage.getItem(z.storage.cart)):null;if("add"===a)c?c.filter(function(a){return a.productId===b.productId}).length>0?Object.keys(c).forEach(function(a){c[a].productId===b.productId&&(c[a].quantity=c[a].quantity+b.quantity)}):c.push(b):c=[b],localStorage.setItem(z.storage.cart,JSON.stringify(c));else if("set"===a)localStorage.setItem(z.storage.cart,JSON.stringify(b));else{if("get"===a)return c;if("remove"===a){if(c){for(var d=[],e=0;e<c.length;e++)c[e].productId!==b.productId&&d.push(c[e]);localStorage.setItem(z.storage.cart,JSON.stringify(d))}}else"clear"===a&&localStorage.removeItem(z.storage.cart)}}function r(a){var b=[];return a.forEach(function(a){a.inWishList||b.push({productId:a.details.tracking.id,quantity:a.quantity,itemPrice:t(a.details.price)})}),b}function s(b){var c=!0;return b.find("input, select, textarea").filter("[required]:visible, [aria-required]:visible").each(function(){""===a(this).val()&&(c=!1)}),!!c}function t(a){var b=a.replace(/,/g,".").replace(/[^0-9.]/g,"").split(".");return parseFloat(b.slice(0,-1).join("")+"."+b.slice(-1))}function u(a){h(function(){for(var b=document.querySelectorAll("["+a+"]"),e=0;e<b.length;e++)k(b[e].getAttribute(a))&&(d(b[e].getAttribute(a),i(b[e].getAttribute(a))),c(i(b[e].getAttribute(a))))})}function v(a){for(var b=document.querySelectorAll("["+a+"]"),c=0;c<b.length;c++){var d=b[c].getAttribute(a).replace(/\s+/g,"").split(",");d.forEach(function(a){j(b[c],a)})}}function w(a,b){if("click"===a&&!b.is("form")||"submit"===a&&s(b)){var e=b.data("dy-event").replace(/\s+/g,"").split(",");e.forEach(function(a){k(a,b)&&(d(a,i(a,b.data("gtm-event-ext")||null)),c(i(a,b.data("gtm-event-ext")||null)))})}}function x(){a(document).on("click","[data-dy-event]",function(b){w(b.type,a(this))}),a(document).on("submit","[data-dy-event]",function(b){w(b.type,a(this))}),u("data-dy-event-onload"),v("data-dy-event-mutation")}function y(){f()&&(z.debug&&console.log("Dynamic Yield Tracker Plugin Loaded:",!0),x())}var z={storage:{cart:"_dy_cart"},"default":{quantity:1},cookies:{acceptance:{name:"MC_PRIVACY",level:["marketing","personalization"]}},basketPageEvents:["ADD_TO_BASKET","SYNC_BASKET","REMOVE_FROM_BASKET"],mutations:[],timeouts:[],debug:e(["perf","mediade","mediaes"])};return{init:y}}(jQuery),$(document).on("fee_ready app_ready",function(){MediaSaturn.eventTrackerDY.init()}),MediaSaturn.eventTrackerGTM=function(a){function b(){return"undefined"!=typeof dataLayer&&"function"==typeof dataLayer.push}function c(){return!!window._gaLoaded}function d(a,b){var c=Handlebars.compile(a);return c(b)}function e(b){return a.trim(b.replace(/\s+/g," "))}function f(b,c,e){var f={};return f.event=b.name,f.eventCategory=b.category,f.eventAction=b.action?d(b.action,c):"",f.eventLabel=b.label?d(b.label,c):"",f.eventValue=b.value,f.ecommerce=b.ecommerce,f=a.extend({},f,e)}function g(a){var d,e,g=a.callbackWhenFailed,h=!1;if(d="id"in a?m[a.id]:a,!d)return console.log("Tracking error: missing event definition!"),!1;var i,j=a.href,k=d.blocking&&!!j,l=a.$form,n=d.formSubmit&&!!l;return i=f(d,a.context,a.extension),n?i.eventCallback=function(){h||(h=!0,l.trigger("submit",["noEventTracking"]))}:k&&(i.eventCallback=function(){h||(h=!0,document.location=j)}),e=b(),e&&dataLayer.push(i),c()&&e?!k&&!n:("function"==typeof g&&g(),!0)}function h(){function b(b){var c;return b.closest("#product-preview").length>0&&(b=a(a("#product-preview").data("eventTarget"))),b.closest(".product-container").length>0?c="Products container":(b.closest("#category.category-list .products-list").length&&(c="Category list"),b.closest("#category.category-grid .products-grid").length&&(c="Category grid"),b.closest("#category.search-results .products-list").length&&(c="Search results"),b.closest("#my-account.wishlist .products-list").length&&(c="Wishlist")),c}function c(b,c){var d,e,f,g,h;return c.hasOwnProperty("position")?c.position:(b.closest("#product-preview").length&&(b=a(a("#product-preview").data("eventTarget"))),f=b.closest("map[name]"),f.length&&(g=f.attr("name"),h=a("[usemap=#"+g+"]"),h.length&&(b=h.first())),b.closest(".product-container").length?d=b.closest("ul.products-grid, .products-vertical-list > ul").children("li:not(.cloned)").index(b.closest("ul.products-grid > li, .products-vertical-list > ul > li")):(b.closest("#category.category-list .products-list, #category.search-results .products-list, #my-account.wishlist .products-list").length&&(d=b.closest(".products-list > li").index()),b.closest("#category.category-grid .products-grid").length&&(d=b.closest(".products-grid > li").index()),b.closest(".teaser > .teasers").length&&(d=b.closest(".teasers").find("> li:not(."+MediaSaturn.mediaQuery.getScreenSize()+"-hide)").index(b.closest(".teasers > li")),e="teaser_slot_"),b.closest(".image-teaser-items > .image-teaser-item").length&&(d=b.closest(".image-teaser-items").find("> .image-teaser-item:not(."+MediaSaturn.mediaQuery.getScreenSize()+"-hide)").index(b.closest(".image-teaser-items > .image-teaser-item")),e="image-teaser_slot_"),b.closest(".photos-carousel").length&&(d=b.closest(".photos-carousel > .carousel > .photos > li").index(),e="photos-carousel_slot_"),b.closest(".banners > .photo").length&&(d=0,e="banner_"),b.closest(".cms-slider").length&&(d=b.closest(".cms-slider").find(".cms-slider__item").not(".cloned").index(b.closest(".cms-slider__item--active")),e="cms_slider_slot_")),d++,e&&(d=e+d),d)}function d(a,b){var c,d=1;if(b.hasOwnProperty("quantity")&&(d=b.quantity),f(a))try{c=a.closest(".sidebar-form").find(".pdp-quantity"),c.length||(c=a.closest(".price-sidebar").find(".pdp-quantity")),c.length&&(d=c.find(".pdp-quantity-select").val())}catch(e){}return d}function f(b){return a("#product-wrapper").length&&(b.is(".sidebar-form .add-to-cart")||b.is(".price-sidebar .add-to-cart"))}function h(b,e){var g=a.extend(!0,{},m.EEC_ADD_TO_CART.extension),h=a('meta[property="gtm-prop-currency-code"]').prop("content"),i=c(e,b);if(void 0!==i&&(b.position=i),g.ecommerce.add.products.push(b),g.ecommerce.currencyCode=h,f(e))try{a("#product-details [type=checkbox][data-gtm-additional-products]:checked").each(function(){var b=a(this).data("gtm-additional-products"),c=getObjectByName(b);
g.ecommerce.add.products=g.ecommerce.add.products.concat(c)})}catch(j){}return a.each(g.ecommerce.add.products,function(){this.quantity=d(e,this)}),g}function i(b,d){var e=a.extend(!0,{},m.EEC_PRODUCT_CLICK.extension),f=d.closest("[data-gtm-prop-list-name]").data("gtm-prop-list-name"),g=c(d,b);return void 0!==g&&(b.position=g),e.ecommerce.click.products.push(b),e.ecommerce.click.actionField.list=f,e}function j(b,d){function e(b){var e,f=getObjectByName(b.data("gtm-impression-event-ext"));switch(f=a.extend({},f),d){case"EEC_PRODUCT_IMPRESSION":e=c(b,f),void 0!==e&&(f.position=e),f.list=b.closest("[data-gtm-prop-list-name]").data("gtm-prop-list-name");break;case"EEC_PROMOTION_IMPRESSION":f=f.ecommerce.promoView.promotions,a.each(f,function(a,d){e=c(b,d),void 0!==e&&(d.position=e)})}i=i.concat(f)}var f,h,i=[],j=32;if("EEC_PRODUCT_DETAIL_VIEW"===d){var k,l=a.extend(!0,{},m.EEC_PRODUCT_DETAIL_VIEW.extension),n=b[0].data("gtm-impression-event-aux"),o=[];if(n)for(n=n.split(","),f=0;f<n.length;f++)k=getObjectByName(n[f]),o.push(k)}if("EEC_PRODUCT_IMPRESSION"===d)var p=a.extend(!0,{},m.EEC_PRODUCT_IMPRESSION.extension),q=a('meta[property="gtm-prop-currency-code"]').prop("content");if("EEC_PROMOTION_IMPRESSION"===d)var r=a.extend(!0,{},getObjectByName(b[0].data("gtm-impression-event-ext")));for(f=0;f<b.length;f++)e(b[f]),b[f].data("gtmImpression",!0);switch(d){case"EEC_PRODUCT_IMPRESSION":h=p,h.ecommerce.currencyCode=q;break;case"EEC_PROMOTION_IMPRESSION":h=r;break;case"EEC_PRODUCT_DETAIL_VIEW":h=l,h.ecommerce.impressions=o}for(;i.length;){var s=i.splice(0,j),t=a.extend({},h);switch(d){case"EEC_PRODUCT_IMPRESSION":t.ecommerce.impressions=s;break;case"EEC_PROMOTION_IMPRESSION":t.ecommerce.promoView.promotions=s;break;case"EEC_PRODUCT_DETAIL_VIEW":t.ecommerce.detail.products=s;break;default:t=s[0]}g({id:d,extension:t})}}function k(){var b=[];return a('.additional-services input[type="radio"]:checked').each(function(c,d){var e=a(d).parents("[data-gtm-additional-products]").data("gtm-additional-products");void 0!==e&&b.push(e)}),b}function l(b){var c={};a("[data-gtm-impression-event]:visible").each(function(){var b,d=a(this);if(d.data("gtmImpression")!==!0&&!(d.closest(".product-container").length&&d.closest("li").is(".cloned")||d.closest("#product-preview").length>0)){if(d.closest(".photos-carousel > .carousel > .photos").length){var e=d.closest(".photos-carousel > .carousel"),f=d.closest(".photos-carousel > .carousel > .photos > li"),g={},h={};if(g.left=e.offset().left,g.right=g.left+e.width(),h.left=f.offset().left,h.right=h.left+f.width(),h.left<g.left||h.left>g.right)return}d.closest(".cms-slider").length&&!d.closest(".cms-slider__item--active").length||d.closest(".teaser, .image-teaser").length>0&&(d.closest(".active").length<=0||a.contains(d.closest(".teaser, .image-teaser")[0],d.closest(".active")[0])!==!0)||(b=d.data("gtm-impression-event"),void 0===c[b]&&(c[b]=[]),c[b].push(d))}}),a.each(c,function(a,b){j(b,a)})}function n(a){return g({id:"USER_PERMANENT_LOGGED_IN",extension:{eventAction:a.target.checked?"select":"deselect",eventValue:+a.target.checked}})}a(document).on("click","[data-gtm-event]",function(d){var e,f=a(this),k=f.prop("href"),l=f.data("gtm-event"),m=f.data("gtm-event-ext"),n=f.data("gtm-impression-event-add"),o={},p={};if(f.closest('[ng-app="angularFeeApp"]').length>0&&(e="new_checkout"),(!f.is("#guarantee-form-in-layer .more-info-toggle")||f.is(".state-shown"))&&("EEC_ADD_TO_CART"!==l||!f.is("#guarantee-form-in-layer [type=checkbox]"))&&"EEC_CHECKOUT_OPTION_2"!==l&&"EEC_CHECKOUT_OPTION_3"!==l&&"EEC_CHECKOUT_OPTION_4"!==l)return m&&(o=getObjectByName(m)),"EEC_ADD_TO_CART"===l&&(f.is("[data-gtm-event-aux]")?p.buttonPosition=f.data("gtm-event-aux"):p.buttonPosition=b(f),o=h(o,f)),"EEC_PRODUCT_CLICK"===l&&(o=i(o,f)),"EEC_PROMOTION_CLICK"===l&&a.each(o.ecommerce.promoClick.promotions,function(a,b){var d=c(f,b);void 0!==d&&(b.position=d),("#"===f.attr("href")||f.is(".cboxElement")||"_blank"===f.attr("target"))&&(k=void 0)}),n&&""!==n&&j([f],n),g({id:l,context:p,extension:o,href:k},e)}),a(document).on("guarantee-add-in-basket-layer",function(a,b){var c,d,e={};b.is("[data-gtm-event]")&&(c=b.data("gtm-event"),d=getObjectByName(b.data("gtm-event-ext")),"EEC_ADD_TO_CART"===c&&(e.buttonPosition="Guarantee in basket layer",d=h(d,b)),g({id:c,context:e,extension:d}))});k();a(".cobutton-facebook.fb-login").on("click",function(){var b,c,d="EEC_CHECKOUT_OPTION_2";a(this).is(".cobutton-facebook")&&(c="new_checkout"),b=a.extend(!0,{},{ecommerce:m.EEC_CHECKOUT_OPTION_2.ecommerce}),b.ecommerce.checkout_option.actionField.option="Facebook",g({id:d,extension:b},c)}),a('[name="registerForm"], [name="userForm"], [name="loginForm"]').on("submit",function(b,c){var d,e,f=a(this),h=(f.find("[data-gtm-event=EEC_CHECKOUT_OPTION_2]").not(".cloned-forward-button"),"EEC_CHECKOUT_OPTION_2");if(a(this).is('[name="registerForm"], [name="userForm"], [name="loginForm"]')&&(e="new_checkout"),"noEventTracking"!==c)return d=a.extend(!0,{},{ecommerce:m.EEC_CHECKOUT_OPTION_2.ecommerce}),f.is("#login-form")||f.is('[name="loginForm"]')?d.ecommerce.checkout_option.actionField.option="Sign In":f.is("#register-form")||f.is('[name="userForm"]')||f.is('[name="registerForm"]')?a(".register-as-guest [type=checkbox]:checked").length||f.is('[name="userForm"]')?d.ecommerce.checkout_option.actionField.option="Guest Order":d.ecommerce.checkout_option.actionField.option="Register":d.ecommerce.checkout_option.actionField.option="Already Logged In",g({id:h,extension:d,$form:f},e)}),a(document).on("fee_ready fee.fgrid_refresh show_teaser.stageteaser gtm_impressions_refresh",a.throttle(1500,l)),a("#top-navigation").find(".top-navigation-items > li > a").on("click",function(){var b=a(this).text(),c=a(this).prop("href");return b=e(b),g({id:"TOP_NAVIGATION_STATIC_CATEGORY",context:{categoryLevel1:b},href:c})}),a("#top-navigation").on("click",".flyout-subnavigation a",function(){var b,c,d,f=a(this),h=2,i=f.prop("href");return f.is(".flyout-subnavigation ul ul a")&&(h=3),b=f.closest(".top-navigation-items > .item").find("> a").text(),b=e(b),2===h?(c=f.text(),d=""):(c=f.closest(".flyout-subnavigation > ul > li").find("> a").text(),d=f.text()),c=e(c),d=e(d),g({id:"TOP_NAVIGATION_FLY_OUT_CATEGORY",context:{categoryLevel1:b,categoryLevel2:c,categoryLevel3:d},href:i})}),a(".left-meta-navigation > ul, .right-meta-navigation > ul").on("click","> li > a",function(b){var c=a(this),d=a(this).prop("href"),e=c.data("gtm-nav-name"),f=c.parents("[data-gtm-nav-prefix]").data("gtm-nav-prefix"),h=c.is("#list-wishlist a, #list-compare a, .infobar-open a");if(void 0!==b.originalEvent)return c.parent().hasClass("language-selector")&&(h=!0),h&&(d=""),g({id:"TOP_CORNER_NAVIGATION_ITEM",context:{item:f+"-"+e},href:d})}),a("#filters").find("fieldset .categories a").on("click",function(){var b,c,d=a(this),f=d.prop("href");return b=d.closest("ul").closest("li").find("> a").text(),c=d.text(),b=e(b),c=e(c),""===b&&(b=c,c=""),g({id:"SIDE_NAVIGATION_CATEGORY",context:{categoryLevel2:b,categoryLevel3:c},href:f})}),a(".infield > li a").on("click",function(){var b,c,d=a(this),e=d.prop("href");return d.is(".infield-list a")?(b=d.closest(".infield-wrapper").find("> h2").text(),c=d.text()):d.is("h2 > a")?(b=d.text(),c=""):(b=d.closest(".infield > li").find("h2").text(),c=""),g({id:"TILE_NAVIGATION_CATEGORY",context:{categoryLevel2:b,categoryLevel3:c},href:e})}),a("#product-wrapper").find(".js-add-to-wishlist").on("click",function(){var b=a("#product-details").find(".details h1").text();b=e(b),g({id:"PDP_ADD_TO_WISHLIST",context:{productName:b}})}),a("#product-wrapper").find(".add-to-compare").on("click",function(){var b=a("#product-details").find(".details h1").text();b=e(b),g({id:"PDP_ADD_TO_COMPARE",context:{productName:b}})}),a("#product-wrapper").find(".js-print").on("click",function(){var b=a("#product-details").find(".details h1").text();b=e(b),g({id:"PDP_PRINT",context:{productName:b}})}),a(".product-reviews").on("click",".js-review-rate-action",function(){var b=a(this),c="y"===b.data("et-aux")?"Helpful":"Not helpful";g({id:"PDP_RATE_RATING",context:{helpfulness:c}})}),a(document).on("submit_success.review_form",function(){var b;b=a("#review-nickname").length?"Guest":"Logged in",g({id:"PDP_RATE_PRODUCT",context:{user:b}})}),a("[data-stage-name] [data-campaign-name]").on("click",function(){var b=a(this),c=b.data("campaign-name"),d=b.closest("[data-stage-name]").data("stage-name");g({id:"PRODUCT_TEASER_STAGE",context:{stageName:d,campaignName:c}})}),a(document).on("productContainerScroll",".product-container",function(){var b=a(this).find("> .header h2").text();b=e(b),g({id:"PRODUCT_TEASER_CAROUSEL",context:{productListName:b}})}),a('.my-account.login-page #login-form, [name="loginForm"]').on("submit",function(b,c){var d=a(this),e="Login form";if("noEventTracking"!==c)return g({id:"USER_LOG_IN_SIGN_IN_FORM",context:{method:e},$form:d})}),a(".my-account.login-page .fb-login").on("click",function(){g({id:"USER_LOG_IN_SIGN_IN_FACEBOOK"})}),a(".my-account.login-page #my-account-action-register").on("click",function(){g({id:"USER_LOG_IN_SIGN_IN_REGISTER_BTN"})}),a(".my-account.register #register-form").on("submit",function(b,c){var d,e=a(this);if("noEventTracking"!==c)return d=e.closest(".my-account.register.facebook").length?"Facebook":"Register form",g({id:"USER_LOG_IN_REGISTER",context:{method:d},$form:e})}),a('#newsletter-register-form, [name="newsletterForm"]').on("submit",function(b,c){var d=a(this);if("noEventTracking"!==c)return g({id:"NEWSLETTER_SIGN_UP_COMPLETE",$form:d})}),a("#my-account.contact #contact-form").on("submit",function(b,c){var d=a(this),f=d.find("#contact_entries option:selected").text();if("noEventTracking"!==c)return f=e(f),g({id:"CONTACT_TOPIC",context:{selectedTopic:f},$form:d})}),a(".market-search > form").on("submit",function(b){var c,d=a(this),e=d.find("input[type=text]");if(0!==d.closest(".market-teaser").length&&(c=e.val(),void 0!==b.originalEvent))return g({id:"STORE_LOCATOR_SEARCH_TERM",context:{searchTerm:c},$form:d})}),a(".my-account.old-electronic-return-label form#old-electronic-return-label-form").on("submit",function(a,b){return g({id:"OLD_ELECTRONIC_RETURN_LABEL_GENERATE"})}),a("#my-account.login-page #permanent-login").on("change",n),a(".checkout-logon #loginForm-permanent").on("change",n)}function i(){var c,d;if(b()){if(h(),MediaSaturn.eventTrackerGTM__pre_init_events){for(d=MediaSaturn.eventTrackerGTM__pre_init_events.length,c=0;c<d;c++)j(MediaSaturn.eventTrackerGTM__pre_init_events[c]);MediaSaturn.eventTrackerGTM__pre_init_events=[]}MediaSaturn.eventTrackerGTM.init=a.noop}}function j(b){var c,d=a("."+b.elementClassName).first(),e={id:b.elementClassName};0!==d.length&&(c={name:"gaEvent",category:b.eventCategory,action:b.eventAction,label:b.eventLabel,value:b.eventValue},b.elementIsExternalLink?c.blocking=!0:b.elementIsForm&&(c.formSubmit=!0),m[b.elementClassName]=c,b.elementIsExternalLink?(e.href=d.prop("href"),d.on("click",function(){return g(e)})):b.elementIsForm?(e.$form=d,d.on("submit",function(a,b){if("noEventTracking"!==b)return g(e)})):d.on("click",function(){g(e)}))}function k(a){g(a)}var l={TOP_NAVIGATION_STATIC:"Top Navigation - Static",TOP_NAVIGATION_FLY_OUT:"Top Navigation - Fly Out",TOP_CORNER_NAVIGATION:"Top Corner Navigation",SIDE_NAVIGATION:"Side Navigation",TILE_NAVIGATION:"Tile Navigation",SERVICE_FOOTER:"Service Footer",COMPANY_FOOTER:"Company Footer",PRODUCT_DETAIL_PAGE:"Product Detail Page",REGISTRATION:"Registration",USER_LOGIN:"User login",NEWSLETTER:"Newsletter",CONTACT:"Contact",STORE_LOCATOR:"Store Locator",CHANNEL:"Desktop",PRODUCT_AND_TEASER_CLICKS:"Product and Teaser Clicks",RETURN_LABEL:"Returnlabel",ACCESSORY_BUNDLE:"Bundle",EXIT_LAYER:"Survey Layer"},m={TOP_NAVIGATION_STATIC_CATEGORY:{name:"gaEvent",category:l.TOP_NAVIGATION_STATIC,action:"{{categoryLevel1}}",label:"",value:0,blocking:!0},TOP_NAVIGATION_FLY_OUT_CATEGORY:{name:"gaEvent",category:l.TOP_NAVIGATION_FLY_OUT,action:"{{categoryLevel1}}",label:"{{categoryLevel2}} - {{categoryLevel3}}",value:0,blocking:!0},TOP_CORNER_NAVIGATION_ITEM:{name:"gaEvent",category:l.TOP_CORNER_NAVIGATION,action:"{{item}}",label:"",value:0,blocking:!0},SIDE_NAVIGATION_CATEGORY:{name:"gaEvent",category:l.SIDE_NAVIGATION,action:"{{categoryLevel2}}",label:"{{categoryLevel3}}",value:0,blocking:!0},TILE_NAVIGATION_CATEGORY:{name:"gaEvent",category:l.TILE_NAVIGATION,action:"{{categoryLevel2}}",label:"{{categoryLevel3}}",value:0,blocking:!0},SERVICE_FOOTER_ITEM:{name:"gaEvent",category:l.SERVICE_FOOTER,action:"{{mainCategory}}",label:"{{clickedItem}}",value:0,blocking:!0},COMPANY_FOOTER_ITEM:{name:"gaEvent",category:l.COMPANY_FOOTER,action:"{{mainCategory}}",label:"{{clickedItem}}",value:0,blocking:!0},PDP_ADD_TO_WISHLIST:{name:"gaEvent",category:l.PRODUCT_DETAIL_PAGE,action:"Add to Wishlist",label:"{{productName}}",value:0,blocking:!1},PDP_ADD_TO_COMPARE:{name:"gaEvent",category:l.PRODUCT_DETAIL_PAGE,action:"Add to Compare",label:"{{productName}}",value:0,blocking:!1},PDP_PRINT:{name:"gaEvent",category:l.PRODUCT_DETAIL_PAGE,action:"Print",label:"{{productName}}",value:0,blocking:!1},PDP_RATE_RATING:{name:"gaEvent",category:l.PRODUCT_DETAIL_PAGE,action:"Product Rating",label:"{{helpfulness}}",value:0,blocking:!1},PDP_RATE_PRODUCT:{name:"gaEvent",category:l.PRODUCT_DETAIL_PAGE,action:"Create Product Rating",label:"{{user}}",value:0,blocking:!0},PRODUCT_TEASER_STAGE:{name:"gaEvent",category:l.PRODUCT_AND_TEASER_CLICKS,action:"{{stageName}}",label:"{{campaignName}}",value:0,blocking:!1},PRODUCT_TEASER_CAROUSEL:{name:"gaEvent",category:l.PRODUCT_AND_TEASER_CLICKS,action:"Product Carousel",label:"{{productListName}}",value:0,blocking:!1},USER_LOG_IN_SIGN_IN_FORM:{name:"gaEvent",category:l.REGISTRATION,action:"Login",label:"Login form",value:0,blocking:!1,formSubmit:!0},USER_LOG_IN_SIGN_IN_FACEBOOK:{name:"gaEvent",category:l.REGISTRATION,action:"Login",label:"Facebook",value:0,blocking:!1},USER_LOG_IN_SIGN_IN_REGISTER_BTN:{name:"gaEvent",category:l.REGISTRATION,action:"Log in",label:"Register button",value:0,blocking:!0},USER_LOG_IN_REGISTER:{name:"gaEvent",category:l.REGISTRATION,action:"Register",label:"{{method}}",value:0,blocking:!1,formSubmit:!0},USER_PERMANENT_LOGGED_IN:{name:"gaEvent",category:l.USER_LOGIN,action:"select",label:"permanent login",value:0,blocking:!1},NEWSLETTER_SIGN_UP_TEASER:{name:"gaEvent",category:l.NEWSLETTER,action:"Sign Up Teaser",label:"{{location}}",value:0,blocking:!0},NEWSLETTER_SIGN_UP_COMPLETE:{name:"gaEvent",category:l.NEWSLETTER,action:"Sign Up Complete",label:"",value:0,blocking:!1,formSubmit:!0},CONTACT_TOPIC:{name:"gaEvent",category:l.CONTACT,action:"{{selectedTopic}}",label:"",value:0,blocking:!1,formSubmit:!0},STORE_LOCATOR_SEARCH_TERM:{name:"gaEvent",category:l.STORE_LOCATOR,action:"{{searchTerm}}",label:"",value:0,blocking:!1,formSubmit:!0},CHANNEL_SWITCH:{name:"gaEvent",category:l.CHANNEL,action:"Switch to Mobile",label:"",value:0,blocking:!0},OLD_ELECTRONIC_RETURN_LABEL_GENERATE:{name:"gaEvent",category:l.RETURN_LABEL,action:"Generate",label:"PDF",value:0,blocking:!1},ADD_PRODUCT_TO_BUNDLE:{name:"gaEvent",category:l.ACCESSORY_BUNDLE,action:"Add to Bundle",label:"{{label}}"},ADD_BUNDLE_TO_CART:{name:"gaEvent",category:l.ACCESSORY_BUNDLE,action:"Add to Cart",label:"{{label}}"},EXIT_LAYER_VIEW:{name:"gaEvent",category:l.EXIT_LAYER,action:"View",label:"",value:0},EEC_PROMOTION_CLICK:{name:"EECpromotionClick",category:"",action:"",label:"",value:0,blocking:!0},EEC_PROMOTION_IMPRESSION:{name:"EECpromotionImpression",category:"",action:"",label:"",value:0,blocking:!1},EEC_PRODUCT_CLICK:{name:"EECproductClick",category:"",action:"",label:"",value:0,blocking:!0,extension:{ecommerce:{click:{actionField:{list:"{{listName}}"},products:[]}}}},EEC_PRODUCT_IMPRESSION:{name:"EECproductImpression",category:"",action:"",label:"",value:0,blocking:!1,extension:{ecommerce:{currencyCode:"{{currency}}",impressions:[]}}},EEC_PRODUCT_DETAIL_VIEW:{name:"EECproductDetailView",category:"",action:"",label:"",value:0,blocking:!1,extension:{ecommerce:{impressions:[],detail:{actionField:{},products:[]}}}},EEC_ADD_TO_CART:{name:"EECaddToCart",category:"",action:"",label:"{{buttonPosition}}",value:0,blocking:!1,extension:{ecommerce:{currencyCode:"{{currencyCode}}",add:{products:[]}}}},EEC_REMOVE_FROM_CART:{name:"EECremoveFromCart",category:"",action:"",label:"",value:0,blocking:!0},EEC_CHECKOUT:{name:"EECcheckout",category:"",action:"",label:"",value:0,blocking:!1},EEC_CHECKOUT_OPTION_2:{name:"EECcheckoutOption",category:"",action:"",label:"",value:0,blocking:!1,formSubmit:!0,ecommerce:{checkout_option:{actionField:{step:2,option:"{{option}}"}}}},EEC_CHECKOUT_OPTION_3:{name:"EECcheckoutOption",category:"",action:"",label:"",value:0,blocking:!1,formSubmit:!0,ecommerce:{checkout_option:{actionField:{step:3,option:"{{option1}} - {{option2}}{{#if option3}} - {{option3}}{{/if}} - {{payment}}"}}}},EEC_CHECKOUT_OPTION_4:{name:"EECcheckoutOption",category:"",action:"",label:"",value:0,blocking:!1,formSubmit:!0,ecommerce:{checkout_option:{actionField:{step:4,option:"{{option}}"}}}},SUGGEST_AREA:{name:"gaEvent",category:"Search",action:"Search Suggest",blocking:!0,formSubmit:!0}};return{init:i,event:j,trackEventNow:k}}(jQuery),$(document).on("fee_ready app_ready",function(){MediaSaturn.eventTrackerGTM.init()}),function(a,b,c){function d(a){function c(a){b.trackEventNow({id:"EXIT_LAYER_VIEW"}),$.colorbox({html:a,transition:"none",overlayClose:!1,escKey:!1,onComplete:function(){var a=$("#colorbox").find(".exit-layer .layer-actions .layer-close");a.on("click",function(){d()}),$("#cboxClose").remove(),e()}})}function d(){$.cookie("FEE_EXIT_LAYER","closed",{expires:7300,path:"/"})}function e(){$("#colorbox").find(".product-container").productContainer(),$(".teaser:not(.randomize)").stageTeaser({nav:!0}),$(".teaser.randomize").stageTeaser({random:!0,nav:!0}),$(".image-teaser:not(#top-navigation .image-teaser)").stageTeaser({controls:!0}),MediaSaturn.PhotosCarousel.init(),MediaSaturn.ModalGallery.init(),$(document).trigger("fee.fgrid_refresh")}var f;return f={method:"GET",dataType:"html"},function(){var b=a.attr("content");f.url=b,$.ajax(f).done(c)}}$(document).ready(function(){var b,c=$('meta[property="js-exit-layer"]'),e="closed"===$.cookie("FEE_EXIT_LAYER");c.length>0&&e===!1&&(b=d(c),a.subscribe(b))})}(MediaSaturn.PageLeaveObserver,MediaSaturn.eventTrackerGTM,jQuery),function(a){function b(){f=a("[data-search-facet]"),0!==f.length&&c()}function c(){f.each(function(b,c){var f=document.createElement("input"),g=a(c).data("search-facet")||{};g.placeholder=g.placeholder||"",g.inputClass=g.inputClass||"facet-search",g.filterAfter=g.filterAfter||0,g.container=g.container||"",g.containerClass=g.containerClass||"facet-search-container",f.className=g.inputClass,f.placeholder=g.placeholder,f.setAttribute("data-filter-after",g.filterAfter),a(f).on("keydown",d),a(f).on("keyup",e);var h;g.container?(h=document.createElement(g.container),h.className=g.containerClass,a(h).prepend(f),a(c).parent().toggleClass("facet-search-group",!0).prepend(h)):a(c).parent().toggleClass("facet-search-group",!0).prepend(f)})}function d(a){if(13===a.keyCode)return!1}function e(b){var c=a(b.currentTarget),d=c.val(),e=c.data("filter-after");void 0!==e&&""!==e||(e=0);var f=c.parents(".facet-search-group").find(".expandable2").length,h=c.parents(".facet-search-group").find(".sm-show > .showmore"),i=c.parents(".facet-search-group").find(".sm-hide > .showmore");if(f>0&&("none"!==h.parent().css("display")?(c.parents(".facet-search-group").data("list-was-collapsed",!0),h.trigger("click"),c.parents(".facet-search-group").find(".sm-hide > .showmore").parent().hide()):"none"!==i.parent().css("display")&&(c.parents(".facet-search-group").data("list-was-collapsed",!1),c.parents(".facet-search-group").find(".sm-hide > .showmore").parent().hide())),f>0&&""===d){var j=c.parents(".facet-search-group").data("list-was-collapsed");j?i.trigger("click"):c.parents(".expandable2").children('li:not(".sm"):gt(7)').length>0&&c.parents(".facet-search-group").find(".sm-hide > .showmore").parent().show(0)}c.parents(".facet-search-group").find(g).each(function(b,c){var f=a(c).text().trim(),g=f.toLowerCase().indexOf(d.toLowerCase());if(d.length<=e)return void a(c).html(f).parents("li").toggleClass("hide",!1);if(g===-1)a(c).html(a(c).text()),a(c).parents("li").toggleClass("hide",!0);else{var h=f.slice(0,g)+"<b>"+f.slice(g,g+d.length)+"</b>"+f.slice(g+d.length);a(c).html(h),a(c).parents("li").toggleClass("hide",!1)}})}var f,g=".facet-text";a(document).ready(b),a(document).on("fee_ajax_page_load",b)}(jQuery),function(a,b){"use strict";MediaSaturn.fullscreenLayer={_elementSelector:"#colorbox.fullscreen-layer",_eventNamespace:"fullscreenLayer",_htmlClass:"state-fullscreen-layer",_attachResizeHandler:function(a){var c=MediaSaturn.fullscreenLayer;b(window).on("resize."+c.eventNamespace,function(){b.colorbox.resize({width:"100%",height:"100%"}),b.isFunction(a)&&a()})},_removeResizeHandler:function(){var a=MediaSaturn.fullscreenLayer;b(window).off("resize."+a.eventNamespace)},_attachCloseHandler:function(){var a=MediaSaturn.fullscreenLayer,c=a._elementSelector+" .js-layer-close",d="click."+a._eventNamespace;b(c).on(d,function(){b.colorbox.close()})},_removeCloseHandler:function(){var a=MediaSaturn.fullscreenLayer;b(a._elementSelector+" js-layer-close").off("click."+a._eventNamespace)},_preventScrolling:function(){var a=MediaSaturn.fullscreenLayer;b("body").on("mousedown."+a.eventNamespace,function(a){if(2===a.which)return!1})},_restoreScrolling:function(){var a=MediaSaturn.fullscreenLayer;b("body").off("mousedown."+a.eventNamespace)},_fullscreenChangeHandler:function(a){document.fullscreenElement?b.colorbox({escKey:!1}):setTimeout(function(){b.colorbox({escKey:!0}),b("#cboxLoadingOverlay, #cboxLoadingGraphic").css({width:"0",height:"0"})},500)},_msFullscreenChangeHandler:function(a){document.msFullscreenElement?b.colorbox({escKey:!1}):setTimeout(function(){b.colorbox({escKey:!0}),b("#cboxLoadingOverlay, #cboxLoadingGraphic").css({width:"0",height:"0"})},500)},open:function(a,c,d,e){var f=MediaSaturn.fullscreenLayer,g=this;b.colorbox({width:"100%",height:"100%",initialWidth:"100%",initialHeight:"100%",className:"fullscreen-layer",opacity:0,escKey:!0,fixed:!0,html:a,closeButton:!1,onOpen:function(){b("html").addClass(f._htmlClass),f._attachResizeHandler(d)},onComplete:function(){f._attachCloseHandler(),f._preventScrolling();var a=document.msFullscreenEnabled,d=document.fullscreenEnabled;if("undefined"!=typeof d?document.addEventListener("fullscreenChange",g._fullscreenChangeHandler):"undefined"!=typeof a&&document.addEventListener("MSFullscreenChange",g._msFullscreenChangeHandler),b.isFunction(c))try{c()}catch(h){}b(document).one("cbox_cleanup",function(){if(b.isFunction(e))try{e()}catch(a){}b("html").removeClass(f._htmlClass),f._removeResizeHandler(),f._removeCloseHandler(),f._restoreScrolling()})},onCleanup:function(){},onClosed:function(){}})}}}(jQuery,jQuery),function(a){a.galleryView={$galleryView:null,$thumbnails:null,state:null,__cache:{data:[],set:function(a,b){this.data.push({url:a,content:b})},get:function(a){var b=null;return $.each(this.data,function(){a===this.url&&(b=this.content)}),b}},retrieveInLayer:function(){var a=this.state;a&&this.openInLayer(a,!1)},setVisibility:function(){var a=$("#colorbox.fullscreen-layer"),b=this.state;b.layerVisible!==!0?a.css("visibility","hidden"):a.css("visibility","visible")},setState:function(a){this.state=a},openInLayer:function(b){this.setState(b),a.fullscreenLayer.open(b.layerHTML,$.proxy(function(){var b=$("#colorbox.fullscreen-layer");this.setVisibility(),a.galleryView.initGallery(b)},this),function(){},function(){a.CliplisterPlayer.destroyStage()})},initGallery:function(b){var c,d,e,f,g,h=this,i=this.state,j=$(".gallery-view--template").html(),k=b.find(".fullscreen-layer-content"),l=Handlebars.compile(j),m=getObjectByName(k.find("[data-product-data]").data("product-data"));f=l(m),k.html(f),this.$galleryView=b.find(".gallery-view"),c=k.find(".thumbs"),this.$thumbnails=c,i.agerating.hideVideo!==!0&&(d=1,e='<li class="video cliplister"><a href="#"><img src="{{ imgSrc }}" width="52" height="41" alt="{{ altText }}"></a></li>',a.CliplisterPlayer.appendThumbnails(c,d,e,i.cliplisterData)),i.mediaIndex=void 0===i.mediaIndex?d:i.mediaIndex,this.setPreview(c.children().eq(i.mediaIndex)),c.on("click","> li",function(a){var b=$(this);h.setPreview(b),a.preventDefault()}),g=b.find(".gv-picture-inner .navigation"),g.on("click",".next, .prev",function(a){var b,d=$(this).is(".next")?"next":"prev",e=c.find("> .active").index(),f=0,g=c.children().length-1;"next"===d?e++:e--,e>g&&(e=f),e<f&&(e=g),b=c.children().eq(e),h.setPreview(b),a.preventDefault()})},setPreview:function(b){var c=this.$thumbnails,d=this.state;d.mediaIndex=b.index(),c.children().removeClass("active"),b.addClass("active"),b.is(".cliplister")?a.galleryView.setCliplisterPreview(b):a.galleryView.setImagePreview(b)},setImagePreview:function(b){var c=this.$galleryView.find(".img-preview"),d=b.find("> a").data("preview"),e=this.$galleryView.find(".preview"),f=this.state;f.layerVisible=!0,this.setVisibility(),a.CliplisterPlayer.isPlaying("cliplister-preview")&&a.CliplisterPlayer.stop("cliplister-preview"),setTimeout(function(){e.removeClass("state-cliplister").addClass("state-image"),e.children().css("visibility","hidden"),c.attr("src",d).css("visibility","visible")},1)},setCliplisterPreview:function(b){var c,d=$("#cliplister-preview"),e=b.data("cliplisterVideoData"),f=this.$galleryView.find(".preview"),g=this.state,h=!0;f.removeClass("state-image").addClass("state-cliplister"),f.children().css("visibility","hidden"),d.css("visibility","visible"),g.agerating.doTest?(c={conditionTrue:$.proxy(function(){g.agerating.doTest=!1,g.layerVisible=!0,0===$("#colorbox").find(".js-gallery-view").length?this.retrieveInLayer():(this.setVisibility(),this.setCliplisterPreview(b))},this),conditionFalse:$.proxy(function(){g.layerVisible=!0,this.setVisibility()},this)},a.agerating.conditionalAction(g.agerating.$product,c,g.agerating.layerUrl,h)):a.CliplisterPlayer.isInitialized("cliplister-preview")?setTimeout(function(){a.CliplisterPlayer.play(e,"cliplister-preview")},1):setTimeout(function(){a.CliplisterPlayer.initPlayer(g.productEan,e,"cliplister-preview")},1)}}}(MediaSaturn),$(document).ready(function(){$(document).on("click",".js-gallery-view-launch",function(a){var b,c=$(this),d=c.data("layer-url"),e={agerating:{}};e.cliplisterData=c.closest(".js-media-cliplister").data("cliplisterItem"),e.productEan=c.closest(".js-media-cliplister").data("ean"),c.closest(".thumbs, .thumbnail-carousel__list").length?e.mediaIndex=c.closest("li").index():c.is(".js-fullscreen-link")&&(e.mediaIndex=c.closest("#product-sidebar").find(".thumbs .active, .thumbnail-carousel__thumbnail.state--active").closest("li").index()),e.agerating.layerUrl=c.data("agerating-url"),e.agerating.hideVideo=c.data("ageratingHideVideo"),e.agerating.doTest=!0,e.agerating.$product=c.closest(".product-wrapper"),0===e.agerating.$product.length&&(e.agerating.$product=c.closest("#product-wrapper")),b=MediaSaturn.galleryView.__cache.get(d),null===b?$.ajax({url:d}).done(function(a){MediaSaturn.galleryView.__cache.set(d,a),e.layerHTML=a,MediaSaturn.galleryView.openInLayer(e)}):(e.layerHTML=b,MediaSaturn.galleryView.openInLayer(e)),a.preventDefault()})}),function(){void 0!==window.mcs&&(window.mcs.showGDPRCookieLayer=function(){function a(){o={cookieName:"MC_GDPR_COOKIE",htmlElements:{btnSubmitSelected:document.querySelector(".gdpr-cookie-layer__btn--submit--selected"),btnSubmitAll:document.querySelector(".gdpr-cookie-layer__btn--submit--all"),btnToggleDetails:document.querySelector(".gdpr-cookie-layer__btn--details"),checkboxMarketing:document.querySelector(".gdpr-cookie-layer__checkboxes__input-group--marketing input"),checkboxStatistical:document.querySelector(".gdpr-cookie-layer__checkboxes__input-group--statistical input"),cookieLayer:document.querySelector(".gdpr-cookie-layer"),detailsSection:document.querySelector(".gdpr-cookie-layer__details-section"),labelMarketing:document.querySelector(".gdpr-cookie-layer__checkboxes__input-group--marketing label"),labelFunctional:document.querySelector(".gdpr-cookie-layer__checkboxes__input-group--functional label"),labelStatistical:document.querySelector(".gdpr-cookie-layer__checkboxes__input-group--statistical label"),paragraphError:document.querySelector(".gdpr-cookie-layer__error"),paragraphErrorMessage:document.querySelector(".gdpr-cookie-layer__error__message"),paragraphInfo:document.querySelector(".gdpr-cookie-layer__info"),sectionDetails:document.querySelector(".gdpr-cookie-layer__details-section")},htmlForDetailsSection:"",urls:{details:"/"+mcs.context.language+"/cms/contentspotGDPR/contentspotGDPR.html",JSON:"/"+mcs.context.language+"/cookielayer.json",wcsCommand:"/webapp/wcs/stores/servlet/MultiChannelSaveCookieGDPRConform"},selectors:{btnArrow:".gdpr-cookie-layer__btn--details span",cookieLayerShow:"gdpr-cookie-layer--show",detailsSectionShow:"gdpr-cookie-layer__details-section--show",paragraphErrorShow:"gdpr-cookie-layer__error--show",showLayerTrigger:"show-gdpr-cookie-layer"}}}function b(){var a='<style>.gdpr-cookie-layer{background-color: #fff; bottom: 0; box-shadow: 1px 1px 10px 0 rgba(0, 0, 0, 0.4); display: none; font: 13px/16px "mm-text-regular", Arial, sans-serif; position: fixed; width: 100%; z-index: 9999;}.gdpr-cookie-layer__container{margin: 16px;}@media (min-width: 708px){.gdpr-cookie-layer__container{max-width: 708px; margin: 16px auto;}}@media (min-width: 955px){.gdpr-cookie-layer__container{max-width: 948px;}}@media (min-width: 1200px){.gdpr-cookie-layer__container{max-width: 1188px;}}.gdpr-cookie-layer--show{display: block;}.gdpr-cookie-layer__error{background-color: red; box-sizing: border-box; color: #fff; display: none; margin-bottom: 10px; padding: 7px 16px; position: relative; width: 100%;}.gdpr-cookie-layer__error--show{display: block;}.gdpr-cookie-layer__error::after{border-left: 12px solid transparent; border-right: 12px solid transparent; border-top: 12px solid #f00; bottom: -11px; content: ""; height: 0; left: 12px; position: absolute; width: 0;}.gdpr-cookie-layer__error__icon{background-color: white; border-radius: 100%; color: red; display: inline-block; font-weight: 900; margin-right: 6px; padding: 0 6px;}.gdpr-cookie-layer__info{margin-bottom: 20px; font-size: 16px; line-height: 19px; padding-right: 10px; max-height: 20vh; overflow-y: overlay;}@media (min-width: 708px){.gdpr-cookie-layer__info{line-height: 24px;}}@media (min-width: 708px){.gdpr-cookie-layer__lower-section{display: flex; justify-content: space-between;}}@media (min-width: 708px){.gdpr-cookie-layer__checkboxes{align-items: center; display: flex;}}.gdpr-cookie-layer__checkboxes__wrapper{display: flex; justify-content: space-between;}.gdpr-cookie-layer__checkboxes__input-group{display: flex; align-items: center;}.gdpr-cookie-layer__checkboxes__input-group:not(:last-child){margin-right: 20px;}.gdpr-cookie-layer__checkboxes__input-group input{margin-right: 6px;}.gdpr-cookie-layer__checkboxes__input-group label{font-size: 14px;}@media (min-width: 708px){.gdpr-cookie-layer__checkboxes__input-group label{font-size: 16px;}}.gdpr-cookie-layer__btn{border-radius: 4px; font-family: "MMTextProWeb-Regular", Arial, sans-serif; font-size: 16px; margin-top: 10px; outline: none; padding: 10px 16px; width: 100%;}@media (min-width: 708px){.gdpr-cookie-layer__btn{margin: 0; width: auto;}}.gdpr-cookie-layer__btn--details{background-color: #fff; border: solid 1px #ddd;}@media (min-width: 708px){.gdpr-cookie-layer__btn--details{margin-left: 20px;}}.gdpr-cookie-layer__btn--details span{border-right: solid 2px #000; border-bottom: solid 2px #000; display: inline-block; height: 6px; margin-left: 8px; position: relative; top: -2px; transform: rotate(45deg); width: 6px;}.gdpr-cookie-layer__btn--details span.open{top: 2px; transform: rotate(-135deg);}.gdpr-cookie-layer__btn--submit{background-color: #000; border: none; color: #fff;}.gdpr-cookie-layer__details-section{border: solid 1px #ddd; color: #333; display: none; font-size: 16px; line-height: 19px; margin-top: 32px; max-height: 20vh; overflow-y: scroll; padding: 10px;}@media (min-width: 708px){.gdpr-cookie-layer__details-section{line-height: 24px; padding: 16px;}}.gdpr-cookie-layer__details-section--show{display: block;}.gdpr-cookie-layer__details-section--show .fg-container{visibility: visible;}.gdpr-cookie-layer__details-section--show .fg-container .fg-box{width: 100%;}</style><div class="gdpr-cookie-layer__container"> <p class="gdpr-cookie-layer__error"> <span class="gdpr-cookie-layer__error__icon">!</span> <span class="gdpr-cookie-layer__error__message"></span> </p><p class="gdpr-cookie-layer__info"></p><div class="gdpr-cookie-layer__lower-section"> <div class="gdpr-cookie-layer__checkboxes"> <div class="gdpr-cookie-layer__checkboxes__wrapper"> <div class="gdpr-cookie-layer__checkboxes__input-group gdpr-cookie-layer__checkboxes__input-group--functional" > <input type="checkbox" name="functional" value="functional" checked disabled/> <label for="functional"></label> </div><div class="gdpr-cookie-layer__checkboxes__input-group gdpr-cookie-layer__checkboxes__input-group--statistical" > <input type="checkbox" name="statistical" value="statistical" id="statistical_id"/> <label for="statistical_id"></label> </div><div class="gdpr-cookie-layer__checkboxes__input-group gdpr-cookie-layer__checkboxes__input-group--marketing" > <input type="checkbox" name="marketing" value="marketing" id="marketing_id"/> <label for="marketing_id"></label> </div></div><button class="gdpr-cookie-layer__btn gdpr-cookie-layer__btn--details" ></button> </div><div class="gdpr-cookie-layer__submit-buttons"> <button class="gdpr-cookie-layer__btn gdpr-cookie-layer__btn--submit gdpr-cookie-layer__btn--submit--selected" ></button> <button class="gdpr-cookie-layer__btn gdpr-cookie-layer__btn--submit gdpr-cookie-layer__btn--submit--all" ></button> </div></div><div class="gdpr-cookie-layer__details-section"></div></div>',b=document.createElement("div");
b.classList.add("gdpr-cookie-layer"),b.innerHTML=a,document.body.appendChild(b)}function c(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===this.readyState&&200===this.status){k(!1);var a=JSON.parse(this.responseText);d(a)}},a.open("GET",o.urls.JSON,!0),a.onerror=k(!0),a.send()}function d(a){var b=new XMLHttpRequest;b.onreadystatechange=function(){4===this.readyState&&200===this.status&&(k(!1),o.htmlForDetailsSection=this.response,e(a))},b.open("GET",o.urls.details,!0),b.onerror=k(!0),b.send()}function e(a){o.htmlElements.paragraphErrorMessage.innerText+=a.errorMessage,o.htmlElements.paragraphInfo.innerHTML=a.layerText,o.htmlElements.labelFunctional.innerText=a.functional,o.htmlElements.labelStatistical.innerText=a.statistical,o.htmlElements.labelMarketing.innerText=a.marketing,o.htmlElements.btnToggleDetails.innerHTML=a.details+"<span></span>",o.htmlElements.btnSubmitSelected.innerHTML=a.buttonSaveAndClose,o.htmlElements.btnSubmitAll.innerHTML=a.buttonAccept,o.htmlElements.sectionDetails.innerHTML=o.htmlForDetailsSection,m()&&f(),g(),h(),m()||j(!0)}function f(){var a=l(m());o.htmlElements.checkboxStatistical.checked=parseInt(a.a),o.htmlElements.checkboxMarketing.checked=parseInt(a.m)}function g(){o.htmlElements.btnSubmitSelected.addEventListener("click",function(){i(!1)}),o.htmlElements.btnSubmitAll.addEventListener("click",function(){i(!0)})}function h(){o.htmlElements.btnToggleDetails.addEventListener("click",function(){o.htmlElements.detailsSection.classList.toggle(o.selectors.detailsSectionShow),document.querySelector(o.selectors.btnArrow).classList.toggle("open"),setTimeout(function(){$(document).trigger("fee.fgrid_refresh")},1e3)})}function i(a){var b=o.htmlElements.checkboxStatistical.checked||a?"1":"0",c=o.htmlElements.checkboxMarketing.checked||a?"1":"0",d="f=1&a="+b+"&m="+c;a&&(o.htmlElements.checkboxStatistical.checked=!0,o.htmlElements.checkboxMarketing.checked=!0);var e=new XMLHttpRequest;e.onreadystatechange=function(){4===this.readyState&&200===this.status&&(k(!1),j(!1))},e.open("GET",o.urls.wcsCommand+"?"+d,!0),e.onerror=k(!0),e.send()}function j(a){return a?!o.htmlElements.cookieLayer.classList.contains(o.selectors.cookieLayerShow)&&o.htmlElements.cookieLayer.classList.add(o.selectors.cookieLayerShow):o.htmlElements.cookieLayer.classList.contains(o.selectors.cookieLayerShow)&&o.htmlElements.cookieLayer.classList.remove(o.selectors.cookieLayerShow)}function k(a){return a?!o.htmlElements.paragraphError.classList.contains(o.selectors.paragraphErrorShow)&&o.htmlElements.paragraphError.classList.add(o.selectors.paragraphErrorShow):o.htmlElements.paragraphError.classList.contains(o.selectors.paragraphErrorShow)&&o.htmlElements.paragraphError.classList.remove(o.selectors.paragraphErrorShow)}function l(a){var b={},c=a.split("|");return c.splice(0,1),c.splice(c.length-1,1),c.forEach(function(a){b[a.split("=")[0]]=a.split("=")[1]}),b}function m(){var a="; "+document.cookie,b=a.split("; "+o.cookieName+"=");return 2===b.length&&b.pop().split(";").shift()}function n(){var a=document.querySelector("[data-tracking='"+o.selectors.showLayerTrigger+"']");a&&a.addEventListener("click",function(a){a.preventDefault(),!o.htmlElements.cookieLayer.classList.contains(o.selectors.cookieLayerShow)&&o.htmlElements.cookieLayer.classList.add(o.selectors.cookieLayerShow)})}var o=null;b(),a(),c(),n()})}(),function(){"use strict";function a(a,b){var c;this.element=a,this.$element=$(a),this.settings=b,c=this.$element.data("__carousel_instance"),c&&c.destroy(),this.preInit(),this.init(),this.postInit(),this.triggerOnInit(),this.$element.data("__carousel_instance",this)}function b(a,b){var c;this.element=a,this.$element=$(a),this.settings=b,c=this.$element.data("__carousel_instance"),c&&c.destroy(),this.preInit(),this.init(),this.postInit(),this.triggerOnInit(),this.$element.data("__carousel_instance",this)}function c(){}($("html").hasClass("ie8")||$("html").hasClass("lt-ie8"))&&(IScroll.utils.addEvent=function(){},IScroll.utils.removeEvent=function(){}),a.prototype={constructor:a,element:void 0,settings:void 0,carousel:void 0,metrics:void 0,$items:void 0,preInit:function(){this.retrieveItems(),this.retrieveMetrics(),this.adjustElements()},init:function(){var a,b=this.element;a=new IScroll(b,{snap:this.settings.snap,momentum:!1,scrollX:!0,disableMouse:!0,scrollbars:!1,eventPassthrough:!0}),this.carousel=a},postInit:function(){var a=this.$element,b=this.carousel;this.attachEventHandlers(),a.addClass(this.settings.initializedClass),b.goToPage(0,0,0)},triggerOnInit:function(){var a=this.settings.onInit;a&&setTimeout(function(){a()},0)},attachEventHandlers:function(){function a(){c.__isSinglePage?c.singlePage&&c.singlePage():0===d.currentPage.pageX?c.firstPage&&c.firstPage():d.currentPage.pageX===d.pages.length-1?c.lastPage&&c.lastPage():c.innerPage&&c.innerPage()}var b,c=this.settings,d=this.carousel,e=$(this.element);d.on("scrollStart",$.proxy(function(){b=d.currentPage.pageX,e.find(".products-grid").addClass("no-hover"),c.scrollStart&&c.scrollStart()},this)),d.on("scrollEnd",$.proxy(function(){e.find(".products-grid").removeClass("no-hover"),d.currentPage.pageX>b&&c.scrollNext&&c.scrollNext(),d.currentPage.pageX<b&&c.scrollPrev&&c.scrollPrev(),c.scrollEnd&&c.scrollEnd(),a()},this)),a()},retrieveMetrics:function(){var a,b=$(this.element),c=this.settings,d=this.$items,e={};a=d.first(),a&&(e.itemWidth=a.outerWidth(!0)),e.containerWidth=b.width(),e.itemsPerPage=Math.floor(e.containerWidth/e.itemWidth),this.metrics=e,c.__isSinglePage=e.itemsPerPage>=d.length},retrieveItems:function(){var a,b=this.$element,c=this.settings;a=b.find(c.itemSelector),this.$items=a},adjustElements:function(){var a,b,c=this.metrics,d=this.settings,e=this.$items;for(b=parseInt(this.$element.css("marginLeft"),10),d.__isSinglePage?e.parent().css("width",c.itemWidth*c.itemsPerPage-b):e.parent().css("width",c.itemWidth*e.length-b),a=0;a<e.length;a++)a%c.itemsPerPage===0&&a<e.length-c.itemsPerPage&&e.eq(a).addClass("page");d.__isSinglePage?e.eq(0).addClass("page"):e.eq(-c.itemsPerPage).addClass("page")},getPageIndices:function(a){var b,c,d,e=this.$items,f=this.metrics;return b=e.filter(".page").eq(a),c=e.index(b),d=c+f.itemsPerPage-1,{first:c,last:d}},getLength:function(){return this.carousel.pages.length},getCurrentPage:function(){return this.carousel.currentPage.pageX},getCurrentIndices:function(){var a=this.carousel.currentPage.pageX;return this.getPageIndices(a)},getNextIndices:function(){var a,b=this.carousel.currentPage.pageX,c=this.carousel.pages.length-1;return a=b+1,!(a>c)&&this.getPageIndices(a)},getPrevIndices:function(){var a,b=this.carousel.currentPage.pageX,c=0;return a=b-1,!(a<c)&&this.getPageIndices(a)},prev:function(){var a=this.carousel;a._execEvent("scrollStart"),a.prev()},next:function(){var a=this.carousel;a._execEvent("scrollStart"),a.next()},goToPage:function(a,b){var c=this.carousel;a>=0&&a<=c.pages.length-1&&(b&&b.animate?c.goToPage(a,0):c.goToPage(a,0,0)),b&&(0===a&&b.firstPage&&b.firstPage(),a===c.pages.length-1&&b.lastPage&&b.lastPage())},destroy:function(){var a=this.$items,b=this.carousel,c=this.$element,d=this.settings;b.off("scrollStart"),b.off("scrollEnd"),b.destroy(),a.parent().attr("style",""),a.removeClass("page"),c.removeClass(d.initializedClass)},refresh:function(a){var b=this;this.destroy(),setTimeout(function(){b.preInit(),b.init(),b.postInit(),a&&a()},100)},on:function(){this.carousel.on.apply(this.carousel,Array.prototype.slice.call(arguments))}};var d=function(){};d.prototype=a.prototype,b.prototype=new d,b.prototype.__super=a.prototype,b.prototype.constructor=b,$.extend(b.prototype,{constructor:b,preInit:function(){var a;this.__super.preInit.call(this),a=this.settings,a.__isSinglePage!==!0&&(this.preInitCircular(),this.__super.retrieveMetrics.call(this))},postInit:function(){var a=this.settings,b=this.$element,c=this.carousel;a.__isSinglePage?(b.addClass(this.settings.initializedClass),c.goToPage(0,0,0)):this.postInitCircular(),this.__super.attachEventHandlers.call(this)},preInitCircular:function(){var a,b,c,d=this.metrics,e=this.$items,f=e.parent(),g=[],h=[];for(a=0;a<d.itemsPerPage;a++)b=e.eq(a).clone(),h.push(b.addClass("cloned")),g.push(e.eq(e.length-d.itemsPerPage+a).clone().addClass("cloned"));for(a=0;a<d.itemsPerPage;a++)f.prepend(g[g.length-1-a]),f.append(h[a]);e=f.children(),e.filter(".cloned").removeClass("page"),e.eq(0).addClass("page"),e.eq(-h.length).addClass("page"),this.$items=e,this.$originalItems=e.not(".cloned"),c=parseInt(this.$element.css("marginLeft"),10),e.parent().css("width",d.itemWidth*e.length-c)},postInitCircular:function(){function a(){b.currentPage.pageX===b.pages.length-1&&b.goToPage(1,0,0),0===b.currentPage.pageX&&b.goToPage(b.pages.length-2,0,0)}var b=this.carousel,c=this.$element;c.addClass(this.settings.initializedClass),b.goToPage(1,0,0),b.on("scrollEnd",a)},getLength:function(){return this.settings.__isSinglePage?this.carousel.pages.length:this.carousel.pages.length-2},getCurrentPage:function(){return this.settings.__isSinglePage?this.carousel.currentPage.pageX:this.carousel.currentPage.pageX-1},getCurrentIndices:function(){var a,b=this.settings;return a=this.__super.getCurrentIndices.call(this),b.__isSinglePage!==!0&&this.adjustIndices(a),a},getNextIndices:function(){var a,b=this.settings;return a=this.__super.getNextIndices.call(this),b.__isSinglePage!==!0&&a!==!1&&this.adjustIndices(a),a},getPrevIndices:function(){var a,b=this.settings;return a=this.__super.getPrevIndices.call(this),b.__isSinglePage!==!0&&a!==!1&&this.adjustIndices(a),a},adjustIndices:function(a){var b=this.$originalItems,c=this.metrics;return a.first-=c.itemsPerPage,a.last-=c.itemsPerPage,a.first>b.length-1&&(a.first=0,a.last=c.itemsPerPage-1),a.first<0&&(a.first=b.length-c.itemsPerPage,a.last=b.length-1),a},goToPage:function(a,b){var c=this.settings,d=this.carousel,e=this.getLength(),f=d.pages.length,g=a,h=c.__isSinglePage?g:g+1;h>=0&&h<=f-1&&(b&&b.animate?d.goToPage(h,0):d.goToPage(h,0,0)),b&&(0===g&&b.firstPage&&b.firstPage(),g===e-1&&b.lastPage&&b.lastPage())},destroy:function(){var a=this.$items;a.remove(".cloned"),this.__super.destroy.call(this)},refresh:function(a){var b=this.$items;b.remove(".cloned"),this.__super.refresh.call(this,a)}}),c.prototype={defaults:{circular:!1,itemSelector:"> ul > li",snap:"li.page",initializedClass:"gc-initialized",scrollStart:void 0,scrollEnd:void 0,scrollNext:void 0,scrollPrev:void 0,firstPage:void 0,lastPage:void 0,innerPage:void 0,singlePage:void 0,onInit:void 0},carouselClass:a,createCarousel:function(a,c){var d=$.extend({},this.defaults,c);return d.circular&&(this.carouselClass=b),new this.carouselClass(a,d)}},MediaSaturn.carouselFactory=new c}(),function(a,b){"use strict";MediaSaturn.PhotosCarousel={_selector:".photos-carousel",_lazyloadSettings:{failure_limit:200},init:function(){var a=b(this._selector);return 0!==a.length&&void a.each(b.proxy(this.initCarousel,this))},initCarousel:function(a,c){var d=b(c);if(d.data("initialized")===!0)return!1;var e="undefined"==typeof d.data("arrows")||d.data("arrows"),f="undefined"!=typeof d.data("autorotate")&&d.data("autorotate"),g="undefined"!=typeof d.data("autowidth")&&d.data("autowidth"),h="undefined"!=typeof d.data("smoothscroll")&&d.data("smoothscroll"),i=d.find(".photos > li").length>4&&"circular";if(h){var j={list:".photos",transitions:!!Modernizr.cssanimations&&{transforms:!0,transforms3d:!0,easing:"linear"},wrap:i,vertical:!1,rtl:!1,center:!1,animation:{duration:5e3,easing:"linear"}};d.jcarousel(j),d.find("img[data-original]").lazyload(this._lazyloadSettings)}else{var k={list:".photos",transitions:!!Modernizr.cssanimations&&{transforms:!0,transforms3d:!0,easing:"easeIn"},wrap:i,vertical:!1,rtl:!1,center:!1};d.jcarousel(k),d.find("img[data-original]").lazyload(this._lazyloadSettings)}if(d.data("initialized",!0),f!==!1){var l;l="left"===f?"+=1":"-=1";var m="undefined"!=typeof d.data("autorotate-delay")?d.data("autorotate-delay"):1500;h?(d.jcarouselAutoscroll({interval:1,target:l,autostart:!0}),d.on("mouseenter",function(){d.jcarouselAutoscroll("stop")}),d.on("mouseleave",function(){d.jcarouselAutoscroll("start")})):(d.jcarouselAutoscroll({interval:m,target:l,autostart:!0}),d.on("mouseenter",function(){d.jcarouselAutoscroll("stop")}),d.on("mouseleave",function(){d.jcarouselAutoscroll("start")}))}if(e&&h!==!0){d.append('<div class="prev jcarousel-control-prev"></div><div class="next jcarousel-control-next"></div>');var n=d.find(".jcarousel-control-prev");n.on("jcarouselcontrol:active",function(){b(this).removeClass("inactive")}).on("jcarouselcontrol:inactive",function(){b(this).addClass("inactive")}).jcarouselControl({target:"-=1",carousel:d});var o=d.find(".jcarousel-control-next");o.on("jcarouselcontrol:active",function(){b(this).removeClass("inactive")}).on("jcarouselcontrol:inactive",function(){b(this).addClass("inactive")}).jcarouselControl({target:"+=1",carousel:d});var p,q;Modernizr.touchevents&&(p=d[0],q=new Hammer.Manager(p,{recognizers:[[Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL}]]}),q.on("swipe",function(a){a.direction===Hammer.DIRECTION_LEFT&&d.jcarousel("scroll","+=1"),a.direction===Hammer.DIRECTION_RIGHT&&d.jcarousel("scroll","-=1")})),d.on("jcarousel:animateend",function(){d.find("img[data-original]").lazyload(this._lazyloadSettings)})}g&&d.find("li > a").addClass("fluid"),b(window).on("load",this.fixHeights),d.on("jcarousel:fullyvisiblein","li",function(){setTimeout(function(){b(document).trigger("gtm_impressions_refresh")},700)})},fixHeights:function(){var a=b(".photos-carousel");a.each(function(a,c){var d=b(c).find("li > a"),e=d.map(function(){return b(this).height()}),f=Math.max.apply(null,e);d.css("height",f+"px")})}},MediaSaturn.ModalGallery={_selector:".photos-carousel",init:function(){var a=b(this._selector);a.each(b.proxy(this.initGallery,this))},initGallery:function(a,c){var d=b(c),e="undefined"==typeof d.data("zoom")||d.data("zoom");if(e&&d.find(".photos li > a").each(function(c,d){var e=b(d).find("figure");if(0===e.length&&(b(d).wrapInner("<figure></figure>"),e=b(this).find("figure")),b(d).on("mouseenter",function(){var a=e.find("img").outerHeight(),b=e.find("img").outerWidth();e.append('<span class="ov"><span></span></span>'),e.find(".ov").height(a).width(b).fadeIn(300)}),b(d).on("mouseleave",function(){e.find(".ov").fadeOut(400).delay(400).remove()}),!b(d).attr("title")){var f=b(d).find("figcaption").html();b(d).attr("title",f)}b(d).colorbox({rel:"gal"+(a+1),photo:!0,current:"",onLoad:function(){b('<span class="loading small ontop"><span></span></span>').appendTo("#cboxContent"),b("#cboxContent").addClass("cbox-photo-wrapper")},onComplete:function(){b("#cboxContent .loading").remove(),b("#cboxTitle").wrapInner("<div />"),b("#cboxClose").show()}})}),d.find("figcaption").length>0){var f=d.find("figcaption").outerHeight()*-1;d.find(".next, .prev").css("margin-top",f+"px")}}},b(document).ready(function(){MediaSaturn.PhotosCarousel.init(),MediaSaturn.ModalGallery.init()})}(window,jQuery),function(a){var b={settings:{source:null,close_text:null,width:742,height:200,params_match:/layer=/},init:function(c){var d=a("meta[property=layer-source]");b.settings.source=d.prop("content"),b.settings.close_text=d.data("close-text");var e=0;a(document).on("click","[data-layer]",b.layerOnClick),a(document).on("click",".layer-close",b.closeLayer),a(document).on("cbox_complete",function(){a("#cboxContent").find(".layer-close").length>0&&a("#cboxClose").hide(),""===a("#cboxTitle").html()&&a("#cboxTitle").remove(),e=0}),a(document).on("fee_fgcontainer_updated","#colorbox .fg-container",function(b){var c=!1;e>1?c=!0:e++,c&&a.colorbox.customPreventReposition(!0),a.colorbox.resize(),c&&a.colorbox.customPreventReposition(!1)}),a.colorbox.settings.close=b.settings.close_text,a.colorbox.settings.transition="none",a.colorbox.settings.reposition=!0,a.colorbox.settings.initialWidth=b.settings.width,a.colorbox.settings.initialHeight=b.settings.height,a.infoLayers.cacheLayer({name:"default-404",data:{title:"Information not found",content:'<div class="static"><p>We\'re sorry but the layer could not be loaded at this moment.</p></div>'}})},layerOnClick:function(c){var d,e;c.preventDefault(),c.stopPropagation(),d=a(this);var f=d.data("before-load");"undefined"!=typeof f&&""!==f&&executeFunctionByName(f,window,d),a(document).trigger("infolayer_loading"),e=d.data("url"),b.getLayer({url:e,name:d.data("layer"),cache:d.data("cache"),before_load:d.data("before-load"),after_load:d.data("after-load"),item:d,splashscreen:!1})},getLayer:function(c){var d,e,f,g=!1;if("undefined"!=typeof c.url&&c.url.indexOf("#")>-1){var h=c.url.split("#");"undefined"!=typeof h[1]&&(f=h[1])}if("undefined"!=typeof c.splashscreen&&(g=c.splashscreen),d=a(document).data("layer-"+c.name),"undefined"!=typeof d){if(b.applyLayer(d,g),b.scrollLayer(f),"undefined"!=typeof c.after_load&&""!==c.after_load)try{executeFunctionByName(c.after_load,window,c.item,a("#info-layer")),a.colorbox.resize(),a(document).trigger("fee.fgrid_refresh")}catch(i){}a(document).trigger("infolayer_loaded")}else b.showLoading(g),e=b.settings.source,"undefined"!=typeof c.url&&("?"===c.url[0]||"#"===c.url[0]?e.indexOf("?")>-1?e=e+"&"+c.url.slice(1,c.url.length):e+=c.url:e=c.url),a.ajax({dataType:"jsonp",url:e,data:{layer:c.name}}).done(function(d){if(c.cache!==!1&&a.infoLayers.cacheLayer({name:c.name,content:d.content}),b.applyLayer(d.content,g),b.scrollLayer(f),"undefined"!=typeof c.after_load&&""!==c.after_load)try{executeFunctionByName(c.after_load,window,c.item,a("#info-layer")),a.colorbox.resize(),a(document).trigger("fee.fgrid_refresh")}catch(e){}a(document).trigger("infolayer_loaded")}).fail(function(b){a.infoLayers.showFromCache({name:"404"})})},showLoading:function(c){var d='<div id="info-layer" class="info-window"><div class="layer-loading"></div></div>',e=!1;c&&(e="splashscreen"),a.colorbox({html:d,transition:"none",overlayClose:!0,escKey:!0,reposition:!0,fixed:b.hasPositionFixed(),initialWidth:b.settings.width,initialHeight:b.settings.height,className:e})},applyLayer:function(c,d){var e;if(0===a("#info-layer").length){a.colorbox.remove();var f='<div id="info-layer" class="info-window">'+c+"</div>",g=!1;e=b.settings.width,d&&(g="splashscreen"),a.colorbox({html:f,transition:"none",overlayClose:!0,escKey:!0,reposition:!0,fixed:b.hasPositionFixed(),initialWidth:b.settings.width,initialHeight:b.settings.height,className:g,onComplete:function(){var b=a("#info-layer");d&&!b.find(".fg-container").length&&(e=b.find(".layer-content").children(":first-child").width(),a.colorbox.resize({width:e})),a(document).trigger("fee.fgrid_refresh"),a.colorbox.resize()}})}else{var h=a("#info-layer");h.html(c),d&&!h.find(".fg-container").length&&(e=h.find(".layer-content").children(":first-child").width()),a(document).trigger("fee.fgrid_refresh"),a.colorbox.resize({width:e})}window.setTimeout(function(){a.colorbox.resize()},350)},scrollLayer:function(b){"undefined"!=typeof b&&null!==b?window.setTimeout(function(){if(null!==b){var c=a(document.getElementById(b.replace("#","")));0===c.length?c=a("#info-layer .layer-content").find('a[name="'+b+'"]'):(a("#info-layer .layer-content").scrollTo(c,300),c.addClass("info-layer-anchor-highlight")),a("#info-layer .layer-content").localScroll({target:a("#info-layer .layer-content"),duration:300})}},300):a("#info-layer .layer-content").localScroll({target:a("#info-layer .layer-content"),duration:300})},closeLayer:function(b){b.preventDefault(),a.colorbox.close()},hasPositionFixed:function(){return!a.infoLayers.isIos()}};a.infoLayers={init:function(){b.init()},showLayer:function(){b.getLayer.apply(this,arguments)},cacheLayer:function(b){var c;if(b instanceof Array)for(c=0;c<b.length;c++)a(document).data("layer-"+b[c].name,b[c].content);else b instanceof Object&&a(document).data("layer-"+b.name,b.content)},showFromCache:function(c){var d=a(document).data("layer-"+c.name);"undefined"!=typeof d?(b.applyLayer(d),b.scrollLayer(c.anchor)):a.infoLayers.showLayerFromCache({name:"default-404"})},showFromHtml:function(a){b.showLoading(),b.applyLayer(a.content),b.scrollLayer(a.anchor)},isIos:function(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)}},jQuery(document).ready(function(a){a.infoLayers.init()})}(jQuery),function(a,b){function c(){var a,b,c,d,e;a=$('meta[property="js-layer-leavebasket"]'),b=a.attr("data-name"),c=a.attr("content"),d=a.attr("data-param"),e={dataType:"jsonp",url:c,data:{}},e.data[d]=b,$.ajax(e).done(function(a){$.infoLayers.showFromHtml({name:a.name,content:a.content})})}$(document).ready(function(){$('meta[property="js-layer-leavebasket"]').length>0&&a.subscribe(c)})}(MediaSaturn.PageLeaveObserver,jQuery),marketsListGlobal=void 0,function(a){"use strict";function b(a,b,c,d,e,f){this.$element=a,this.marketsList=b,this.prefill=c,this.mediator=d,this.owner=e,this.callbackOnOpenDeliveryName=f,this._init()}function c(a,b,c,d,e,f,g){this.$element=a,this.mediator=f,this.marketsList=b,this.onSelectMarket=c,this.onMapToggle=d,this.onMapToggleProgress=e,this.owner=g,this._init()}function d(a,b,c){this.$element=a,this.mediator=c,b&&(this.onMessageToggle=b),this._init()}b.prototype={constructor:b,$element:void 0,owner:void 0,mediator:void 0,$enterZipInput:void 0,$form:void 0,$checkExpressButton:void 0,marketsList:void 0,callbackOnOpenDeliveryName:void 0,_init:function(){var a,b=this.$element;a=void 0!==this.prefill?this.prefill:this.marketsList.prefill,this.$enterZipInput=b.find(".js-enter-zip"),this.$enterZipInput.val(a),this.$checkExpressButton=b.find(".js-check-express"),this.$form=b.find(".js-zip-form"),this._attachHandlers()},_attachHandlers:function(){function a(a){return a.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{}\[\]\\\/]/g," ")}function b(){var a=c.val();a=a.replace(/\s+/,""),""===a?e.prop("disabled",!0).addClass("disabled"):e.prop("disabled",!1).removeClass("disabled")}var c=this.$enterZipInput,d=this.$form,e=this.$checkExpressButton,f=this.mediator,g=this.callbackOnOpenDeliveryName;f.subscribe("obtain_location",function(a,b){c.val(a).trigger("keyup")}),f.subscribe("check_express_zipcode_detected",g),d.on("submit",function(b){var e=a(c.val());b.preventDefault(),d.valid&&!d.valid()||(f.publish("new_search"),f.publish("search_market",e))}),e.on("click",function(b){var d=a(c.val());f.publish("new_search"),f.publish("check_express",d)}),b(),c.on("keyup input change propertychange",b)}},c.prototype={constructor:c,$element:void 0,$mapWrapper:void 0,$obtainLocation:void 0,mapWrapperHeight:void 0,mediator:void 0,marketsList:void 0,infoWindowTemplate:void 0,map:void 0,isVisible:!1,_init:function(){function b(a){"ZERO_RESULTS"===a?j.publish("geocoding_error","NO_RESULTS"):j.publish("geocoding_error","GENERAL")}var c=this.$element,d=c.find(".js-map"),e=this.marketsList,f=this.onSelectMarket,g=this.owner.settings.countryCode,h=this.owner.settings.detailedMarkersThreshold,i=this.owner.settings.closestMarketsThreshold,j=this.mediator;this.$mapWrapper=c.find(".js-map-wrapper"),this.$obtainLocation=c.find(".js-obtain-location"),this.mapWrapperHeight=d.height(),this.owner.marketsMap=new a(d,e,f,b,g,h,i),this._attachHandlers()},_attachHandlers:function(){function a(a){d.isLoaded()?d.setActiveMarket(a):d.setActiveMarket(a).then(function(){f.isVisible||f.showMap(),d.load()})}function b(a){d.getActiveMarket(a).then(function(b){return void 0!==b&&void d._geocode(a).then(function(a,e){d._geocodeReverse(a).then(function(a){c.publish("check_express_zipcode_detected",b,a)})})})}var c=this.mediator,d=this.owner.marketsMap,e=this.$obtainLocation,f=this;c.subscribe("search_market",a),c.subscribe("check_express",b),e.on("click",function(){function a(a){var b;b=new google.maps.LatLng(a.latitude,a.longitude),d.setActiveMarket(b)}MediaSaturn.LocationService.getInstance().findMyLocation().then(a)})},showMap:function(){var a=this.$element,b=this.$mapWrapper,c=this.mapWrapperHeight,d=this.onMapToggle,e=this.onMapToggleProgress,f=this;a.addClass("state-visible"),b.animate({height:c},{progress:function(){e&&e()},complete:function(){f.isVisible=!0,d&&d()}})}},d.prototype={constructor:d,$element:void 0,mediator:void 0,messages:void 0,onMessageToggle:$.noop,_init:function(){var a=this.$element;this.messages=a.data(),this._attachHandlers()},_attachHandlers:function(){function a(a){var b,d=$("<span></span>");b="NO_RESULTS"===a?c.errorNoResults:c.errorGeneral,d.html(b).addClass(a.toLowerCase()),e.append(d).addClass("state-visible"),f()}function b(){e.empty().removeClass("state-visible"),f()}var c=this.messages,d=this.mediator,e=this.$element,f=this.onMessageToggle;d.subscribe("geocoding_error",a),d.subscribe("new_search",b)}},MediaSaturn.MarketSelector=function(a){this.$element=a.$element,this.marketsListUrl=a.marketsListUrl,this.zipCityPrefill=a.zipCityPrefill,this.onSelectMarketEnabled=a.onSelectMarketEnabled,this.onSelectMarket=a.onSelectMarket,this.onSectionToggle=a.onSectionToggle,this.onSectionToggleProgress=a.onSectionToggleProgress,this.deliveryMatrixUrl=a.deliveryMatrixUrl,this.callbackOnOpenDeliveryName=a.callbackOnOpenDeliveryName,this.callbackOnCloseDeliveryName=a.callbackOnCloseDeliveryName,this.marketIdParam=a.marketIdParam,this.zipcodeParam=a.zipcodeParam,this._init()},MediaSaturn.MarketSelector.prototype={constructor:MediaSaturn.MarketSelector,$element:void 0,mediator:void 0,sectionZip:void 0,sectionMessages:void 0,sectionMarketsMap:void 0,marketsMap:void 0,settings:void 0,$form:void 0,onSelectMarketEnabled:void 0,onSelectMarket:void 0,deliveryMatrixUrl:void 0,callbackOnOpenDeliveryName:void 0,callbackOnCloseDeliveryName:void 0,marketIdParam:void 0,zipcodeParam:void 0,_init:function(){function a(a,b){var c={href:r,"markets-list":l,"callback-on-close":t,"param-market-change":u},d=$("<a>").data(c);MediaSaturn.DeliveryTableLayer.open({$link:d,marketId:a}),executeFunctionByName(s,window,a,b)}function e(b,c){p?q&&q(b,c):a(b,c)}var f,g,h=this.$element,i=h.find(".marketsel-zip"),j=h.find(".marketsel-markets-map"),k=h.find(".marketsel-messages"),l=this.marketsListUrl,m=this.zipCityPrefill,n=this.onSectionToggle,o=this.onSectionToggleProgress,p=this.onSelectMarketEnabled,q=this.onSelectMarket,r=this.deliveryMatrixUrl,s=this.callbackOnOpenDeliveryName,t=this.callbackOnCloseDeliveryName,u=this.marketIdParam,v=this;this.mediator=new MediaSaturn.GenericMediator,this.settings=MediaSaturn.marketSelectorSettings,f=$.Deferred(),$.getJSON(l).done(function(a){f.resolve(a)}),g=MediaSaturn.GoogleMapsLoader.getInstance().load(),$.when(f,g).done(function(f){marketsListGlobal=f,v.sectionZip=new b(i,f,m,v.mediator,v,a),v.sectionMartketsMap=new c(j,f,e,n,o,v.mediator,v),v.sectionMessages=new d(k,o,v.mediator)})}},MediaSaturn.MarketSelectorLayer={open:function(a){function b(a,b){"undefined"!=typeof j&&""!==j&&executeFunctionByName(j,window,a,b),e&&e(a,b)}function c(){$.colorbox.resize()}var d=a.$link,e=a.callback,f=d.data("markets-list"),g=d.data("zip-city-prefill"),h=d.data("href"),i=d.data("delivery-matrix-url"),j=d.data("callback-on-select"),k=d.data("callback-on-open-delivery"),l=d.data("callback-on-close-delivery"),m=d.data("on-select-enabled"),n=d.data("marketid-param");$.colorbox({href:h,className:"marketsel-layer",onComplete:function(){var a=$("#colorbox").find(".marketsel");new MediaSaturn.MarketSelector({$element:a,marketsListUrl:f,zipCityPrefill:g,onSelectMarketEnabled:m,onSelectMarket:b,onSectionToggleProgress:c,deliveryMatrixUrl:i,callbackOnOpenDeliveryName:k,callbackOnCloseDeliveryName:l,marketIdParam:n}),$(window).on("resize.marketsel",function(){var a=$("#colorbox").find(".js-marketsel-layer-content").outerWidth();$.colorbox.resize({width:a})}),$("#marketsel-enter-zip").focus()},onClosed:function(){$(window).off("resize.marketsel")}})}}}(MediaSaturn.MarketsMap),$(document).ready(function(){$(document).on("click",".marketsel-open",function(a){var b=$(this);a.preventDefault(),$(".has-active-tooltip").trigger("mouseleave"),MediaSaturn.MarketSelectorLayer.open({$link:b})})}),function(a){"use strict";var b={settings:{},init:function(c){return a(this).each(b.initialize),this},initialize:function(){var c=a(this),d={container:c.find(".products-carousel"),initial_list_name:"fee_product_container_initial_list_"+(new Date).getTime(),links:c.find(".accessories-list a")};d.links.on("click",b.filterForCategory),c.data("productAccessories",d),a(c).waypoint({triggerOnce:!0,offset:"120%",handler:b.showDefault})},showDefault:function(){var c,d=a(this),e=d.data("productAccessories"),f=[];if("undefined"!=typeof d.data("products"))c=getObjectByName(d.data("products")),f=b.getMixedList(c,a()),window[e.initial_list_name]=f,e.container.data("products",e.initial_list_name);else{var g=e.links.filter(".js-all");g.addClass("active"),c=getObjectByName(g.data("products"));var h=e.links.not(".js-all");f=b.getMixedList(c,h),window[e.initial_list_name]=f,e.container.data("products",e.initial_list_name)}b.updateProductContainer(d)},getMixedList:function(b,c){var d=[];c.each(function(b,c){var e=getObjectByName(a(c).data("products"));e[0]&&d.push(e[0])});for(var e=d.length,f=0;f<b.length;f++){for(var g=!1,h=0;h<e;h++)b[f].id===d[h].id&&(g=!0);g===!1&&d.push(b[f])}return d},filterForCategory:function(c){c.preventDefault();var d=a(this),e=d.parents(".product-accessories"),f=e.data("productAccessories");return!d.hasClass("active")&&(f.links.filter(".active").removeClass("active"),d.addClass("active"),d.hasClass("js-all")?f.container.data("products",f.initial_list_name):f.container.data("products",d.data("products")),f.container.html(""),void b.updateProductContainer(e))},updateProductContainer:function(a){a.productContainer("destroy"),setTimeout(function(){a.addClass("product-container").productContainer()},1)}};a.fn.productAccessories=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not exist on jQuery.productAccessories"):b.init.apply(this,arguments)},a(document).on("cbox_complete fee_ajax_page_refresh",function(){a(".product-accessories:not(.product-container)").productAccessories()})}(jQuery),function(a,b,c){"use strict";function d(a){var b,c,d,j,k,m=a.$element,n=a.action;k={$element:m,action:n,timeout:null},b=e(f,k),c=e(g,k),d=e(h,k),j=e(i,k),m.on("change","select",b),m.find(l).on({click:c,mouseenter:d,mouseleave:j})}function e(a){var b=Array.prototype.slice.call(arguments,1);return function(c){var d=[c].concat(b);return a.apply(this,d)}}function f(a,b){var d=c(a.target),e=d.find("option:selected");b.$element.addClass(m),b.action(e.data("action-id"))}function g(a,b){a.preventDefault();var d=c(this);return!d.hasClass("product-attributes__color-item--active")&&(b.$element.addClass(m),void b.action(d.data("action-id")))}function h(a,d){var e=c(this),f=e.data("value");d.$element.find(k).empty(),e.closest(j).find(k).html(f),b.clearTimeout(d.timeout)}function i(a,d){var e=c(this);b.clearTimeout(d.timeout),d.timeout=b.setTimeout(function(){e.closest(j).find(k).html("")},3e3)}var j=".product-attributes__group--colors",k=".product-attributes__group-label-value",l=".product-attributes__color-item",m="product-attributes--is-loading";a.ProductAttributes=function(a){d(a)}}(MediaSaturn,window,jQuery),function(a){"use strict";function b(b){this.element=a(b),this.init()}var c={};b.prototype={element:void 0,carousel:void 0,wrapper:void 0,products:void 0,settings:void 0,state:void 0,ul:void 0,init:function(){var a,b,c=this.element,d={circular:!0,is_static:!0,is_horizontal:!0,reco:!1,bundle_widget_support:!1};return!(c.parents(".is-loading-personalization").length>0)&&(0===c.find(".products-carousel li").length&&0===c.find(".products-vertical-list li").length&&(d.is_static=!1),c.hasClass("product-container-vertical")&&(d.is_horizontal=!1),a=d.is_horizontal?c.find(".products-carousel"):c.find(".products-vertical-list"),d.circular="undefined"==typeof a.data("circular")||a.data("circular"),c.closest(".bundle-widget-support").length&&(d.bundle_widget_support=!0),this.settings=d,this.wrapper=a,
b={initialized:!1},this.state=b,this.setupHtmlContainerByType(),void(d.is_static?(this.setupProducts(),this.initUI()):this.setupEmptyProducts()))},setupHtmlContainerByType:function(){var b,c,d,e=this.element,f=this.wrapper,g=this.settings;g.is_horizontal?(g.is_static?(b=e.find("ul"),b.wrap('<div class="pc-wrapper"></div>'),e.addClass("static-container")):(b=a('<ul class="products-grid"></ul>'),f.append(b),b.wrap('<div class="pc-wrapper"></div>'),g.bundle_widget_support&&MediaSaturn.modules.require("bundle",function(a,c,d){MediaSaturn.BundleWidgetManager.getInstance().addContainer(b.get(0),b.closest(".bundle-widget-support").data("accessory-bundle-id"))})),c=a('<div class="prev"></div>'),d=a('<div class="next"></div>'),e.find("> .prev, > .next").remove(),e.append(c).append(d),c.hide(),d.hide()):g.is_static?b=e.find("ul"):(b=a("<ul></ul>"),f.append(b)),g.is_horizontal&&f.parents("#product-sidebar").length>0&&"b"===MediaSaturn.mediaQuery.getScreenSize()&&f.addClass("no-hover"),this.ul=b},setupProducts:function(){var a,b=this.element;a=b.find("li"),this.products=a},setupEmptyProducts:function(){var a,b=this.wrapper;a=getObjectByName(b.data("products")),this.products=a,"undefined"!=typeof a[0]&&"undefined"!=typeof a[0].type?(this.settings.reco=!0,this.handleRecommendationBox()):this.handleRegularContainer()},handleRecommendationBox:function(){var a=this.products,b=this.element;c.__pc_recos.push(a),c.__pc_defer.push({ids:a,instance:this}),b.addClass("recommendation-box")},handleRegularContainer:function(){var a=this.products;this.element;c.__pc_defer.push({ids:a,instance:this}),this.initEmptyItems()},initEmptyItems:function(b){var c="",d=this.ul;b?this.products=b:b=this.products,"undefined"!=typeof b&&a.each(b,function(a,b){c+='<li data-id="'+b.id+'"></li>'}),d.html(c)},initUI:function(){var a=this.settings;a.is_horizontal?this.initCarousel():this.initVerticalContainer()},hideEmpty:function(){this.element.addClass("hide"),a(document).trigger("fee.fgrid_refresh")},initCarousel:function(){function b(){var b;n.element.trigger("productContainerScroll"),setTimeout(function(){a(document).trigger("gtm_impressions_refresh")},700),b=n.getCurrentProductsArray(),b=n.filterNotLoaded(b),!b.length||b[0].id===j&&b[b.length-1].id===k||n.getItems(b)}function c(){h.hide(),i.show()}function d(){h.show(),i.hide()}function e(){h.show(),i.show()}function f(){i.hide(),h.hide()}var g,h,i,j,k,l=this.wrapper.find(".pc-wrapper"),m=l[0],n=this;h=this.element.find(".prev"),i=this.element.find(".next"),this.element.hasClass("product-container-layout-alternative")||this.element.addClass("product-container-layout-regular"),g=MediaSaturn.carouselFactory.createCarousel(m,{scrollNext:b,scrollPrev:b,firstPage:c,lastPage:d,innerPage:e,singlePage:f,circular:this.settings.circular}),this.carousel=g,h.on("click",function(){var a;a=n.getPrevProductsArray(),a=n.filterNotLoaded(a),a.length&&(j=a[0].id,k=a[a.length-1].id,n.getItems(a)),g.prev()}),i.on("click",function(){var a;a=n.getNextProductsArray(),a=n.filterNotLoaded(a),a.length&&(j=a[0].id,k=a[a.length-1].id,n.getItems(a)),g.next()})},initVerticalContainer:function(){this.updateVertical()},getCurrentProductsArray:function(){var a,b,c=this.settings,d=this.carousel;if(0!==this.products.length)return c.is_horizontal?(b=d.getCurrentIndices(),a=this.products.slice(b.first,b.last+1)):a=this.products,a},filterNotLoaded:function(a){var b,c=this.element,d=[];for(b=0;b<a.length;b++)c.find('li[data-id="'+a[b].id+'"]').length&&d.push(a[b]);return d},getPrevProductsArray:function(){var a,b,c=this.carousel;return b=c.getPrevIndices(),!!b&&(a=this.products.slice(b.first,b.last+1))},getNextProductsArray:function(){var a,b,c=this.carousel;return b=c.getNextIndices(),!!b&&(a=this.products.slice(b.first,b.last+1))},getItems:function(b){var d=c.url,e=this,f=[],g=[];a.each(b,function(a,b){var d=c.getCachedProduct(b.id);d?g.push(d):f.push(b)}),0===f.length?(this.appendItems(g),"undefined"!=typeof c.callback&&""!==c.callback&&executeFunctionByName(c.callback,window,this.wrapper)):(c.separator=c.url.indexOf("?")===-1?"?":"&",a.each(f,function(a,b){d+=c.separator+c.param+"="+b.id,c.separator="&"}),this.wrapper.addClass("loading"),a.ajax({url:d,type:"get",dataType:"json"}).done(function(a){c.cacheProducts(a),e.appendItems(g.concat(a)),"undefined"!=typeof c.callback&&""!==c.callback&&executeFunctionByName(c.callback,window,e.wrapper),e.wrapper.removeClass("loading")}))},appendItems:function(b){var c=this.products,d=this.settings,e=this.ul;a(b).each(function(b,f){var g=a("<li></li>").html(f.content);a.each(c,function(a,c){if(c.id==Number(f.id)){c.content=f.content,g.data("product",c);var d,e=g.find(".product-link");if(c.name&&""!==c.name&&e.html(c.name),c.url&&""!==c.url&&(d=g.find(".photo, .button:not(.add-to-cart), .product-link"),d.prop("href",c.url)),c.et_cid&&c.et_lid&&""!==c.et_cid&&""!==c.et_lid){var h=e.prop("href"),i=h.indexOf("?")===-1?"?":"&",j=b+1+"-"+e.html();h+=i+"et_cid="+c.et_cid,h+="&et_lid="+c.et_lid,h+="&et_sub="+j,d=g.find(".photo, .button:not(.add-to-cart), .product-link"),d.prop("href",h),g.data("et_sub_generated",j)}}});var h=e.find('[data-id="'+f.id+'"]');h.each(function(b,c){var e,h=a(c),i=g.clone();h.html(i.contents()),h.removeAttr("data-id"),h.data(g.data()),d.bundle_widget_support&&(MediaSaturn.modules.require("bundle",function(a,b,c){h.attr("data-bundle-widget-product-id",f.id),e=Handlebars.compile(a(".accessories-template__bundle-button").html()),e=e({}),0===h.find(".photo .offline").length&&(h.find(".base-info").append(e),h.find(".base-content").append(e))}),h.on("click",".photo, .product-link",function(a){var b={};a.stopPropagation(),a.preventDefault(),b.productId=f.id,b.jsonUrl=h.closest(".bundle-widget-support").data("product-modal-href"),b.jsonUrlParam=h.closest(".bundle-widget-support").data("product-modal-param"),new MediaSaturn.ProductModal(b).open()}))})}),d.is_horizontal||this.updateVertical({removeEmpty:!0}),this.updateRenderedElements()},updateVertical:function(b){var c=this.ul.find("> li"),d=this.wrapper,e=a.extend(!0,{},b),f=1;c.each(function(b,c){var g=a(c);return e.removeEmpty&&""===g.html()?(g.remove(),!0):(g.find(".installment-compact, .flags, .base-content, .b-set, .nutrition-link").remove(),g.find(".ee-wrapper").addClass("ee-wrapper-xs"),d.hasClass("with-numbering")&&g.find(".base-info").prepend('<span class="pos">'+f++ +"</span>"),g.find(".price").addClass("price-xs").priceImageReplacement(),void g.find("[data-simple-tooltip]").simpleTooltip())})},updateRenderedElements:function(){var b=this.wrapper,c=this.state;b.find(".photo img[data-original]").lazyload(),setTimeout(function(){b.find(".photo img[data-original]").lazyload()},400),b.find(".price").priceImageReplacement(),b.find("[data-simple-tooltip]").simpleTooltip(),MediaSaturn.Widgets.CheckGridItemButton(),MediaSaturn.Timeframe.initElements(),b.find(".unit-price")&&b.find(".installment-compact")&&a(".installment-compact").addClass("up-present"),Modernizr.touchevents&&a(".installment-compact").on("touchstart",function(){var b=a(this).find(".value"),c='<span class="iPadTitle">'+b.attr("title")+"</span>";b.parent().append(c),setTimeout(function(){b.parent().find(".iPadTitle").remove()},5e3)}),b.parents("#colorbox").length>0&&a("#colorbox").colorbox.resize(),c.initialized===!1&&(c.initialized=!0,a(window).on("fee_breakpoint_change",a.debounce(500,a.proxy(this.recalculate,this))),a(document).trigger("fee.fgrid_refresh")),a(document).trigger("fee_productcontainer_update_rendered_elements")},recalculate:function(){var b,c=this.carousel,d=this.settings,e=this.wrapper;c&&d.is_horizontal&&e.is(":visible")&&c.refresh(a.proxy(function(){b=this.getCurrentProductsArray(),b=this.filterNotLoaded(b),b.length&&this.getItems(b)},this))},destroy:function(){this.carousel.destroy(),delete this.carousel}},c.globalSetup=function(){if(c.is_initialized===!0)return!1;var b=a("meta[property=product-container]");c.url=b.prop("content"),c.param=b.data("param"),c.callback=b.data("callback"),c.separator=c.url.indexOf("?")===-1?"?":"&",c.__pc_cache=c.__pc_cache||{},c.__pc_defer=c.__pc_defer||[],c.__pc_recos=c.__pc_recos||[],c.is_initialized=!0},c.buildProductContainers=function(c){c.each(function(){var c=a(this);if(!c.data("productContainer")&&!c.is(":hidden")){if(c.parents(".is-loading-personalization").length>0)return!1;var d=new b(this);c.data("productContainer",d)}})},c.launch=function(){var a,b,d=[];for(a=c.__pc_recos.length-1;a>=0;a--)b=c.__pc_recos[a],b.__prudsys_loading!==!0&&(d.push(b),b.__prudsys_loading=!0);c.__pc_recos.length>0?d.length&&MediaSaturn.PrudsysLoader.loadBox({products:d,callback:c.recommendationProductsLoaded}):c.initialLoad()},c.recommendationProductsLoaded=function(b){var d=c.__pc_defer;a.each(d,function(a,b){var c=b.instance,d=b.ids;c.settings.reco&&d.length&&c.initEmptyItems(b.ids)}),c.__pc_recos=[],c.initialLoad()},c.initialLoad=function(){var b,d,e=[];b=c.__pc_defer,a.each(b,function(b,c){var d,f,g=c.instance,h=c.ids;if(h.length>0)for(g.initUI(),d=g.getCurrentProductsArray(),f=0;f<d.length;f++)a.inArray(d[f].id,e)===-1&&e.push(d[f].id);else g.hideEmpty(),c.isEmpty=!0}),d=c.url;var f=[];if(a.each(e,function(a,b){var d=c.getCachedProduct(b);d===!1&&f.push(b)}),0===f.length)a.each(b,function(a,b){var c=b.ids,d=b.instance;b.isEmpty||(c=d.getCurrentProductsArray(),d.getItems(c))}),c.__pc_defer=[],c.setupEvents();else{e=f,c.separator=c.url.indexOf("?")===-1?"?":"&";for(var g=0;g<e.length;g++)d+=c.separator+c.param+"="+e[g],c.separator="&";a.each(b,function(a,b){b.instance.wrapper.addClass("loading")}),a.ajax({url:d,type:"get",dataType:"json"}).done(function(d){c.cacheProducts(d),a.each(b,function(a,b){var c,d,e;c=b.instance,d=b.ids,d.length&&(e=c.getCurrentProductsArray(),c.getItems(e),c.wrapper.removeClass("loading"))}),c.__pc_defer=[],c.setupEvents()})}},c.cacheProducts=function(b){a(b).each(function(a,b){c.__pc_cache[b.id]=b})},c.getCachedProduct=function(a){return"undefined"!=typeof c.__pc_cache[a]&&c.__pc_cache[a]},c.setupEvents=function(){a(document).off("click.product_container_event"),a(window).off("resize.product_container_event"),a(document).on("click.product_container_event",".product-container a",c.trackClick),a(document).on("click.product_container_event","#product-preview a",c.trackHoverLayerClick),a(window).on("resize.product_container_event",a.throttle(1e3,function(){a(window).trigger("fee_breakpoint_change"),a(".product-container").productContainer()}))},c.trackClick=function(b){var c=a(this),d=c.parents("li").first(),e=d.data("product");a(document).trigger("fee_productcontainer_product_click",[{product:e}])},c.trackHoverLayerClick=function(b){var c=a(this).parents("#product-preview"),d=a(c.data("eventTarget")),e=d.parents("li").first(),f=e.data("product");a(document).trigger("fee_productcontainer_product_click",[{product:f}])},a.fn.productContainer=function(b){if(0!==this.length)return b?(a.each(this,function(c,d){var e=a(d).data("productContainer");e&&("recalculate"===b&&e.recalculate(),"destroy"===b&&(a(d).data("productContainer",null),e.destroy()))}),this):(c.globalSetup(),c.buildProductContainers(this),"undefined"!=typeof window.__launchTimeout&&window.clearTimeout(window.__launchTimeout),window.__launchTimeout=window.setTimeout(c.launch,100),void 0)},a(document).ready(function(a){a(".product-container").productContainer()})}(jQuery),function(a,b){var c={init:function(){Modernizr.touchevents||a(document).on("mouseenter",".products-grid .photo",c.hoverIn).on("mouseleave","#product-preview",c.hoverOut)},hoverIn:function(d){var e,f,g,h=a(this),i={};if(g=c.getSettingsElement(h),c.isEnabled(h,g)&&(g.length&&(i.hover=g.data("set-hover"),i.wishlistLink=g.data("set-wishlist-link"),i.compareLink=g.data("set-compare-link"),i.brandLogo=g.data("set-brand-logo"),i.ratingWidget=g.data("set-rating-widget"),i.ratingLink=g.data("set-rating-link"),i.bundleWidgetSupport=g.is(".bundle-widget-support"),i.accessoryBundleId=g.data("accessory-bundle-id"),i.productModalHref=g.data("product-modal-href"),i.productModalParam=g.data("product-modal-param")),a(this).closest("li").find(".base-content").length)){if(a("#product-preview").remove(),f=a('<div id="product-preview"><div class="product-preview-content"></div></div>').appendTo(a("body")),f.data("eventTarget",d.target),i.bundleWidgetSupport){var j=a(this).closest("[data-bundle-widget-product-id]").data("bundle-widget-product-id");f.addClass("bundle-widget-support").find(".product-preview-content").attr("data-bundle-widget-product-id",j).attr("data-accessory-bundle-id",i.accessoryBundleId),b.BundleWidgetManager.getInstance().addContainer(f.get(0),i.accessoryBundleId),a("#product-preview").on("click",".photo, .product-link",function(c){var d={};a(c.target).is("[data-layer]")||(c.stopPropagation(),c.preventDefault(),d.productId=j,d.jsonUrl=i.productModalHref,d.jsonUrlParam=i.productModalParam,new b.ProductModal(d).open())})}e=a(this).closest("[data-gtm-prop-list-name]"),e.length&&f.attr("data-gtm-prop-list-name",e.data("gtm-prop-list-name"));var k=a(this).parent(),l=k.offset(),m=k.width();a("html").hasClass("ie8")?f.css({top:l.top-1+"px",left:l.left-1+"px",width:m+"px"}).show():f.css({top:l.top+"px",left:l.left+"px",width:m+"px"}).show(),k.hasClass("cta")&&f.find(".base-info").addClass("cta"),k.parent("li").find(".base-info, .base-content").clone().prependTo(".product-preview-content");var n=f.find(".unit-price"),o=f.find(".installment-compact");n.length&&o.length&&f.find(".installment-compact").addClass("up-present"),a("#product-preview .base-info").addClass("onair"),a(".modal-content").length&&f.addClass("inmodal"),i.wishlistLink||f.find(".add-to-wishlist").remove(),i.compareLink||f.find(".add-to-compare").remove(),i.brandLogo||f.find(".manufacturer").remove(),i.ratingWidget||f.find(".rating, .first-review, .see-reviews").remove(),i.ratingLink||f.find(".first-review, .see-reviews").remove(),b.clickableLinks(),f.find("[data-simple-tooltip]").simpleTooltip(),g.is(".product-container-layout-alternative")&&f.addClass("product-container-layout-alternative-preview"),window.setTimeout(c.checkHover,1e3)}},hoverOut:function(b){a(".product-container.product-container-hover").removeClass("product-container-hover"),a(this).hide(),window.setTimeout(c.checkHover,1e3)},checkHover:function(b){a("#product-preview").length&&0===a("#product-preview:hover").length&&a("#product-preview").remove()},isEnabled:function(a,c){return!("s"===b.mediaQuery.getScreenSize()||a.parents(".no-hover").length||a.parents("#basket-flyout").length&&0===a.closest(".bundle-widget-support").length)&&(!c||!c.length||c.data("set-hover")===!0)},getSettingsElement:function(a){var b;return a.closest(".product-container .products-grid").length?(b=a.closest(".product-container"),a.closest(".product-container").addClass("product-container-hover")):a.closest(".products-grid").length&&(b=a.closest(".products-grid")),b}};b.productGridItemHover=function(){c.init()}}(jQuery,MediaSaturn),$(document).ready(function(){MediaSaturn.productGridItemHover()}),function(a,b,c,d){"use strict";a.ProductModal=function(a){b.extend(this,a)},b.extend(a.ProductModal.prototype,{productId:null,jsonUrl:null,jsonUrlParam:null,loadingTemplateId:"product-modal/loading",contentTemplateId:"product-modal/content",$modal:null,$overlay:null,featuresLimit:null,emptyRating:null,hasNDD:null,variationFeatures:null,loadingSpinner:'<div class="loading"><span></span><span></span><span></span><span></span><span></span></div>',overColorboxClass:"ct-modal-over-colorbox",open:function(){var a=this;MediaSaturn.TemplateLoader.load(this.loadingTemplateId).then(function(b){a.templateLoading=b,a.reloadProduct(a.productId)})},reloadProduct:function(a){var b=this;this.openLoading(this.templateLoading).then(function(){b.getProductData(a).then(function(c){var d=c[a];d?b.loadContent(d):b.modalHide()}).fail(function(){b.modalHide()})})},openLoading:function(a){var c,d,e=this,f=b.Deferred();return 0===b(".ct-modal").length||0===b(".ct-modal-overlay").length?(c=a({}),b(".ct-modal").remove(),b(".ct-modal-overlay").remove(),b("body").append(c),this.$modal=b(".ct-modal"),this.$overlay=b(".ct-modal-overlay"),d=this.$overlay.add(this.$modal.find(".ct-modal-close")),d.on("click",function(a){e.modalHide(),e.modalEmpty(),a.preventDefault()})):(this.$modal=b(".ct-modal"),this.$overlay=b(".ct-modal-overlay")),b("#colorbox:visible").length&&b("#colorbox").find("#basket-flyout").length&&(this.$modal.addClass(this.overColorboxClass),this.$overlay.addClass(this.overColorboxClass)),b(document).on("cbox_load.product_modal",function(){e.$overlay.removeClass(e.overColorboxClass),e.$modal.removeClass(e.overColorboxClass),b("#colorbox").find("#basket-flyout").length&&(e.modalHide(),e.modalEmpty())}),this.featuresLimit=this.$modal.data("features-limit"),this.emptyRating=this.$modal.data("empty-rating"),this.hasNDD=this.$modal.data("ndd"),this.variationFeatures=this.$modal.data("variation-features"),setTimeout(function(){e.modalShow(),e.modalEmpty(),f.resolve()},1),f},loadContent:function(a){var b,c=this;this.prepareContext(a),MediaSaturn.TemplateLoader.load(this.contentTemplateId).then(function(d){b=d(a),c.$modal.find(".template-container").html(b),c.initContent()})},prepareContext:function(a){a.__custom={},MediaSaturn.productJsonPresenter.prepareFeatures(a,this.featuresLimit),MediaSaturn.productJsonPresenter.prepareEyeCatchers(a),MediaSaturn.productJsonPresenter.prepareOldPrice(a),MediaSaturn.productJsonPresenter.prepareSoldOut(a),MediaSaturn.productJsonPresenter.prepareUniqueId(a),MediaSaturn.productJsonPresenter.prepareQuantityChooser(a),MediaSaturn.productJsonPresenter.prepareRating(a,this.emptyRating),this.hasNDD&&MediaSaturn.productJsonPresenter.prepareNDD(a),this.variationFeatures&&MediaSaturn.productJsonPresenter.prepareVariationFeatures(a)},initContent:function(){var a=this;this.$modal.find(".price").priceImageReplacement(),this.$modal.find("[data-simple-tooltip]").simpleTooltip(),b(".timeframe:not(.state-initialized)").each(function(){new MediaSaturn.Timeframe(this)}),MediaSaturn.clickableLinks(),this.initProductGallery(),this.quantityChooserInit(this.$modal.find(".quantity-chooser"),this.$modal.find(".add-to-cart.button")),this.$modal.find(".js-product-attributes").each(function(){new MediaSaturn.ProductAttributes({$element:b(this),action:function(b){a.reloadProduct(b)}})}),this.$modal.find(".next").remove(),this.$modal.find(".prev").remove()},initProductGallery:function(){var a=this.$modal.find(".preview");Modernizr.touchevents===!1&&MediaSaturn.Product.easyZoom.setUp(a.find(".zoom")),b(".ct-modal .thumbs a").on("click",function(c){var d=b(this).data("preview");a.find("img.img-preview").prop("src",d),b(this).parent().siblings().removeClass("active"),b(this).parent().addClass("active");var e=b(this).parents("li").index();0!==e?a.find("img.flags").addClass("hide"):a.find("img.flags").removeClass("hide"),Modernizr.touchevents===!1&&b(this).parents(".js-ct-modal").find(".zoom").length>0&&MediaSaturn.Product.easyZoom.setUp(a.find(".zoom")),c.preventDefault()})},quantityChooserInit:function(a,c){function d(){var a,d,f,g,h=parseInt(e.val(),10);a=e.prop("name"),d=c.attr("data-href"),g=b.deparam.querystring(d),g[a]=h,f=b.param.querystring(d,g),c.attr("data-href",f)}var e;1===a.length&&(e=a.find("select"),c&&c.length>0&&(e.on("change",d),d()))},modalShow:function(){this.$modal.addClass("ct-modal--show"),this.$overlay.addClass("ct-modal--show")},modalHide:function(){this.$modal.removeClass("ct-modal--show"),this.$overlay.removeClass("ct-modal--show"),this.$modal.removeClass(this.overColorboxClass),this.$overlay.removeClass(this.overColorboxClass),b(document).off("cbox_load.product_modal")},modalEmpty:function(){this.$modal.find(".template-container").html(this.loadingSpinner)},getProductData:function(a){var d=[{id:a}],e=b.Deferred();return c.getProducts({products:d,options:{url:this.jsonUrl,urlParam:this.jsonUrlParam},callback:function(a){a?e.resolve(a):e.reject()}}),e}})}(MediaSaturn,jQuery,MediaSaturn.ProductLoader,MediaSaturn.TemplateLoader),function(a){function b(b,c){this.settings=a.extend({},d,c),this.$element=a(b),this.$firstReviews=this.$element.find(".js-product-reviews-first"),this.$remainingReviews=this.$element.find(".js-product-reviews-remaining"),this.$buttonShowMore=this.$element.find(".js-product-reviews-show-more"),this.$buttonHideMore=this.$element.find(".js-product-reviews-hide-more"),this.$activeFilters=this.$element.find(".js-product-reviews-active-filters"),this.$sorting=this.$element.find(".js-product-reviews-sorting"),this.$header=a("#header"),this.init()}var c="productReviews",d={remainingStateHiddenClass:"state-hidden",activeFiltersVisibleClass:"state-visible",remainingStatePageLastClass:"state-page-last"};b.prototype={stickyHeight:0,pagedCache:null,pagedInitialIndex:null,init:function(){var b;this.$header.is(".header-stickable")&&(this.stickyHeight=this.$header.data("stickyHeight")),this.attachFilterHandler(),this.attachButtonsHandlers(),this.$sorting.length&&this.attachSortingHandler(),b=a.cookie("FEE_PRODUCT_REVIEWS"),b&&(this.$sorting.val(b),this.sortingHandler()),this.isPagedMode()&&(this.pagedCache={},this.pagedInitialIndex=this.$remainingReviews.data("paged-current-index"),this.updateMoreButton())},attachFilterHandler:function(){var b=this,c=a(".rating-details .js-product-reviews-filter, .js-product-reviews-active-filters a");c.click(function(){return b.filterHandler(this),!1})},attachButtonsHandlers:function(){var a=this;this.$buttonShowMore.on("click",function(b){a.isPagedMode()?a.pagedMoreHandler():a.moreHandler(),b.preventDefault()}),this.$buttonHideMore.on("click",function(b){a.hideHandler(),b.preventDefault()})},attachSortingHandler:function(){var a=this,b=this.$sorting;b.on("change",function(){return a.sortingHandler(),!1})},isPagedMode:function(){return this.$remainingReviews.data("paged-per-page")&&this.$remainingReviews.data("paged-all")},clearPagedCache:function(){this.pagedCache={}},updateMoreButton:function(){var a,b,c,d,e,f,g,h,i="{{number}}";a=this.$buttonShowMore.data("label-tpl-singular")||"",b=this.$buttonShowMore.data("label-tpl-plural")||"",d=this.$remainingReviews.data("paged-all"),e=this.$remainingReviews.data("paged-current-index"),f=this.$remainingReviews.data("paged-per-page"),g=d-e,h=g<f?g:f,c=1===h?a.replace(i,h):b.replace(i,h),this.$buttonShowMore.find("span").html(c)},updateActiveFilter:function(a){var b=this.$activeFilters,c=this.$activeFilters.find("a");a?(b.addClass(this.settings.activeFiltersVisibleClass),c.html(a)):(b.removeClass(this.settings.activeFiltersVisibleClass),c.html(""))},filterHandler:function(b){var c,d=a(b),e=d.data("filter-text"),f=d.data("href"),g=d.data("more-href"),h=this.$firstReviews,i=this.$remainingReviews;h.data("href",f),i.data("href",g),c=a.proxy(function(){this.updateActiveFilter(e),a(document).trigger("fee.fgrid_refresh"),a.waypoints("refresh")},this),this.reloadReviews(c)},moreHandler:function(){var b,c=this;this.$remainingReviews.hasClass(this.settings.remainingStateHiddenClass)&&(this.$remainingReviews.is(":empty")?(b=a.proxy(function(){this.$remainingReviews.removeClass(this.settings.remainingStateHiddenClass),setTimeout(function(){a(document).trigger("fee.fgrid_refresh"),a.waypoints("refresh"),a(document).scrollTo(c.$remainingReviews,"slow",{offset:-c.stickyHeight})},0)},this),this.loadMoreReviews(b)):(this.$remainingReviews.removeClass(this.settings.remainingStateHiddenClass),a(document).scrollTo(this.$remainingReviews,"slow",{offset:-this.stickyHeight}),a(document).trigger("fee.fgrid_refresh"),a.waypoints("refresh")))},hideHandler:function(){this.$remainingReviews.hasClass(this.settings.remainingStateHiddenClass)||(this.$remainingReviews.addClass(this.settings.remainingStateHiddenClass),a(document).scrollTo(this.$element,"slow",{offset:-this.stickyHeight}),a(document).trigger("fee.fgrid_refresh"),a.waypoints("refresh"),this.isPagedMode()&&(this.$remainingReviews.empty(),this.$remainingReviews.data("paged-current-index",this.pagedInitialIndex),this.$remainingReviews.removeClass(this.settings.remainingStatePageLastClass),this.updateMoreButton()))},pagedMoreHandler:function(){function b(b){var f=d+e;g.$remainingReviews.data("paged-current-index",f),g.$remainingReviews.append(b),g.$remainingReviews.removeClass(g.settings.remainingStateHiddenClass),f>=c?g.$remainingReviews.addClass(g.settings.remainingStatePageLastClass):g.updateMoreButton(),setTimeout(function(){a(document).trigger("fee.fgrid_refresh"),a.waypoints("refresh")},0)}var c,d,e,f,g=this;c=this.$remainingReviews.data("paged-all"),d=this.$remainingReviews.data("paged-current-index"),e=this.$remainingReviews.data("paged-per-page"),f=this.pagedCache[d],f?b(f):d<c&&this.loadMoreReviews(function(){f=g.pagedCache[d],b(f)})},sortingHandler:function(){var b,c=this.$sorting.val();b=a.proxy(function(){a(document).trigger("fee.fgrid_refresh"),a.waypoints("refresh"),a.cookie("FEE_PRODUCT_REVIEWS",c,{path:"/"})},this),this.reloadReviews(b)},loadReviews:function(b,c){function d(){f.addClass("loading")}function e(a){var b=a,d=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;b=b.replace(d,""),f.removeClass("loading").addClass("loaded"),c(b)}var f=this.$element,g=this.$sorting;g.length&&(b+=g.val()),a.ajax({url:b,type:"GET",timeout:4e3,dataType:"html",beforeSend:d,success:e})},reloadReviews:function(a){function b(b){c.html(b),d.empty().addClass(e.remainingStateHiddenClass),g.isPagedMode()&&(d.removeClass(e.remainingStatePageLastClass),g.$remainingReviews.data("paged-current-index",g.pagedInitialIndex),g.clearPagedCache(),g.updateMoreButton()),a()}var c=this.$firstReviews,d=this.$remainingReviews,e=this.settings,f=c.data("href"),g=this;this.loadReviews(f,b)},loadMoreReviews:function(b){function c(c){var e;i.isPagedMode()?(e=a("<ul></ul>").html(c),e.find("li:first-child").addClass("reviews-page"),i.pagedCache[d]=e.html()):f.html(c),b()}var d,e,f=this.$remainingReviews,g=f.data("href"),h=g.indexOf("?")>=0?"&":"?",i=this;this.isPagedMode()&&(d=f.data("paged-current-index"),e=f.data("paged-url-param"),g=g+h+e+"="+d),this.loadReviews(g,c)}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||(a.data(this,"plugin_"+c),new b(this,d))})},MediaSaturn.ProductReviewForm=function(){return 0!==a(".rate-product").length&&(a(document).on("click.review_form",".rate-product",this.loadReviewForm),a(document).on("fee_show_review_form",this.scrollAndOpen),a(document).on("click.review_form",".toplayer .close",this.closeForm),a(document).on("keyup.review_form",this.onEscapeKey),a(document).on("click.review_form",".js-review-form-change",this.changeReview),void a(document).on("keyup.review_form",'.review-pros-n-cons-field input[type="text"]',this.addFeaturesField))},MediaSaturn.ProductReviewForm.prototype={attachEvents:function(){a("#review-form").on("submit.review_form",this.submitForm)},setTopPosition:function(){var b,c=a(".toplayer").show().outerHeight(),d=a(window).height(),e=a(document).scrollTop();b=c>d?e:(d-c)/2+e,a(".toplayer").css("top",b)},setupReviewGuidelines:function(){var b,c=a("#review-form").find(".review-guidelines");0!==c.length&&(b=c.find(".review-guidelines-toggle"),a(document).trigger("fee.fgrid_refresh"),b.on("click",function(){return c.toggleClass("state-expanded"),!1}))},loadReviewForm:function(b){function c(b){a("body").append(b).append('<div class="overlayer"></div>'),a(".toplayer, .overlayer").hide(),a(".rate-product").removeClass("loading"),a("#review-text, #review-title, #review-nickname, #review-email").multilinePlaceholder(),MediaSaturn.product_review_form.attachEvents(),MediaSaturn.product_review_form.setupReviewGuidelines(),MediaSaturn.product_review_form.setTopPosition(),MediaSaturn.Widgets.CaptchaReload(),a(".toplayer, .overlayer").fadeIn(),a(document).trigger("fee_review_form_loaded")}function d(){var b=a.Deferred();return MediaSaturn.modules.require("validation",function(a,c,d){b.resolve()}),b}function e(b){var c=a.Deferred();return a.ajax({url:b,method:"GET",dataType:"html",success:function(a){c.resolve(a)}}),c}b.preventDefault();var f,g=a(b.target);return g.hasClass("rate-product")||(g=g.parents(".rate-product").first()),f=g.data("url"),!g.hasClass("loading")&&(g.addClass("loading"),void a.when(e(f),d()).then(c))},scrollAndOpen:function(){a("html, body").animate({scrollTop:a(".product-reviews:first").offset().top},500).promise().done(function(){a(".rate-product:first").click()})},submitForm:function(b,c){function d(a,b){var c,d=".error-box";b&&(d="."+b),c=l.find(d).first(),c.length>0&&c.addClass("state-visible").html(a)}function e(){l.find(".error-box").removeClass("state-visible").html("")}function f(){a.ajax({url:k,data:l.serialize(),method:"POST",dataType:"html"}).done(function(b){a("#review-form").is(".review-form")&&a(document).trigger("submit_success.review_form"),m.replaceWith(b),a("#review-text, #review-title, #review-nickname, #review-email").multilinePlaceholder(),MediaSaturn.product_review_form.attachEvents(),MediaSaturn.product_review_form.setupReviewGuidelines(),MediaSaturn.product_review_form.setTopPosition(),MediaSaturn.Widgets.CaptchaReload()}).fail(function(a){})}var g,h,i,j,k,l=this.form=a("#review-form"),m=a("#review-form-toplayer"),n={};return!(m.hasClass("loading")||!l.valid())&&(m.addClass("loading"),b.preventDefault(),k=void 0!==c?c.action:l.data("action"),g=l.find("#review-captcha").first(),void(g.length?(h=g.data("href"),j=g.attr("name"),i=g.val(),n[j]=i,a.ajax({url:h,cache:!1,data:n,dataType:"json"}).done(function(a){"success"===a.status?(e(),f()):(d(a.message,"error-box-captcha"),m.removeClass("loading"),g.parent().find("a").trigger("click"),g.val(""))}).fail(function(){})):f()))},changeReview:function(b){b.preventDefault();var c=this.form=a("#review-form"),d=c.data("review-form-action");c.trigger("submit",{action:d})},onEscapeKey:function(b){27===b.keyCode&&a(".toplayer .close").click()},closeForm:function(b){"undefined"!=typeof b&&b.preventDefault(),a(".toplayer, .overlayer").fadeOut(function(){a(this).remove(),a(this).is(".toplayer")&&a(".not-rated-widget").trigger("fee_not_rated_widget_invalidated")})},addFeaturesField:function(b){var c=a(this),d=c.parent();if(""!==c.val()&&0===d.next().length){var e=c.parents(".review-pros-n-cons-field"),f=e.data("limit");if(""!==c.val()&&0===d.next().length){var g=d.parent(),h=g.find(".review-feature-field").length;if(h>=f)return!1;var i=d.clone(),j=i.find("input"),k=j.attr("name").split("_"),l=k[0]+"_"+(parseInt(k[1],10)+1);j.attr("name",l).val(""),d.after(i)}}else""===c.val()&&""===d.next().find("input").val()&&d.next().remove()}},MediaSaturn.ProductReviewHelpfullness={init:function(){a(document).on("click",".js-review-rate-action",this.rateReview)},rateReview:function(b){b.preventDefault();var c=a(this).data("action"),d=a(this).parents(".review-rate");return!d.hasClass("js-loading")&&(d.addClass("js-loading"),d.find(".review-rate-action").hide(),void a.ajax({type:"post",url:c,dataType:"json"}).done(function(a){a.success?(d.find(".review-rate-action").addClass("success-message").html(a.message),d.parents("article").find(".review-rate-summary").html(a.summary)):d.find(".review-rate-action").addClass("error-message").html(a.message),d.find(".review-rate-action").fadeIn(),d.addClass("js-action-complete")}))}},MediaSaturn.ReviewerSummary={init:function(){Modernizr.touchevents?a(document).on("click",".reviewer-summary",this.showReviewerSummaryLayer):a(document).on("mouseenter",".reviewer-summary",this.delayedLayerOpen)},delayedLayerOpen:function(){var b=a(this);window.setTimeout(function(){b.is(":hover")&&MediaSaturn.ReviewerSummary.showReviewerSummaryLayer(b)},300)},showReviewerSummaryLayer:function(b){var c;c="undefined"!=typeof b?b:a(this);var d=c.parent();return!c.hasClass("layer-open")&&(a(".reviewer-summary-box").remove(),d.append('<div class="reviewer-summary-box loading"></div>'),c.addClass("layer-open"),Modernizr.touchevents||a(".reviewer-summary-box, .reviewer-summary.layer-open").on("mouseleave",MediaSaturn.ReviewerSummary.delayedLayerClose),
void a.ajax({type:"get",url:c.data("uri")}).done(function(b){a(".reviewer-summary-box").html(b),a(".reviewer-summary-box").prepend('<span class="rsb-close"></span>').removeClass("loading"),a(".rsb-close").one("click.reviewer_summary",MediaSaturn.ReviewerSummary.closeLayer)}))},delayedLayerClose:function(){var b=a(".reviewer-summary-box"),c=a(".reviewer-summary.layer-open");window.setTimeout(function(){b.is(":hover")||c.is(":hover")||MediaSaturn.ReviewerSummary.closeLayer()},500)},closeLayer:function(){a(".reviewer-summary-box").remove(),a(".reviewer-summary.layer-open").removeClass("layer-open")}}}(jQuery),jQuery(document).ready(function(a){a(".js-product-reviews").productReviews(),MediaSaturn.product_review_form=new MediaSaturn.ProductReviewForm,MediaSaturn.ProductReviewHelpfullness.init(),MediaSaturn.ReviewerSummary.init()}),MediaSaturn.Sizmek=function(a){var b="/versatag/events/",c=window.location.origin,d=function(){a.subscribe(function(a,b){f({id:a})})},e=function(a){return c+b+a.id},f=function(a){var b=window.versaTagObj;if("undefined"==typeof b)return!1;try{b.generateRequest(e(a))}catch(c){console.log("Sizmek error:",c)}};return{init:d}}(MediaSaturn.eventTracker),MediaSaturn.Sizmek.init(),function(a,b){"use strict";a.fn.stickySidebar=function(){return this.each(function(){var b,c,d=a(this),e=d.closest(".container"),f=e.children(),g=20,h=parseInt(d.css("margin-right").replace("px",""),10),i=a("#header"),j=0,k=function(){var b=a(window).width(),c=e.width(),f=(b-c)/2+h;d.css("margin-right",f+"px")},l=function(){var b=Math.max.apply(this,f.map(function(b,c){return a(c).height()}).get());return b===d.height()},m=function(){return d.height()>a(window).height()-g-j},n=function(){return a("body").height()+c.height()>a(window).height()},o=function(){function a(a,b){var c,e;for(c=a,e=d(c,b);void 0===e&&!c.is("body");)c=c.parent(),e=d(c,b);return e}function d(a,b){var c,d;for(c=b(a);void 0===d&&c.length>0;)c.is("script")||c.is(":hidden")||"fixed"===c.css("position")?c=b(c):d=c;return d}b=a(e,function(a){return a.prev()}),c=a(e,function(a){return a.next()})},p=function(){return d.offset().left>0&&d.offset().left-e.offset().left>e.width()/2};i.is(".header-stickable")&&(j=i.data("stickyHeight")),o(),p()&&d.addClass("sticky-to-right"),b.waypoint({handler:function(b){"s"!==MediaSaturn.mediaQuery.getScreenSize()&&(l()||m()||(d.toggleClass("on-top","down"===b).removeClass("on-bottom"),a("#rise-header").hasClass("ms-glue--fixed")&&d.addClass("sticky--with-rise"),d.hasClass("sticky-to-right")&&("down"===b?k():d.css("margin-right",h))))},offset:function(){return-(b.outerHeight()+g-j)}}),c.waypoint({handler:function(a){"s"===MediaSaturn.mediaQuery.getScreenSize()||l()||m()||!n()||(d.hasClass("sticky-to-right")&&d.hasClass("on-top")&&("down"===a?d.css("margin-right",h):k()),d.toggleClass("on-bottom","down"===a))},offset:function(){return d.outerHeight()+g+j}}),"s"!==MediaSaturn.mediaQuery.getScreenSize()&&e.css("position","relative"),a(window).resize(a.throttle(250,function(){p()&&d.addClass("sticky-to-right"),"s"===MediaSaturn.mediaQuery.getScreenSize()?(d.css("margin-right",h),d.removeClass("on-top on-bottom"),e.css("position","static")):(e.css("position","relative"),d.css("left","")),"s"!==MediaSaturn.mediaQuery.getScreenSize()&&d.hasClass("on-top")&&!d.hasClass("on-bottom")&&d.hasClass("sticky-to-right")&&k(),(d.height()+g>e.height()||m())&&(d.removeClass("on-top on-bottom"),d.css("margin-right",h)),a.waypoints("refresh")})),f.resize(function(){a.waypoints("refresh")}),a(document).on("fee.fgrid_refresh",function(){a.waypoints("refresh")})})},a(document).ready(function(){Modernizr.touchevents||a(".sidebar-sticky").stickySidebar()})}(jQuery,jQuery),function(a){"use strict";MediaSaturn.TaxIdCheck=function(a){this.$element=a,this.init()},a.extend(MediaSaturn.TaxIdCheck.prototype,{$taxIdField:null,$companyField:null,$taxOfficeField:null,triggerLength:8,b2cCheck:!1,init:function(){var b,c;this.$taxIdField=this.$element,this.$companyField=this.$element.parents("form").find(".js-tax-id-check-company"),this.$taxOfficeField=this.$element.parents("form").find(".js-tax-id-check-office"),b=this.$taxIdField.data("trigger-length"),"undefined"!=typeof b&&(this.triggerLength=this.$taxIdField.data("trigger-length")),this.b2cCheck=this.$taxIdField.data("b2c-check"),c=a.debounce(500,a.proxy(this.checkTaxId,this)),this.$taxIdField.on("keyup",c)},checkTaxId:function(b){var c,d,e;return c=this.$taxIdField.val(),c.length<this.triggerLength?void this.taxIdCheckFail():(d=this.$taxIdField.data("action"),d+=this.$taxIdField.val(),e=a.ajax({type:"GET",url:d}),e.done(a.proxy(this.onSuccess,this)),e.fail(a.proxy(function(a){console.log("Invalid response:",a),this.taxIdCheckFail()},this)),e.always(a.proxy(function(){this.$taxIdField.removeClass("is-loading")},this)),void this.$taxIdField.addClass("is-loading"))},onSuccess:function(a){"undefined"!=typeof a.taxId?this.taxIdCheckSuccess(a):this.taxIdCheckFail()},taxIdCheckSuccess:function(a){this.b2cCheck&&(this.$taxIdField.addClass("is-verified"),this.$taxIdField.valid()),this.$companyField.val(a.name),this.$taxOfficeField.addClass("is-required"),this.$taxOfficeField.parent().find("em").removeClass("is-hidden")},taxIdCheckFail:function(){this.$taxOfficeField.removeClass("is-required"),this.$taxOfficeField.parent().find("em").addClass("is-hidden"),this.b2cCheck&&(this.$taxIdField.removeClass("is-verified"),this.$taxIdField.valid())}}),a(document).ready(function(){a(".js-tax-id-check").each(function(b,c){new MediaSaturn.TaxIdCheck(a(c))})})}(jQuery),function(a,b){"use strict";a.ThumbnailCarousel=function(a){return this.$element=b(a),this.init(),{refresh:b.proxy(this.refresh,this),scrollToActive:b.proxy(this.scrollToActive,this)}},b.extend(a.ThumbnailCarousel.prototype,{$element:null,$list:null,carouselWrapper:null,carousel:null,$buttonPrev:null,$buttonNext:null,carouselWrapperWidth:null,init:function(){var a={};this.carouselWrapper=this.$element.find(".js-carousel-wrapper")[0],this.$buttonPrev=this.$element.find(".js-prev"),this.$buttonNext=this.$element.find(".js-next"),this.$list=this.$element.find(".js-list"),this.carouselWrapperWidth=b(this.carouselWrapper).width(),a.circular=!1,a.firstPage=b.proxy(this.firstPageHandler,this),a.lastPage=b.proxy(this.lastPageHandler,this),a.innerPage=b.proxy(this.innerPageHandler,this),a.singlePage=b.proxy(this.singlePageHandler,this),this.carousel=MediaSaturn.carouselFactory.createCarousel(this.carouselWrapper,a),this.$buttonPrev.on("click",b.proxy(this.prevHandler,this)),this.$buttonNext.on("click",b.proxy(this.nextHandler,this)),b(window).on("resize",b.debounce(500,b.proxy(this.windowResizeHandler,this)))},prevHandler:function(a){this.carousel.prev(),a.preventDefault()},nextHandler:function(a){this.carousel.next(),a.preventDefault()},firstPageHandler:function(){this.$element.addClass("thumbnail-carousel--first-page").removeClass("thumbnail-carousel--last-page")},lastPageHandler:function(){this.$element.removeClass("thumbnail-carousel--first-page").addClass("thumbnail-carousel--last-page")},innerPageHandler:function(){this.$element.removeClass("thumbnail-carousel--first-page").removeClass("thumbnail-carousel--last-page")},singlePageHandler:function(){this.$element.addClass("thumbnail-carousel--single-page")},windowResizeHandler:function(){var a=b(this.carouselWrapper).width();a!==this.carouselWrapperWidth&&(this.refresh(),this.carouselWrapperWidth=a)},scrollToActive:function(){var a,c,d=this.carousel.getCurrentIndices(),e=this.$list.find(".state--active").index();a=d.last-d.first+1,c=Math.floor(e/a),this.carousel.goToPage(c,{firstPage:b.proxy(this.firstPageHandler,this),lastPage:b.proxy(this.lastPageHandler,this)})},refresh:function(){this.$element.removeClass("thumbnail-carousel--first-page"),this.$element.removeClass("thumbnail-carousel--last-page"),this.$element.removeClass("thumbnail-carousel--single-page"),this.carousel&&this.carousel.refresh(b.proxy(this.scrollToActive,this))}})}(MediaSaturn,jQuery),$(document).ready(function(){var a=$(".js-thumbnail-carousel");a.each(function(){var a=new MediaSaturn.ThumbnailCarousel(this);$(this).data("thumbnailCarousel",a)})}),MediaSaturn.Timeframe=function(a){this.$element=$(a),this.dateCutoffMs=Date.parse(this.$element.data("cutoff")),this.remainingTime={},this.GLOBAL_CONFIG=MediaSaturn.__timeframe__config||{},0===this.$element.children().length&&this.useExternalTemplate(),this.$remaining=this.$element.find(".timeframe-remaining > span"),this.translations=this.$element.data("translations"),void 0===this.translations&&(this.translations=this.GLOBAL_CONFIG.translations),this.intervalId=0,MediaSaturn.Timeframe._pluralFormula&&(MediaSaturn.Timeframe.pluralFormula=MediaSaturn.Timeframe._pluralFormula);try{if(this.update(),this.remainingTime.tooLong()||this.remainingTime.tooShort())return!1;this.initialize(),this.intervalId=setInterval($.proxy(this.update,this),this.INTERVAL_MS)}catch(b){}},MediaSaturn.Timeframe.prototype.INTERVAL_MS=15e3,MediaSaturn.Timeframe.prototype.useExternalTemplate=function(){var a,b,c;void 0===this.GLOBAL_CONFIG.template&&(this.GLOBAL_CONFIG.template=Handlebars.compile($(".timeframe--content-template").first().html()||"")),a=this.GLOBAL_CONFIG.template,c={cutoffHuman:this.$element.data("cutoff-human")},b=a(c),this.$element.html(b)},MediaSaturn.Timeframe.prototype.update=function(){var a=this.dateCutoffMs,b=Date.now(),c=this.translations;this.remainingTime=new this.RemainingTime(a,b,c,MediaSaturn.Timeframe.pluralFormula),this.remainingTime.tooShort()?this.hide():this.$remaining.html(this.remainingTime.getString())},MediaSaturn.Timeframe.prototype.initialize=function(){this.$element.addClass("state-initialized");var a=1e3;isNaN(parseFloat(this.$element.data("timeframe-delay")))||(a=parseFloat(this.$element.data("timeframe-delay"))),a>0?setTimeout($.proxy(function(){this.show()},this),a):this.show()},MediaSaturn.Timeframe.prototype.show=function(){this.$element.addClass("state-shown")},MediaSaturn.Timeframe.prototype.hide=function(){this.$element.removeClass("state-shown"),clearInterval(this.internalId)},MediaSaturn.Timeframe.pluralFormula=function(a){return a>1?1:0},MediaSaturn.Timeframe.prototype.RemainingTime=function(a,b,c,d){function e(c,d){var e;a>b&&(c=a-b),e=Math.floor(c/1e3/60),d.days=Math.floor(e/60/24),e-=60*d.days*24,d.hours=Math.floor(e/60),e-=60*d.hours,d.minutes=e}this.diffMs=0,this.diffObj={minutes:0,hours:0,days:0},this.translations=c,this.pluralFormula=d,e(this.diffMs,this.diffObj),this.tooShort=function(){return this.diffObj.minutes<=2&&0===this.diffObj.hours&&0===this.diffObj.days},this.tooLong=function(){return this.diffObj.days>0},this.getString=function(){var a="",b="";return this.diffObj.hours>0&&(a+=this.diffObj.hours,a+="&nbsp;"+this.translations.hour[this.pluralFormula(this.diffObj.hours)]),this.diffObj.minutes>0&&(b+=this.diffObj.minutes,b+="&nbsp;"+this.translations.minute[this.pluralFormula(this.diffObj.minutes)]),a+" "+b}},MediaSaturn.Timeframe.initElements=function(){$(".timeframe:not(.state-initialized)").each(function(){new MediaSaturn.Timeframe(this)})},$(document).ready(function(){MediaSaturn.Timeframe.initElements()}),function(a){a.fn.shuffle=function(b){if("undefined"==typeof b||b.length<a(this).length)return a(this);var c=this.get(),d=a.map(c,function(d,e){var f=b[e],g=a(c[f]).clone(!0)[0];return g});return this.each(function(b){a(this).replaceWith(a(d[b]))}),a(d)}}(jQuery),function(a){a.fn.inlineStyle=function(b){return this.prop("style")[a.camelCase(b)]}}(jQuery),$.fn.stageTeaser=function(a){var b=$.extend({random:!1,delay:1e4,nav:!1,controls:!1,disablingClass:"cms_tc_disabled"},a),c={screenSize:function(){return MediaSaturn.mediaQuery.getScreenSize()}};return this.each(function(){var a,d,e,f=$(this),g=f.find("> .teasers > li"),h=g.not("."+b.disablingClass),i=!0,j=f.data("delay"),k="undefined"==typeof j?b.delay:1e3*parseInt(j,10);if(!f.is(".enhanced")){if(f.addClass("enhanced"),0===h.length&&(h=f.children().filter(function(){return"none"!==$(this).inlineStyle("display")&&!$(this).hasClass(b.disablingClass)||($(this).remove(),!1)}),h.hide()),b.nav===!0&&(d=f.find("> nav > ul > li").filter(function(a){return!g.eq(a).hasClass(b.disablingClass)||($(this).remove(),!1)}),e=d.children("a")),b.controls===!0&&h.length>1){var l=$('<a href="#" class="next"></a>'),m=$('<a href="#" class="prev"></a>');f.wrapInner('<div class="image-teaser-items"></div>'),l.add(m).appendTo(f)}var n=function(){function a(a){return function(c,d){var f,g=$(d);f=e(d),g.data("teaserOrder",f),a&&b.random===!0&&g.hasClass(j+"-fixed")===!1&&f>=0&&(g.data("teaserShuffled",!0),k.push(f))}}function e(a){var b,c;return b=$(a).prop("class"),c=b.match(g),c?parseInt(c[0].match(i)[0],10):-1}function f(){function a(a,b){var c=$(b),d=c.data("teaserOrderNew");void 0!==d&&c.data("teaserOrder",d)}function b(a){for(var b,c,d=a.length;d;b=parseInt(Math.random()*d,10),c=a[--d],a[d]=a[b],a[b]=c);return a}b(k),h.each(function(a,b){var c,e,f=$(b);f.data("teaserShuffled")&&(e=k.pop(),d&&(c=d.filter(function(a,c){var d=$(c).data("teaserOrder");return $(b).data("teaserOrder")===d}),c.data("teaserOrderNew",e)),f.data("teaserOrderNew",e))}),h.each(a),d.each(a)}var g,i,j=c.screenSize(),k=[];g=new RegExp(j+"-\\d+"),i=new RegExp("\\d+"),h.each(a(!0)),d&&d.each(a(!1)),b.random===!0&&f()},o=function(){function a(a,b){var c,d;return c=$(a).data("teaserOrder"),d=$(b).data("teaserOrder"),void 0!==c&&void 0!==d?c<d?-1:c>d?1:0:void 0!==d?1:-1}var b,c;b=h.parent(),h.sort(a),h.each(function(a,c){b.append(c)}),d&&(c=d.parent(),d.sort(a),d.each(function(a,b){c.append(b)}),e=d.children("a"))},p=function(a){var b=h.filter(".active").first();return"boolean"==typeof a&&a===!0?h.index(b):b.length>0?b:null},q=function(){var a=p(),b=c.screenSize(),d=b+"-hide",e=a?a.nextAll():h,f=e.not("."+d).first();return 0===f.length&&(f=h.not("."+d).first()),h.index(f)},r=function(){var a=p(),b=c.screenSize(),d=b+"-hide",e=a?a.prevAll():h,f=e.not("."+d).first();return 0===f.length&&(f=h.not("."+d).last()),h.index(f)},s=function(a){if(0!==a.length)if(void 0===a.data("productContainer"))a.productContainer();else{var b=a.data("productContainerTeaserRecalculated");b||(a.productContainer("recalculate"),a.data("productContainerTeaserRecalculated",!0),$(window).off("fee_breakpoint_change.teaser").on("fee_breakpoint_change.teaser",function(){f.find(".product-container:hidden").each(function(a,b){$(b).data("productContainerTeaserRecalculated",!1)})}))}},t=function(a,c){var d,f=!0;"number"!=typeof a?"undefined"==typeof a||"next"===a?d=q():"prev"===a?d=r():"boolean"==typeof a&&(f=a):(d=a,"boolean"==typeof c&&(f=c));var g=p(),i=h.eq(d);i.children().find("img[data-original]").lazyload({failure_limit:300}),f?(g&&g.fadeOut(function(){$(this).removeClass("active"),g.find(".image-teaser").trigger("hide")}),i.fadeIn({step:function(a,b){0===a&&($(b.elem).css("opacity","1"),$(window).trigger("scroll"))},complete:function(){$(this).addClass("active"),$(window).trigger("scroll"),s($(this).find(".product-container")),$(document).trigger("show_teaser.stageteaser")}}),i.find(".image-teaser").trigger("show")):(g&&(g.hide(),g.removeClass("active"),g.find(".image-teaser").trigger("hide")),i.show(),$(window).trigger("scroll"),i.addClass("active"),i.find(".image-teaser").trigger("show"),s(i.find(".product-container")),$(document).trigger("show_teaser.stageteaser")),b.nav===!0&&(e.filter(".active").removeClass("active"),e.eq(d).addClass("active"))},u=function(){var a=Math.max.apply(null,h.map(function(){return $(this).filter(":visible").outerHeight()}).get()),c=h.find(".static");h.add(c).each(function(){var b=$(this).height(),c=$(this).outerHeight(),d=c-b;c!==a&&($(this).css("min-height",a-d+"px"),f.css("min-height",a-d+"px"))}),b.nav===!0&&d.css("width",100/d.filter(":visible").length+"%")},v=function(){$(".teasers .photo:visible img").each(function(){$(this).attr("src")!==$(this).attr("data-original")&&$(this).lazyload({failure_limit:300})})},w=function(){n(),o();var a=p(),b=c.screenSize()+"-hide",d=h.index(h.not("."+b).eq(p(!0)));y(),h.filter("."+b).hide(),a&&a.is("."+b)&&(d=d<0?0:d,t(d,!1)),i===!0&&x()},x=function(){clearInterval(a),k>0&&h.not("."+c.screenSize()+"-hide").length>1&&(a=setInterval(function(){t()},k))},y=function(b){clearInterval(a),"perm"===b&&(f.unbind("mouseenter"),f.unbind("mouseleave"),i=!1)},z=function(){var a=f.children().first(),b=a.attr("style");b&&b.indexOf("height")>=0?f.css("min-heigth",a.find("img").first().height()):f.css("min-height",Math.max.apply(Math,h.map(function(){return $(this).find("img").first().height()}).get())+"px"),x()},A=function(){y()},B=function(){v(),w(),u()},C=function(){var a,b=f[0];Modernizr.touchevents&&(f.parents(".swipe-navigation-initialized").length||(a=new Hammer.Manager(b,{recognizers:[[Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL}]]}),a.on("swipe",function(a){a.direction===Hammer.DIRECTION_LEFT&&t("next"),a.direction===Hammer.DIRECTION_RIGHT&&t("prev")}),f.addClass("swipe-navigation-initialized")))},D=function(){n(),o(),u(),t(),(f.is(":visible")||"visible"===f.css("visibility"))&&z(),f.on("show",function(a){z(),a.stopPropagation()}),f.on("hide",function(a){A(),a.stopPropagation()}),f.on("reflow",function(a){B(),a.stopPropagation()}),b.nav===!0&&e.click(function(){var a=e.index($(this));return $(this).hasClass("active")||t(a),y("perm"),!1}),f.on("mouseenter",function(){y()}),f.on("mouseleave",function(){x()}),b.controls===!0&&h.length>1&&(l.click(function(){return t("next"),!1}),m.click(function(){return t("prev"),!1})),h.length>1&&C(),$(document).trigger("fee.fgrid_refresh","img")};D();var E=$(window).width();$(window).resize($.throttle(250,function(){E!==$(window).width()&&B()}))}})},MediaSaturn.agerating=function(){var a,b,c,d=function(a,b,c){void 0!==b&&$.ajax({url:b,method:"GET",dataType:"html",success:function(b){$.colorbox({html:b,transition:"none",overlayClose:!1,escKey:!1,onLoad:function(){$("#cboxClose").remove()},onComplete:function(){$("#agerating").find(".agerating-agree").on("click",function(b){var d,e=$(this).data("cb-confirm"),f=$(this).closest("#agerating");b.preventDefault(),executeFunctionByName(e,window,f),d=a(),c===!0&&d===!0||$.colorbox.close()})}})},error:function(a){}})};return{init:function(){var d=$("meta[property=agerating]");a=d.data("cb-show-links"),b=d.data("cb-display-layer"),c=d.data("cb-open-player")},conditionalHide:function(b,c,d){b.each(function(b,e){var f,g=executeFunctionByName(a,window,e);g===!1&&(f=$(e).find(c),f.hide(),void 0!==d&&d(f))})},conditionalAction:function(a,e,f,g){function h(a,b){var d,e;$.isFunction(b)?d=b:(d=b.conditionTrue,e=b.conditionFalse);var f=executeFunctionByName(c,window,a);return f===!0?d():e&&e(),f}var i=executeFunctionByName(b,window,a);i===!0?d(function(){return h(a,e)},f,g):h(a,e)}}}(),$(document).ready(function(){MediaSaturn.agerating.init()}),MediaSaturn.Brandshop={},MediaSaturn.Brandshop.content=function(){var a=$("#brands-select");a.change(function(){var a=$(this).find("option:selected");a.is("[value]")&&(window.location=a.val())}),$(".brands-grid img[data-original]").lazyload(),$(".brand-image img[data-original]").lazyload(),$(".brand-categories-grid img[data-original]").lazyload()},jQuery(document).ready(function(a){MediaSaturn.Brandshop.content(),a(document).on("fee_ajax_page_refresh",function(){MediaSaturn.Brandshop.content()})}),window.MediaSaturn.Category={},$.fn.inputEnhance=function(){return this.each(function(){var a=$(this),b=a.closest("li"),c=function(){b.toggleClass("active")};a.is(":checked")&&b.addClass("active"),a.change(c)})},$.fn.scrollableOptions=function(){return this.each(function(){var a=$(this),b=a.data("height");"undefined"!==b&&a.css("height",b+"px")})},MediaSaturn.Category.detectSidebar=function(){var a=$("#sidebar-wrapper");0===a.children(".side").length&&0===a.children("#filters").length&&a.children(".main").addClass("fw")},MediaSaturn.Category.filtersForm=function(){var a=$("#filters"),b=a.is("form")?a:a.find("form:not(.contentspot form)").first();return b},MediaSaturn.Category.priceUpdateCallback=function(a){var b=$(a).parents(".filter-price").find(".price-range-slider"),c=b.data("callback"),d=b.data("from"),e=b.data("to"),f=b.data("value");"undefined"!=typeof c&&""!==c&&executeFunctionByName(c,window,d,e,f)},MediaSaturn.Category.filterPriceValidate=function(a,b){function c(a){j.length&&j.html(a).show()}function d(){j.length&&j.html("").hide()}var e=$(a).parents(".filter-price"),f=e.find(".price-from").val(),g=e.find(".price-to").val(),h=e.find(".price-range-slider").data("min"),i=e.find(".price-range-slider").data("max"),j=e.find(".error-msg"),k=e.find(".price-range-slider").data("error-msg-greater"),l=e.find(".price-range-slider").data("error-msg-empty"),m=e.find(".price-range-slider").data("error-msg-digits"),n=/^[0-9]*$/;return b!==!0?""===g&&""===f?(c(l),!1):n.test(f)===!1||n.test(g)===!1?(c(m),!1):(""===f&&(f=h),""===g&&(g=i),f=Number(f),g=Number(g),(isNaN(f)||f<h)&&(f=Number(h)),(isNaN(g)||g>i)&&(g=Number(i)),f>g?(c(k),!1):(d(),e.find(".price-from").val(f),e.find(".price-to").val(g),!0)):void(n.test(f)===!1||n.test(g)===!1?c(m):d())},MediaSaturn.Category.clearFilterParams=function(){if(0===$("#category.category-list").length&&0===$("#category.category-grid").length)return!1;var a=MediaSaturn.Category.filtersForm(),b=a.find(".select select"),c=function(){var a=!0;return b.each(function(){if(0!==this.selectedIndex)return a=!1,!1}),a}(),d=a.find('input[type="checkbox"]:checked'),e=a.find('input[type="radio"]:checked'),f=$(".price-range-slider"),g=!0;f.each(function(){var a=String($(this).attr("data-min")),b=String($(this).parents(".filter-price").find("input.price-from").val()),c=String($(this).attr("data-max")),d=String($(this).parents(".filter-price").find("input.price-to").val());if(a!==b||c!==d)return g=!1,!1}),c===!0&&0===e.length&&0===d.length&&g&&$("#filterParams").removeAttr("value")},MediaSaturn.Category.PriceSlider=function(){return 0!==$(".price-range-slider").length&&void $(".price-range-slider").each(function(){var a=$(this);a.slider({range:a.data("range"),min:a.data("min"),max:a.data("max"),set:a.data("set"),step:a.data("step"),values:a.data("values").split(","),slide:function(b,c){a.data("from",c.values[0]),a.data("to",c.values[1]),$(this).parents(".filter-price").find(".price-from").val(c.values[0]),$(this).parents(".filter-price").find(".price-to").val(c.values[1])},stop:function(b,c){a.parents(".filter-price").find("button").click()}})})},MediaSaturn.Category.PriceSliderClickHandler=function(a){a.preventDefault();var b=MediaSaturn.Category.filtersForm();if(MediaSaturn.Category.filterPriceValidate(this,!1)){var c=$(this).parents(".filter-price"),d=c.find(".price-range-slider");d.data("from",c.find(".price-from").val()),d.data("to",c.find(".price-to").val()),MediaSaturn.Category.priceUpdateCallback(this),MediaSaturn.Category.clearFilterParams(),b.submit()}},MediaSaturn.Category.filterSupport=function(){var a=$("#category");if(0!==a.filter(".category-grid").length||0!==a.filter(".category-list").length||0!==a.filter(".search-results").length){var b,c=window.History,d=(c.getState(),!1),e=a.not(".search-results").length>0,f=function(){b=MediaSaturn.Category.filtersForm();var a=$(".grid-trigger"),c=$("#sort-by-select"),d=$(".pagination"),f=b.find('input[type="checkbox"]'),g=b.find(".select select"),i=b.find('input[type="radio"]'),j=$(".filters").first().find("li"),k=function(){if(0===d.length)return!1;var a=b.find('input[name="'+d.eq(0).data("name")+'"]'),c=parseInt(d.find("li.active").first().text(),10);a.val(c)};if(a.length>0){var l=a.data("name"),m=b.find('input[name="'+l+'"]');m.val($(".grid-trigger.is-active").data("filter")),a.click(function(a){if(a.preventDefault(),$(this).hasClass("is-active")===!1){var c=$(this).data("name"),d=b.find('input[name="'+c+'"]');d.val($(this).data("filter")),k(),b.submit()}})}if(c.length){var n=b.find('input[name="'+c.attr("name")+'"]');c.change(function(){return MediaSaturn.eventTracker.fire("sort-by-sort-id",{name:$(this).val()}),b.submit(),!1})}if(d.length){var o=b.find('input[name="'+d.eq(0).data("name")+'"]');d.each(function(){var a=$(this),c=a.children("li"),d=a.find("a");parseInt(c.filter(".active").text(),10);d.click(function(){var a=$(this).parent().data("value");return o.val(a),b.submit(),!1})})}j.length>0&&j.on("click",function(){if(1===j.length&&e===!0)$("#filterParams").val("");else{var a=$(this).data("value");$("#filterParams").val(a)}return b.submit(),!1}),f.change(function(){return $("#filterParams").val($(this).val()),MediaSaturn.Category.clearFilterParams(),b.submit(),!1}),g.change(function(){return $("#filterParams").val($(this).val()),MediaSaturn.Category.clearFilterParams(),b.submit(),!1}),i.change(function(){return $("#filterParams").val($(this).val()),MediaSaturn.Category.clearFilterParams(),b.submit(),!1}),b.bind("submit",function(){return"undefined"!=typeof n&&n.length>0&&n.val(c.val()),b.find(":input:not([type=hidden])").prop("disabled",!0),h(),!1})},g=function(){if(0!==$(".container").length){var a='<div id="loading"><div class="spinner"></div></div>';$(a).appendTo("body");var b=$(".container"),c=b.height(),d=b.width(),e=b.offset();$("#loading").css({width:d+"px",height:c+"px",top:e.top+"px",left:e.left+"px"}).fadeIn(400)}},h=function(a){var e="undefined"==typeof a?b.serialize():a;if("undefined"==typeof a){d=!0;var h=document.title;c.pushState({formState:e},h,"?"+e)}else $.ajax({type:"GET",url:b.attr("action"),data:e,cache:!1,beforeSend:function(){g()},complete:function(a){$("#loading").fadeOut(400,function(){$(this).remove()})},success:function(a){var c,e=$(a);if($("#sidebar-wrapper").replaceWith(e),c=$("#sidebar-wrapper"),$(document).trigger("fee_ajax_page_load",[{content:c}]),MediaSaturn.offcanvasSidebar(),f(),$(document).trigger("fee_ajax_page_refresh"),$(document).trigger("fee.fgrid_refresh"),MediaSaturn.selectEnhanced(),MediaSaturn.Widgets.CheckGridItemButton(),MediaSaturn.Category.PriceSlider(),$(".price").priceImageReplacement(),$("[data-simple-tooltip]").simpleTooltip(),MediaSaturn.clickableLinks(),c.find(".photo img[data-original]").lazyload(),MediaSaturn.Widgets.customizedFilters(),c.find(".product-container").productContainer(),c.find('ul.options input[type="checkbox"]').inputEnhance(),$(".base-info").length&&$(".base-info h3").dotdotdot(),MediaSaturn.agerating.conditionalHide($(".product-wrapper").has(".js-media-play"),".js-media-play"),c.find(".price-details .tooltip, .product-price .tooltip").click(function(){return!1}).tooltips({contentAfter:!0}),d===!0&&($("#category").first().offset().top<$(document).scrollTop()&&$.scrollTo("#category",750),d=!1),MediaSaturn.Timeframe.initElements(),MediaSaturn.eventTracker.fire("category-page-ajax-impression"),$(".teaser:not(.randomize)").stageTeaser({nav:!0}),$(".teaser.randomize").stageTeaser({random:!0,nav:!0}),$(".image-teaser:not(#top-navigation .image-teaser)").stageTeaser({controls:!0}),$(MediaSaturn.CmsSlider.SELECTOR).each(function(){new MediaSaturn.CmsSlider($(this))}),MediaSaturn.PhotosCarousel.init(),MediaSaturn.ModalGallery.init(),$(".grid-trigger").length>0){var g=$(".grid-trigger").data("name"),h=b.find('input[name="'+g+'"]');h.val($(".grid-trigger.is-active").data("filter"))}}})};f(),c.replaceState({formState:b.serialize()},"",""),$(document).on("click",".filter-price .button",MediaSaturn.Category.PriceSliderClickHandler),$(document).on("keydown",".filter-price .inline-input input",function(a){13===a.which&&$(this).is(":focus")&&(a.preventDefault(),$(this).parents(".filter-price").find(".button").click())}),$(document).on("keyup",".filter-price .inline-input input",function(a){13!==a.which&&MediaSaturn.Category.filterPriceValidate(this,!0)}),$(document).on("click","#filters .options .reset a",function(){return $("#filterParams").val(""),b.submit(),!1}),c.Adapter.bind(window,"statechange",function(){var a=c.getState();"undefined"!=typeof a.data.formState&&h(a.data.formState)}),$(document).on("click","#search-suggestion li > a",function(){return $("#filterParams").val($(this).data("params")),b.submit(),!1})}},MediaSaturn.Category.availabilityBoxesCallback=function(a,b){var c=$(a);"undefined"!=typeof b&&""!==b&&executeFunctionByName(b,window,c)},MediaSaturn.Category.availabilityBoxes=function(){var a=$(".market-buy a").attr("href");"#"!==a&&""!==a||(a=$(".market-buy a").data("href")),$(".market-buy a").colorbox({href:a,className:"sdpu-context"}),$("#colorbox").on("click","#market-pick .markets a, .market-buy .markets a",function(){var a=$(this).closest("#market-pick");0===a.length&&(a=$(this).closest(".market-buy"));var b=a.data("callback");return MediaSaturn.Category.availabilityBoxesCallback(this,b),!$(this).closest("#colorbox").hasClass("sdpu-context")||(location.reload(),!1)});var b=MediaSaturn.Category.getAllMarketsFilterHandler("#market-pick");$("#colorbox").on("click","#market-pick .alphabet a, #market-pick .show-all",function(a){b.call(this,a)})},MediaSaturn.Category.infieldNav=function(){if(!Modernizr.touchevents){var a=$(".infield > li"),b=function(){var a=$(this),b=a.find(".infield-list"),c=a.data("initialized"),d=14;if(void 0===c){if(b.find("li").length>=d&&(a.addClass("infield-columns"),!Modernizr.csscolumns)){var e,f,g,h,i,j,k;i=Math.ceil(b.find("li").length/2),b.show(),$.each(b.find("li"),function(a,c){0===a&&(e=$(c).offset().top),a===i-1&&(f=$(c).offset().top+$(c).outerHeight(!0),j=f-e),a===i&&($(c).css({"margin-top":"-"+j+"px"}),g=$(c).offset().top),a>=i&&$(c).addClass("col-2"),a===b.find("li").length-1&&(h=$(c).offset().top+$(c).outerHeight(!0),k=h-g)}),j>k&&b.css({height:j+"px"}),b.hide()}$(this).data("initialized",!0)}a.addClass("infield-expanded"),b.animate({height:"toggle",opacity:"toggle"},150)},c=function(){var a=$(this),b=a.find(".infield-list");b.stop().animate({height:"toggle",opacity:"toggle"},150,"swing",function(){a.removeClass("infield-expanded")})};a.on({mouseenter:b,mouseleave:c});var d=$("#category").children(".infield");if(d.length){var e=d.offset().top-d.parent().offset().top;$(".container > .side").css("padding-top",e+"px")}$("html").is(".ie8")&&($(".infield > li:nth-child(3n)").addClass("nth-child-3n"),$(".infield > li:nth-child(4n)").addClass("nth-child-4n"),$(".infield > li:nth-child(5n)").addClass("nth-child-5n"))}},MediaSaturn.Category.getAllMarketsFilterHandler=function(a){return function(b){var c,d=$(a),e=$(this).text().toLowerCase(),f=d.find(".markets li");$(this).is(".show-all")?f.show():(c=f.map(function(){if(e===$(this).text()[0].toLowerCase())return this}),f.show().not(c).hide())}},MediaSaturn.Category.defineCustomEvents=function(){function a(a){var b,c,d=$(this),e=d.attr("href"),f=d.parents(".products-list > li:not(.infoportal-compare, .wishlist-item, .with-contenspot)"),g=f.find(".product-wrapper:not(.info-item-wrapper, .cms-wrapper, .market-wrapper, .tph-wrapper) .content h2 a");g.length&&(b=g.attr("href"),"undefined"!=typeof e&&0===e.indexOf(b)&&(c=f.find("> .product-wrapper").get(0),$(document).trigger("fee_products_list_product_details",{product:c})))}$(document).on("click","#category .products-list a",a)},jQuery(document).ready(function(a){MediaSaturn.category_detect_sidebar=new MediaSaturn.Category.detectSidebar,MediaSaturn.category_price_sliders=new MediaSaturn.Category.PriceSlider,MediaSaturn.category_filter_support=new MediaSaturn.Category.filterSupport,MediaSaturn.category_availability_boxes=new MediaSaturn.Category.availabilityBoxes,MediaSaturn.category_infieldNav=new MediaSaturn.Category.infieldNav,MediaSaturn.Category.defineCustomEvents(),a("#filters").find('ul.options input[type="checkbox"]').inputEnhance(),a("#filters").find(".scrollable").scrollableOptions(),a(".base-info").length&&a(".base-info h3").dotdotdot(),a(".product-details dd").length&&a(".product-details dd").dotdotdot();var b=a(".product-wrapper").has(".js-media-play");MediaSaturn.agerating.conditionalHide(b,".js-media-play")}),$(document).on("fee_ready",function(){$(".products-grid").lazyLoadImages({multiplier:1}),$(".products-list").lazyLoadImages({
multiplier:3})});var CompareTable={init:function(){var a=$("#compare-table");0!==a.length&&(this.enhanceTable(a),this.enableRowsCompare())},enhanceTable:function(a){a.find("tbody").each(function(){var a=$(this),b=a.find(".caption"),c=b.find("th:first-child").wrapInner('<a href="#" class="trigger"></a>'),d=c.find(".trigger").append('<span class="arrow"></span>'),e="closed";d.click(function(){return a.hasClass(e)?a.removeClass(e):a.addClass(e),!1})})},enableRowsCompare:function(){$(".js-toggle-compare").on("click",CompareTable.toggleSimilarRowsClickHandler)},toggleSimilarRowsClickHandler:function(a){a.preventDefault();var b=$(this),c=b.data("alternate-text"),d=b.find("span").text();b.find("span").text(c),b.data("alternate-text",d),"differences"===b.data("mode")?(CompareTable.hideSimilarRows(),b.data("mode","all")):(CompareTable.showAllRows(),b.data("mode","differences"))},hideSimilarRows:function(a){var b=$("#compare-table thead, #compare-table tbody");b.each(function(a,b){b=$(b),b.trigger("open");var c=b.find("tr");c.each(function(a,b){if(b=$(b),!b.hasClass("caption")&&!b.hasClass("row-exclude")){var c=b.find("td"),d=!0;if(c.length>1){for(var e=1;e<c.length&&(d=$(c[0]).text()===$(c[e]).text(),d!==!1);e++);d===!0&&b.addClass("hide").addClass("equal-row")}}}),c.not(".caption").not(".row-exclude").length===b.find(".equal-row").length&&$(c).first().addClass("hide").addClass("hide-row")})},showAllRows:function(){$(".equal-row").removeClass("hide").removeClass("equal-row"),$(".hide-row").removeClass("hide-row").removeClass("hide")}};$(function(a){CompareTable.init()}),Function("/*@cc_on return document.documentMode===10@*/")()&&(document.documentElement.className+=" ie10"),MediaSaturn.hasEmptyHref=function(a){var b=a.attr("href");return void 0===b||""===b||"#"===b},MediaSaturn.Widgets.InfoBar=function(){var a=$("#filters"),b=$("#infobar");0!==$("#header").length&&("closed"===$.cookie("MC_MARKET_ROW_STATE")?(b.hide(),this.eventsCarousel(!1),a.length>0&&a.removeClass("is-info-bar"),$("#header .right-meta-navigation ul .infobar-open").show()):"hidden"!==b.data("state")||"opened"===$.cookie("MC_MARKET_ROW_STATE")?(b.show(),this.eventsCarousel(!0),a.length>0&&a.addClass("is-info-bar")):$("#header .right-meta-navigation ul .infobar-open").show(),b.on("click.infobar"," .close",this.close),$(".right-meta-navigation").on("click.infobar",".user-area .market, .infobar-open a",this.show),b.on("click.popup",".link-with-popup > a",function(a){a.preventDefault(),$(this).parent().toggleClass("state-popup-shown")}))},MediaSaturn.Widgets.InfoBar.prototype.close=function(a){a.preventDefault(),$("#infobar").slideUp("fast",function(){$("#header .right-meta-navigation ul .infobar-open").show(),MediaSaturn.Widgets.InfoBar.prototype.eventsCarousel(!1)}),$(".user-area .market").slideDown();var b=$("#filters");b.length>0&&b.removeClass("is-info-bar"),$.cookie("MC_MARKET_ROW_STATE","closed",{expires:365,path:"/"})},MediaSaturn.Widgets.InfoBar.prototype.show=function(a){a.preventDefault(),$("#header .right-meta-navigation .infobar-open").hide(),$("#infobar").slideDown("fast"),MediaSaturn.Widgets.InfoBar.prototype.eventsCarousel(!0),$(".user-area .market").hide();var b=$("#filters");b.length>0&&b.addClass("is-info-bar"),$.cookie("MC_MARKET_ROW_STATE","opened",{expires:365,path:"/"})},MediaSaturn.Widgets.InfoBar.prototype.eventsCarousel=function(a){var b=4e3,c=1e3,d=0,e="#infobar ul.events",f=$("#infobar ul.events"),g=$(e+" li").length;$(e+" li:not(:first)").css("opacity","0").hide(),$(e+" li:first").css("opacity","1").addClass("active");var h=f.data("timer"),i=function(){var a=setInterval(function(){$(e+" li:eq("+d+")").animate({opacity:0},c,function(){$(this).removeClass("active").hide(),d=(d+1)%g,$(e+" li:eq("+d+")").addClass("active").show().animate({opacity:1},c)})},b);f.data("timer",a)},j=function(){var a=f.data("timer");clearInterval(a),$(e+" li.active").stop().animate({opacity:1},150)},k=function(){i()};g>1&&(a?(i(),f.hover(function(){j()},function(){k()})):clearInterval(h))},MediaSaturn.Widgets.CheckGridItemButton=function(){if(0!==$(".products-grid").length){var a=$(".products-grid li");a.each(function(){var a=$(this).find(".b-set"),b=$(this).find(".unit-price"),c=$(this).find(".installment-compact");a.length&&a.is(":visible")&&$(this).find(".base-info").addClass("cta"),b.length&&c.length&&$(this).find(".installment-compact").addClass("up-present")});var b=$(".products-carousel"),c=b.prev(".without-border");c.addClass("pt-headline")}},MediaSaturn.Widgets.ChooseMarket=function(){0!==$("#choose-market").length&&$("#choose-market input").on("keyup.choosemarket",function(a){var b=$(this).val();b.length>2&&($("#choose-market .autocomplete").addClass("active"),$("#choose-market").find("a").mousedown(function(a){a.stopPropagation()}),$(document).bind("mousedown.choosemarket",function(){$(document).unbind("mousedown.choosemarket"),$("#choose-market .autocomplete").removeClass("active")}))})},MediaSaturn.Widgets.Compare=function(){0!==$("#compare-products").length&&($(document).on("click","#compare-products a.hide-compare",this.hide),$(document).on("click","#compare-products a.show-compare",this.show),$(document).on("click","#compare-products .remove",this.removeItem))},MediaSaturn.Widgets.Compare.prototype.hide=function(a){a.preventDefault(),$("#compare-products").animate({bottom:"-66px"},200,function(){$(this).css("bottom",0).removeClass("active")})},MediaSaturn.Widgets.Compare.prototype.show=function(a){a.preventDefault(),$("#compare-products").css("bottom","-66px").addClass("active").animate({bottom:0},200)},MediaSaturn.Widgets.Compare.prototype.removeItem=function(a){a.preventDefault(),$(a.target).parent().fadeOut(function(){$(this).remove(),$("#compare-products .counter").html($("#compare-products .products li").length),0===$("#compare-products .products li").length&&$("#compare-products .hide-compare").click()})},MediaSaturn.Widgets.Filters=function(){0===$(".filters").length&&0===$("#filters").length&&0===$(".page-side-nav").length||($(document).on("click.filters",".filters li",this.removeFilterTag),$(document).on("click.filters",'#filters fieldset:not(".filter-static") .headline',this.toggleSection),$(document).on("click.filters","#filters .options .expand a",this.toggleAll))},MediaSaturn.Widgets.customizedFilters=function(){$("#filters .expandable, .filters .expandable").each(function(){$(this).children("li:gt(4)").hide(),$(this).append('<li class="sm"><a href="#" class="showmore">mehr &rsaquo;</a></li>'),$(this).find("a.showmore").on("click",function(a){a.preventDefault(),$(this).parents(".expandable").children('li:not(".sm"):gt(4)').toggle()}),$(this).find("a.showmore").toggle(function(){$(this).html("weniger &rsaquo;")},function(){$(this).html("mehr &rsaquo;")})}),$("#filters .expandable2, .filters .expandable2").each(function(){$(this).children('li:not(".sm")').length<9||($(this).children("li:gt(7)").hide(),$(this).find("li.sm-show").show(),$(this).find("a.showmore").on("click touchstart",function(a){a.preventDefault(),$(a.currentTarget).parent().hasClass("sm-hide")?$(this).parents(".expandable2").children('li:not(".sm"):gt(7)').toggle(!1):$(this).parents(".expandable2").children('li:not(".sm"):gt(7)').toggle(!0),$(this).parent("li").hasClass("sm-show")?($(this).parents(".expandable2").addClass("scrollable").css("height","180px"),$(this).parent().hide(),$(this).parents(".expandable2").find("li.sm-hide").show()):($(this).parents(".expandable2").removeClass("scrollable").css("height","auto"),$(this).parent().hide(),$(this).parents(".expandable2").find("li.sm-show").show())}))}),$("#filters input:radio, .filters input:radio").each(function(){$(this).is(":checked")&&$(this).parent().next(".custom-value").show()}),$("#filters input:radio, .filters input:radio").on("change",function(){var a=$(this).parent().next(".custom-value");$(".custom-value").hide(),$(this).is(":checked")&&a.fadeIn("fast")})},MediaSaturn.Widgets.Filters.prototype.removeFilterTag=function(a){a.preventDefault(),$(this).fadeOut("fast",function(){$(this).remove()})},MediaSaturn.Widgets.Filters.prototype.toggleSection=function(a){a.preventDefault(),$(this).parent().toggleClass("active")},MediaSaturn.Widgets.Filters.prototype.toggleAll=function(a){a.preventDefault(),$(this).html()===$(this).data("hidetext")?($("#filters fieldset").addClass("inactive").removeClass("active"),$(this).html($(this).data("showtext"))):($("#filters fieldset").addClass("active").removeClass("inactive"),$(this).html($(this).data("hidetext")))},$.fn.basketList=function(){var a=$(this),b=a.parent("li");$("html").hasClass("ie8")&&0===b.find("a.first").length&&b.find("a:first-child").addClass("first")},function(a){var b={init:function(c){var d=a(document);d.on("click",function(c){a(c.target).parents(".store").length||a(c.target).parents("#colorbox").length||b.close.call(this,c)}),d.on("click","#header .store",function(c,d){a(c.target).is(".trigger")&&(d?b.open.call(this,c,d):a(this).is(".enabled")?b.close.call(this,c):b.open.call(this,c,d))}),d.on("click","#header .basket .delete",b.removeItem)},open:function(c,d){a(c.target).is(".trigger")&&c.preventDefault();var e=a(this),f=e.find(".trigger"),g=e.find(".basket"),h=a('<span class="loading small"><span></span></span>');if(!a(c.target).is(".delete")){b.close();var i=!("undefined"==typeof d||!d.reload);if(e.is(".loaded")&&i===!1)e.addClass("enabled").find(".basket").show();else{var j=f.data("load-url");e.addClass("enabled"),g.show().html(h),a.ajax({cache:!1,url:j,data:{},dataType:"jsonp"}).done(function(b){var c=a(b.content);e.replaceWith(c),e=c.addClass("enabled").addClass("loaded"),e.find(".basket").show()}).fail(function(a){})}}},removeItem:function(b){b.preventDefault();var c=a(this).data("load-url"),d=a(this).parents(".store"),e=d.find(".basket"),f=a('<span class="loading small ontop"><span></span></span>');e.append(f),a.ajax({cache:!1,url:c,data:{},dataType:"jsonp"}).done(function(b){var c=a(b.content);d.replaceWith(c),d=c.addClass("enabled").find(".basket").show(),d.addClass("loaded")}).fail(function(a){})},close:function(b){var c=a(".store.enabled");c.removeClass("enabled"),c.find(".basket").hide()}};a.fn.headerFlyout=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not exist on jQuery.headerFlyouts"):b.init.apply(this,arguments)}}(jQuery),function(a){var b,c,d,e,f,g,h=!1,i={settings:{inDelay:350,outDelay:500},init:function(){b=a(document),c=a(this).addClass("enhanced"),d=null,e=c.children("a").first(),f=c.find(".basket"),g=a('<span class="basket-close">x</span>').appendTo(c),b.on("fee.cart_reload",i.refreshCart),Modernizr.touchevents?(i.settings.inDelay=i.settings.outDelay=0,a("#header").on("click",".cart",function(b){(a(b.target).is(".trigger")||a(b.target).parents(".trigger").length)&&(a(this).is(".enabled")||(b.preventDefault(),i.hoverIn.call(this,b))),a(b.target).is(".basket-close")&&i.hoverOut.call(this,b)}).on("hoverin.cart.fee",".cart",i.hoverIn).on("hoverout.cart.fee",".cart",i.hoverOut)):(b.on("mouseenter","#header .cart",i.hoverIn),b.on("mouseleave","#header .cart",i.hoverOut)),a("#header").on("click",".cart .button",function(){if(a(this).preventDoubleClick())return!1})},hoverIn:function(b){clearTimeout(d),""===a.trim(f.html())&&i.loadCart(),void 0!==b.originalEvent&&(h=!0),d=setTimeout(i.open,i.settings.inDelay)},hoverOut:function(){clearTimeout(d),d=setTimeout(i.close,i.settings.outDelay)},open:function(){f.show(),Modernizr.touchevents&&g.show(),c.addClass("enabled"),h&&(MediaSaturn.eventTracker.fire("top-navigation-basket-pulldown"),h=!1)},close:function(){f.hide(),Modernizr.touchevents&&g.hide(),c.removeClass("enabled")},refreshCart:function(a,b){i.loadCart(b)},loadCart:function(b){""===a.trim(f.html())?a('<span class="loading small"><span></span></span>').appendTo(f):a('<span class="loading small ontop"><span></span></span>').appendTo(f);var d=e.attr("data-load-url");"undefined"!=typeof b&&(b.url&&""!==b.url&&(d=b.url),"function"==typeof b.beforeCallback&&b.beforeCallback()),a.ajax({cache:!1,url:d,data:{},dataType:"jsonp"}).done(function(d){f.find(".loading").remove(),c.find(".articles").html(a(d.content).find(".articles").html()),c.find(".trigger").prop("href",a(d.content).find(".trigger").prop("href")),f.html(a(d.content).find(".content")),"undefined"!=typeof b&&("function"==typeof b.afterCallback&&b.afterCallback(),b.open!==!1&&a("#header .cart").trigger("mouseenter"))}).fail(function(a){})}};a.fn.cartFlyout=function(b){return i[b]?i[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.cartFlyout"):i.init.apply(this,arguments)}}(jQuery),MediaSaturn.Widgets.addThisSocials=function(){if(0!==$("div.social").length){var a=$(".social"),b=a.find(".addthis-enabler"),c=$('<span class="tooltip under"><span class="tooltip_content"><span class="tooltip-wrapper"></span></span></span>'),d=b.prop("title"),e='<span class="arrow">',f=b.data("script"),g=document.createElement("script");g.type="text/javascript",g.src=f,b.append(c),b.find(".tooltip-wrapper").html(d),b.removeAttr("title");for(var h=11;h>1;h--)e+='<span class="arrow-element arrow-element-'+(h-1)+'"></span>';e+="</span>",b.find(".tooltip-wrapper").append($(e)),b.on("mouseenter",function(){$(this).find(".tooltip_content").show()}).on("mouseleave",function(){$(this).find(".tooltip_content").hide()}).on("click",function(){a.append(g),$(this).remove()})}},MediaSaturn.Widgets.AddToCompare=function(){$(document).on("click",".add-to-compare:not(.disable-event)",function(){if(!$(this).data("isClicked")){var a=$(this).attr("data-href");$.ajax({cache:!1,type:"POST",url:a,data:{},dataType:"json"}).done(function(a){$("#list-compare .trigger").trigger("click",[{reload:!0}]),$(".nav-flyout--compare").trigger("flyout-reload"),$.colorbox({overlayClose:!1,escKey:!1,html:a.content,onLoad:function(){$("#cboxClose").remove()},onComplete:function(){$.colorbox.resize(),$("#continue-shopping").on("click",function(){return $.colorbox.close(),!1})}})}).fail(function(a){$.colorbox({overlayClose:!1,escKey:!1,html:a.content,onComplete:function(){$("#continue-shopping").on("click",function(){return $.colorbox.close(),!1})}})});var b=$(this);b.data("isClicked",!0),setTimeout(function(){b.removeData("isClicked")},5e3)}return!1})},MediaSaturn.Widgets.AddToWishlist=function(){$(document).on("click",".js-add-to-wishlist:not(.disable-event)",function(){if(!$(this).data("isClicked")){var a=$(this).attr("data-href");$.ajax({cache:!1,type:"POST",url:a,data:{},dataType:"json"}).done(function(a){$("#list-wishlist .trigger").trigger("click",[{reload:!0}]),$(".nav-flyout--wishlist").trigger("flyout-reload"),$.colorbox({overlayClose:!1,escKey:!1,html:a.content,onLoad:function(){$("#cboxClose").remove()},onComplete:function(){$.colorbox.resize(),$("#continue-shopping").on("click",function(){return $.colorbox.close(),!1})}})}).fail(function(a){$.colorbox({overlayClose:!1,escKey:!1,html:a.content,onComplete:function(){$("#continue-shopping").on("click",function(){return $.colorbox.close(),!1})}})});var b=$(this);b.data("isClicked",!0),setTimeout(function(){b.removeData("isClicked")},5e3)}return!1})},$.fn.priceImageReplacement=function(){return this.each(function(){var a,b,c,d=$(this),e="",f=null,g=",",h="";d.find(".price-old-info").length>0&&(f=d.find(".price-old-info").clone(),d.find(".price-old-info").remove()),e=$(this).text().replace(/\s+/g,""),g=e.indexOf(",")>-1?",":".",a=e.split(""),b=a.indexOf(g),c=b<0?a.length-1:b-1,$.each(a,function(b,d){h+='<span class="',d.match(/^[0-9]$/)?(h+="p-"+d,b>c&&(h+=" p-small"),b>c-3&&b<=c&&c>=3&&(h+=" p-ending")):"-"===d&&0===b?h+="p-n p-d":d.match(/^[\,\.]$/)?(h+=","===g?" p-c":"p-dot",a[b+1].match(/-/)&&(h+=" p-d",d+="-")):"'"===d?h+="p-sep":d.match(/^-/)&&(h+=" p-d"),"-"!==d||0===b?h+='">'+d+"</span>":h=h.replace(/<span class="$/,"")}),d.empty(),d.append(h).addClass("length-"+a.length).css("visibility","visible"),d.prepend(f)})},MediaSaturn.Widgets.CaptchaReload=function(){function a(){var a,b=(new Date).getTime(),c=$(this),d=c.hasClass("captcha")?c:c.parents(".captcha"),e=d.find("img"),f=e.attr("src"),g=$.param.querystring(f),h=$.deparam(g);return h.r=b,a=$.param.querystring(f,h,2),e.attr("src",a),!1}0!==$(".captcha").length&&($(".captcha a").on("click",a),$(".captcha").on("fee_captcha_reload",a))},MediaSaturn.Widgets.repairForm=function(){if(0!==$("#repair-status").length){var a=$("#repair-status #repair-status-form"),b=$("#repair-status #repair-send");MediaSaturn.modules.require("validation",function(c,d,e){b.on("click",function(b){b.preventDefault(),c.extend(c.validator.messages,{required:"Dieses Feld ist erforderlich",equalTo:"Bitte geben Sie den gleichen Wert wieder"});a.validate({rules:{lastname:{required:!0},orderId:{required:!0},outletId:{required:!0}},errorElement:"span",errorPlacement:formValidation.errorPlacement,success:formValidation.success});a.submit(),c(document).trigger("fee.fgrid_refresh")})})}},MediaSaturn.Widgets.marketSearch=function(){var a=$(".find-my-location, .js-find-my-location");return 0!==a.length&&void a.on("click.fee_market_teaser",function(a){a.preventDefault();var b=$(this),c=b.parents(".market-search").find("form");try{navigator.geolocation.getCurrentPosition(function(a){var d=a.coords.latitude,e=a.coords.longitude;if(b.hasClass("js-find-my-location")){var f=b.prop("href");f+=f.indexOf("?")>-1?"&":"?",f+=b.data("lat-param")+"="+d,f+="&"+b.data("lng-param")+"="+e,window.location.href=f}else c.find(".search-location-lat").val(d),c.find(".search-location-lng").val(e),c.get(0).submit()})}catch(d){b.hasClass("js-find-my-location")?window.location.href=b.prop("href"):c.get(0).submit()}return!1})},MediaSaturn.Widgets.iPadFinancingLabel=function(){Modernizr.touchevents&&$(".installment-compact").on("touchstart",function(){var a=$(this).find(".value");a.parent().append('<span class="iPadTitle">'+a.attr("title")+"</span>"),setTimeout(function(){a.parent().find(".iPadTitle").remove()},5e3)})},MediaSaturn.clickableLinks=function(){var a=$("span.clickable");a=a.filter(function(){var a=$(this);return!(a.is(".remove-from-wishlist")&&!a.is(".my-account.wishlist .remove-from-wishlist"))}),a.each(function(a,b){var c=$("<div></div>").append($(b).attr("href",$(b).attr("data-clickable-href")).clone()).html(),d=c.replace(/^<span/i,"<a").replace(/<\/span>$/i,"</a>");$(b).replaceWith(d)})},MediaSaturn.scrollToTopButton=function(){"use strict";function a(a){a.preventDefault(),$("html, body").animate({scrollTop:0},"300")}function b(){d.addClass("state-visible")}function c(){d.removeClass("state-visible")}var d=$("#scroll-to-top");0!==d.length&&($("#top-navigation").waypoint(function(a){"down"===a&&b(),"up"===a&&c()}),d.on("click",a))},MediaSaturn.offcanvasSidebar=function(){"use strict";function a(a){a.preventDefault(),d()?(b(),g(m.open)):(c(),g(m.closed))}function b(){j.addClass("state-on").removeClass("state-off")}function c(){j.addClass("state-off").removeClass("state-on")}function d(){return j.hasClass("state-off")}function e(){j.addClass("with-animation"),j.on("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(){j.removeClass("with-animation"),g(m.closed)})}function f(){var a=parseInt(k.css("marginLeft"),10),b=parseInt(j.css("left"),10);j.css({left:b}).stop().animate({left:b+a},600).animate({left:b},600,function(){j.css({left:""}),g(m.closed)})}function g(a){$.cookie("FEE_SIDEBAR_OFFCANVAS",a,{path:"/"}),h=!0}var h,i,j=$(".sidebar-offcanvas"),k=j.find(".toggle-sidebar"),l=$.cookie("FEE_SIDEBAR_OFFCANVAS"),m={open:"open",closed:"closed"};j.length&&(i=j.hasClass("sidebar-offcanvas-open"),h=l===m.open||l===m.closed,c(),h===!1?i?b():$(window).on("load resize",function(){h===!1&&"s"===MediaSaturn.mediaQuery.getScreenSize()&&(Modernizr.cssanimations===!1||Modernizr.csstransforms===!1?setTimeout(f,1500):setTimeout(e,1e3),h=!0)}):l===m.open?b():l===m.closed&&c(),k.on("click",a),j.addClass("sidebar-offcanvas-initialized"))},MediaSaturn.sideNavExpandable=function(){function a(a){a.preventDefault();var b=$(this).parent();b.hasClass("state-expanded")?(b.removeClass("state-expanded"),b.find("> ul").slideUp(400)):(b.addClass("state-expanded"),b.find("> ul").slideDown(400))}var b=$(".side-nav > .expandable");0!==b.length&&(b.not(".state-expanded").find("> ul").hide(),$(".side-nav").on("click",".expandable > a",a))},MediaSaturn.selectEnhanced=function(){function a(a){a.val()?a.parent().removeClass("placeholder"):a.parent().addClass("placeholder")}$(".select > select").each(function(){a($(this))}),$(document).on("change enhanced-select-change",".select > select",function(){var b=$(this);a(b)})},jQuery(document).ready(function(a){MediaSaturn.check_grid_item_button=new MediaSaturn.Widgets.CheckGridItemButton,MediaSaturn.choose_market=new MediaSaturn.Widgets.ChooseMarket,MediaSaturn.compare=new MediaSaturn.Widgets.Compare,MediaSaturn.filters=new MediaSaturn.Widgets.Filters,MediaSaturn.customizedfilters=new MediaSaturn.Widgets.customizedFilters,MediaSaturn.Widgets.addThisSocials=new MediaSaturn.Widgets.addThisSocials,MediaSaturn.Widgets.AddToCompare=new MediaSaturn.Widgets.AddToCompare,MediaSaturn.Widgets.AddToWishlist=new MediaSaturn.Widgets.AddToWishlist,MediaSaturn.Widgets.marketSearch=new MediaSaturn.Widgets.marketSearch,MediaSaturn.Widgets.iPadFinancingLabel=new MediaSaturn.Widgets.iPadFinancingLabel,MediaSaturn.clickableLinks(),MediaSaturn.scrollToTopButton(),MediaSaturn.offcanvasSidebar(),MediaSaturn.sideNavExpandable(),MediaSaturn.Widgets.CaptchaReload(),MediaSaturn.selectEnhanced(),a("#header .store").headerFlyout(),a("#header .cart").cartFlyout(),a("dl.specification dt").each(function(){a(this).css("min-height",a(this).next("dd").height())}),a("dl.specification dd").each(function(){a(this).css("min-height",a(this).prev("dt").height())}),a(".price").priceImageReplacement(),a("[data-simple-tooltip]").simpleTooltip(),a(".all-markets-list-trigger").each(function(){var b=a(this).data("ajax");0===a(".price-sidebar .infobox").length;a(this).colorbox({top:"20px",href:b,onComplete:function(){a("#cboxTitle").remove(),Modernizr.csscolumns||(a("#market-pick .markets ul").columnsPolyfill({columnWidth:169}),a(this).colorbox.resize())}})}),a(document).on("click",".js-print",function(){return a("#my-market-wrapper").trigger("hideTooltip"),window.print(),!1}),a(document).on("click",".layer-print",function(b){var c=a(this).attr("href");return window.open(c,"","width=675,height=570,left=300,top=200,scrollbars=1"),!1}),a(".teaser:not(.randomize)").stageTeaser({nav:!0}),a(".teaser.randomize").stageTeaser({random:!0,nav:!0}),a(".image-teaser:not(#top-navigation .image-teaser)").stageTeaser({controls:!0}),a(document).on("click",'[rel="external"]',function(a){a.preventDefault(),window.open(this.href)}),a(".my-market-menu .brochure-double a, .my-market-menu .brochure a").click(function(){return window.open(this.href),!1});var b={};b.checkIfPopupClicked=function(b){for(var c=a.makeArray(a(".basket a, .basket span, .basket img, .top-navigation-items > .item > a, .dropdown a")),d=c.length,e=!1,f=0;f<d;f++)b===c[f]&&(e=!0);return e},b.translateEvents=function(){a(".flyout-subnavigation").parent().addClass("hasChild"),("ontouchstart"in window||navigator.msMaxTouchPoints)&&(a("header").on("touchstart",function(c){b.checkIfPopupClicked(c.target)||(a("#header .cart").mouseleave(),a(".dropdown").removeClass("active"),a(".dropdown .options").addClass("hide"))}),a(".top-navigation-items > .item > a:not(.hasChild)").on("click",function(b){!a(this).hasClass("touched")&&a(this).parent().hasClass("hasChild")&&b.preventDefault(),a(this).hasClass("touched")||b.stopImmediatePropagation(),a(".top-navigation-items > .item > a.touched").removeClass("touched"),a(this).addClass("touched"),a(this).parent().siblings().find(".touched").removeClass("touched")}))},b.translateEvents()}),$(window).on("load",function(){window.setTimeout(function(){$(".navHover").trigger("mouseleave").trigger("mouseout")},120),MediaSaturn.outdatedBrowser={},MediaSaturn.outdatedBrowser.checkBrowser=function(){jQuery("html").hasClass("lt-ie8")||jQuery("html").hasClass("ie8")?$(document).trigger("fee_layers_onload",[{browserOutdated:!0}]):$(document).trigger("fee_layers_onload",[{browserOutdated:!1}])},MediaSaturn.outdatedBrowser.checkBrowser()}),jQuery(document).ready(function(a){a(document).on("click",".js-media-play a",function(b){var c=a(this).closest("#product-wrapper, .product-wrapper"),d={url:a(this).data("mediaplayer-url")},e=a(this).data("agerating-url");b.preventDefault(),MediaSaturn.agerating.conditionalAction(c,function(){MediaSaturn.mediaplayerStandalone(d)},e)})}),MediaSaturn.mediaplayerStandalone=function(a){var b="MediaPlayer",c=window.open(a.url,b,"location=no,width=800,height=800");c.focus()},jQuery(document).ready(function(a){var b=a("#header ~ #my-account,#rise-header ~ #my-account,#header ~ #jobs-area,#rise-header ~ #jobs-area");b.length&&MediaSaturn.modules.require("user")}),function(a,b){MediaSaturn.placeholderPolyfill=function(){function b(){a("#search-phrase[placeholder]").each(function(c,h){var i=a(h);if(!i.data("placeholder-polyfill")){i.data("placeholder-polyfill",!0),i.focus(function(){var c=a(this);b(c)}).blur(function(){var b=a(this);d(b)}).on("input",function(){e(a(this))}).on("keydown",function(){f(a(this))}).on("click",function(){g(a(this))}).on("paste",function(){g(a(this))});try{d(i)}catch(j){}i.parents("form").submit(function(){i.val()===i.attr("placeholder")&&i.val("")})}});var b=function(a){a.val()===a.attr("placeholder")&&c(a)},d=function(a){""!==a.val()&&a.val()!==a.attr("placeholder")||(a.addClass("placeholder"),a.val(a.attr("placeholder")))},e=function(a){var b=a.val(),d=a.attr("placeholder");b.length>0?(a.val(b.replace(d,"")),a.removeClass("placeholder")):(a.val(d),a.addClass("placeholder"),c(a))},f=function(a){var b=a.val(),c=a.attr("placeholder");b===c&&a.val("")},g=function(a){var b=a.val(),d=a.attr("placeholder");b===d&&c(a)}}function c(a){var b=a[0];if(b.createTextRange){var c=b.createTextRange();c.move("character",0),c.select()}else b.selectionStart?(b.focus(),b.setSelectionRange(0,0)):b.focus()}if(Modernizr.input.placeholder)(a("html").hasClass("ie10")||navigator.userAgent.match(/Trident.*rv[ :]?11\./))&&b();else{if(a(".checkout-onepager").length>0)return!1;a("[placeholder]").each(function(b,c){var f=a(c);if(!f.data("placeholder-polyfill")){f.data("placeholder-polyfill",!0),f.focus(function(){var b=a(this);d(b)}).blur(function(){var b=a(this);e(b)});try{e(f)}catch(g){}f.parents("form").submit(function(){f.val()===f.attr("placeholder")&&f.val("")})}});var d=function(a){a.val()===a.attr("placeholder")&&(a.val(""),a.removeClass("placeholder"))},e=function(a){""!==a.val()&&a.val()!==a.attr("placeholder")||(a.addClass("placeholder"),a.val(a.attr("placeholder")))}}},a(document).ready(function(){MediaSaturn.placeholderPolyfill()})}(jQuery,jQuery),$.fn.columnsPolyfill=function(a){var b=$.extend({columnWidth:235},a);return this.each(function(){var a=$(this),c=a.children(),d=c.length,e=$('<div class="columns-wrapper cf"></div>').insertBefore(a),f=function(){for(var f,g=a.width(),h=Math.floor(g/b.columnWidth),i=Math.ceil(d/h),j=0;j<h;j++)f=$('<ul class="column-list"></ul>').appendTo(e),f.append(c.slice(j*i,(j+1)*i))};f(),$(window).resize($.throttle(250,f)),a.remove()})},$.fn.preventDoubleClick=function(a){var b,c,d=this[0],e="preventDoubleClickIsClicked",f="preventDoubleClidkTimeoutID";return"clear"===a?(c=$.data(d,f),$.data(d,e,!1),clearTimeout(c),!1):(b=$.data(d,e),b===!0||($.data(d,e,!0),c=setTimeout(function(){$.data(d,e,!1)},2e3),$.data(d,f,c),!1))},function(a){function b(b){function f(){if(n<b.length?m.val(b[n]):m.val(""),m.val())h=g(m.data("subsequent-id")),h&&(i=m.data("subsequent-src"),j=a(m).data("param"),k=m.find('[value="'+m.val()+'"]').data("id"),l={},l[j]=k,a.ajax({url:i,data:l,dataType:"json"}).done(function(a){m=h,e.call(m[0],a.content),d.call(m[0]),m.trigger("enhanced-select-change"),n++,f()}));else for(h=g(m.data("subsequent-id"));h;)c.call(h[0]),h=g(h.data("subsequent-id"))}var h,i,j,k,l,m=a(this),n=0;f()}function c(){var b=a(this);b.val("").prop("disabled",!0),f.call(b[0])}function d(){var b=a(this);b.prop("disabled",!1),f.call(b[0])}function e(b){var c,d=a(this),e=d.data("subsequentPlaceholderHTML");if(d.is("[data-subsequent-id]"))for(c=0;c<b.length;c++)e+='<option value="'+b[c].value+'" data-id="'+b[c].id+'">'+b[c].name+"</option>";else for(c=0;c<b.length;c++)e+='<option value="'+b[c].value+'">'+b[c].name+"</option>";d.empty().append(e)}function f(){var b=a(this);b.removeClass("error").parent().find(".error-wrapper").remove()}function g(b){return b?a("#"+b):null}var h={setup:function(a){b.call(this,a)}},i=function(){for(var d=a(this),e=!1,f=function(){var c=a(this).val();b.call(this,[c])};d;){d.is("[data-subsequent-id]")&&d.on("change",f),e&&c.call(d[0]),d.val()||(e=!0);var h=d.find("option:first-child").get(0);d.data("subsequentPlaceholderHTML",(h||document.createElement("option")).outerHTML),d=g(d.data("subsequent-id"))}};a.fn.subsequentSelect=function(b){var c=arguments;a(this).each(function(){return h[b]?h[b].apply(this,Array.prototype.slice.call(c,1)):void i.apply(this)})}}(jQuery),$.fn.multilinePlaceholder=function(){function a(a,b){a.val()===b&&a.val("").removeClass("placeholder").prop("spellcheck",!0)}function b(a,b){var c=a.val();""!==c&&c!==b||a.val(b).addClass("placeholder").prop("spellcheck",!1)}return this.each(function(c,d){var e=$(d),f=e.data("mlplaceholder");b(e,f),e.focus(function(){a(e,f)}).blur(function(){b(e,f)})})},window.MediaSaturn.Product={},MediaSaturn.Product.FullscreenGallery=function(){var a;if(0!==$("#product-sidebar").length){if(this.state="new",this.mediaplayerCurrentTime=0,this.$thumbnails=$("#product-sidebar").find(".thumbnail-carousel__list"),0===this.$thumbnails.length&&(this.$thumbnails=$("#product-sidebar").find(".thumbs")),a=this.$thumbnails.is(".thumbnail-carousel__list")?"#product-sidebar .thumbnail-carousel li:not(.thumbnail-carousel__thumbnail--pim) a:not(.js-gallery-view-launch)":"#product-sidebar .thumbs :not(.pim) a:not(.js-gallery-view-launch)",$(document).on("click.gallery",a,{self:this},this.switchPreview),this.setUpPimImages($(".thumbs .pim a, .thumbnail-carousel__thumbnail--pim a")),$(".thumbs .active").hasClass("video")){var b=$(".active.video").find("a"),c=b.data("stream"),d=b.data("format");({playlist:b.data("playlist"),mediatype:b.data("mediatype"),number:b.data("track")});$("#product-sidebar .preview").addClass("preview-video"),this.mediaplayerInit(c,d)}this.setFullScreenHandler(this.$thumbnails.find(".active, .state--active")),$(document).on("click",".js-open-in-fullscreen",function(a){a.preventDefault(),$("#product-sidebar").find(".fullscreen-gallery").trigger("click")})}},MediaSaturn.Product.FullscreenGallery.prototype.zoomLayerInit=function(a){var b=$("#gallery-view"),c=b.find(".thumbs");b.append('<span class="gallery-view-media-query" style="display:none;"></span>'),this.zoomLayerEnhanceLayout(),MediaSaturn.agerating.conditionalHide($("#product-wrapper"),".js-media-play",function(){c.find(".video").hide(),c.find("li:visible").length<2&&b.addClass("gallery-view-single")}),b.on("click.fullscreenGallery",".thumbs a",{self:this,fullscreen:!0},this.switchPreview),a>=0&&a<b.find(".thumbs li").length&&b.find(".thumbs li:eq("+a+") a").trigger("click",!0),b.find(".navigation").on("click.fullscreenGallery",".prev, .next",function(){var a,c=b.find(".thumbs li:visible").length,d=$(this).is(".prev")?"prev":"next";a=b.find(".thumbs li.active:visible").index(),"prev"===d?(a--,a<0&&(a=c-1)):(a++,a>=c&&(a=0)),b.find(".thumbs li:visible:eq("+a+") a").trigger("click")})},MediaSaturn.Product.FullscreenGallery.prototype.zoomLayerOnResize=function(){this.zoomLayerEnhanceLayout()},MediaSaturn.Product.FullscreenGallery.prototype.zoomLayerEnhanceLayout=function(){function a(){var a,c,d=b.find(".thumbs li"),e=!0;d.length&&(a=d.first().height(),c=d.first().position().top,
d.each(function(b,d){var f=$(d).position().top;Math.abs(f-c)>a&&(e=!1)}),e&&b.addClass("thumbs-in-one-row"))}var b=$("#gallery-view"),c=1===parseInt(b.find(".gallery-view-media-query").first().css("font-size"),10)?"vert":"hor";b.data("verticalLayoutInitialized")||"vert"!==c||(b.data("verticalLayoutInitialized",!0),a())},MediaSaturn.Product.FullscreenGallery.prototype.openInFullscreenLayer=function(){var a=this,b=$("#product-sidebar .fullscreen-gallery"),c=$("#product-sidebar .js-fullscreen-link"),d=b.data("gallery-url"),e=a.$thumbnails,f=e.find("li.active, li.state--active").index();c.length>0?c.trigger("click"):$.ajax({type:"GET",url:d,data:{},success:function(b){MediaSaturn.fullscreenLayer.open(b,function(){a.zoomLayerInit(f)},$.debounce(600,function(){a.zoomLayerOnResize()}))},error:function(){}})},MediaSaturn.Product.FullscreenGallery.prototype.setFullScreenHandler=function(a){var b,c=this;$(document).off("click.video_open",".fullscreen-gallery"),$(document).off("click.photo_open",".fullscreen-gallery, .preview a"),Modernizr.touchevents===!0&&$("#product-sidebar .preview .zoom img").off("panzoomend.video_open"),a.hasClass("video")||a.is(".thumbnail-carousel__thumbnail--video")?(b=$.proxy(this.openInFullscreenLayer,this),$(document).on("click.video_open",".fullscreen-gallery",function(a){a.preventDefault(),c.mediaplayerPause(),b()})):(b=$.proxy(this.openInFullscreenLayer,this),$(document).on("click.photo_open",".fullscreen-gallery, .preview a",function(a){a.preventDefault(),b()}),Modernizr.touchevents===!0&&$("#product-sidebar .preview .zoom img").on("panzoomend.gallery_open",function(a,c,d,e){e||b()}))},MediaSaturn.Product.FullscreenGallery.prototype.switchPreview=function(a,b){var c,d,e,f=$(this),g=a.data.self,h=!!a.data.fullscreen&&a.data.fullscreen;if(!f.closest(".js-gallery-view").length){if(h?(c=$("#gallery-view .thumbs"),d=$("#gallery-view .preview")):(c=g.$thumbnails,d=$("#product-sidebar .preview")),void 0!==g.mediaplayer&&(g.mediaplayerDestroy(h),d.removeClass("preview-video")),b!==!0&&(g.mediaplayerCurrentTime=0),f.parent().hasClass("video")||f.parent().is(".thumbnail-carousel__thumbnail--video")){d.addClass("preview-video");var i=f.data("stream"),j=f.data("format");({playlist:f.data("playlist"),mediatype:f.data("mediatype"),number:f.data("track")});h&&g.mediaplayerCurrentTime?g.mediaplayerInit(i,j,h,g.mediaplayerCurrentTime):g.mediaplayerInit(i,j,h),h||g.setFullScreenHandler(f.parent())}else{var k=f.data("preview"),l=f.data("magnifier");d.find(".img-preview").prop("src",k),h||(d.find(".zoom").prop("href",l),d.find(".zoom").replaceWith(d.find(".zoom").clone()),Modernizr.touchevents===!0?MediaSaturn.modules.require("touchpdp",function(a,b,c){MediaSaturn.Product.pinchToZoom.setUp(d.find(".zoom"))}):MediaSaturn.Product.easyZoom.setUp(d.find(".zoom")),g.setFullScreenHandler(f.parent()))}return e=g.$thumbnails.is(".thumbnail-carousel__list")&&!h?"state--active":"active",c.find("li").removeClass(e),f.parent().addClass(e),f.parent().is(":first-child")?$(".preview .flags").fadeIn(200):$(".preview .flags").fadeOut(200),!1}},MediaSaturn.Product.FullscreenGallery.prototype.hideVideos=function(){var a=this,b=$("#product-sidebar .thumbs li:not(.video) a").first(),c=b.data("preview"),d=b.data("magnifier"),e=this.$thumbnails,f=$("#product-sidebar .preview");e.is(".thumbs")&&e.find($(".video")).length&&(b.is(e.first().find("a").first())||($(".preview img.img-preview").prop("src",c),$(".preview .zoom").prop("href",d),f.removeClass("preview-video"),$(".preview .zoom").replaceWith($(".preview .zoom").clone()),Modernizr.touchevents===!0?MediaSaturn.modules.require("touchpdp",function(a,b,c){MediaSaturn.Product.pinchToZoom.setUp(a(".preview .zoom"))}):MediaSaturn.Product.easyZoom.setUp($(".preview .zoom")),e.find("li").removeClass("active"),b.parent().addClass("active"),a.setFullScreenHandler(b.parent())),e.find(".video").hide()),e.is(".thumbnail-carousel__list")&&e.find($(".thumbnail-carousel__thumbnail--video")).length&&(e.find(".thumbnail-carousel__thumbnail--video").remove(),setTimeout(function(){e.closest(".thumbnail-carousel").data("thumbnailCarousel").refresh()},1)),1===e.find("li:visible").length&&e.hide()},MediaSaturn.Product.FullscreenGallery.prototype.mediaplayerInit=function(a,b,c,d){var e,f,g,h,i=this,j="html,flash";e=b,"flv"===b&&(j="flash,html"),f={},f[b]=a,c?(g="#gv-mediaplayer",h="#gv-mediaplayer-container"):(g="#mediaplayer",h="#mediaplayer-container"),this.mediaplayer=$(g).jPlayer({cssSelectorAncestor:h,cssSelector:{play:""},swfPath:$(h).data("swfpath"),supplied:e,solution:j,size:i.mediaplayerGetSize(c),ready:function(){$(this).jPlayer("setMedia",f),$(window).resize($.throttle(250,function(){$(g).jPlayer("option",{size:i.mediaplayerGetSize(c)})})),$(h).find(".jp-play").on("click",function(a){i.mediaplayerPlay(c)}),d&&i.mediaplayerPlay(c,d)},play:function(a){i.mediaplayerSetState(a.jPlayer.status.paused,c)},pause:function(a){i.mediaplayerSetState(a.jPlayer.status.paused,c)},timeupdate:function(a){i.mediaplayerCurrentTime=Math.floor(a.jPlayer.status.currentTime)},error:function(a){}}),this.mediaplayerSetState(!0,c)},MediaSaturn.Product.FullscreenGallery.prototype.mediaplayerDestroy=function(a){a?($("#gv-mediaplayer-container").find(".jp-play").off("click"),$("#gv-mediaplayer").jPlayer("destroy")):($("#mediaplayer-container").find(".jp-play").off("click"),$("#mediaplayer").jPlayer("destroy"))},MediaSaturn.Product.FullscreenGallery.prototype.mediaplayerPause=function(){var a=!1;a?$("#gv-mediaplayer").jPlayer("pause"):$("#mediaplayer").jPlayer("pause")},MediaSaturn.Product.FullscreenGallery.prototype.mediaplayerPlay=function(a,b){var c,d,e=$("#product-wrapper"),f=$("#product-sidebar .fullscreen-gallery").data("agerating-url");c=$.proxy(this.openInFullscreenLayer,this),d=a?function(){0===$("#gallery-view").length?($(document).one($.jPlayer.event.ready,"#gv-mediaplayer",function(){b?$("#gv-mediaplayer").jPlayer("play",b):$("#gv-mediaplayer").jPlayer("play")}),c()):b?$("#gv-mediaplayer").jPlayer("play",b):$("#gv-mediaplayer").jPlayer("play"),b?$("#gv-mediaplayer").jPlayer("play",b):$("#gv-mediaplayer").jPlayer("play")}:function(){$("#mediaplayer").jPlayer("play")},MediaSaturn.agerating.conditionalAction(e,d,f,a)},MediaSaturn.Product.FullscreenGallery.prototype.mediaplayerGetSize=function(a){var b,c,d;return a?(d=$("#gallery-view"),b=d.find(".preview").width(),c=d.find(".preview").height()):(b=$("#product-sidebar .preview").width(),c=Math.floor(.5625*b),b<230&&(c=155)),{width:b+"px",height:c+"px"}},MediaSaturn.Product.FullscreenGallery.prototype.mediaplayerSetState=function(a,b){var c;c=b?$("#gv-mediaplayer-container"):$("#mediaplayer-container"),a===!0?c.removeClass("mediaplayer-state-playing"):c.addClass("mediaplayer-state-playing")},MediaSaturn.Product.FullscreenGallery.prototype.setUpPimImages=function(a){var b;0!==a.length&&a.each(function(a,c){var d=$(c),e=d.closest(".thumbnail-carousel").length?"state--active":"active";d.addClass("cboxElement cphoto"),d.colorbox({photo:!0,current:"",initialWidth:500,initialHeight:281,onOpen:function(){b=d.parents(".thumbs, .thumbnail-carousel__list").find("li."+e),b.removeClass(e),d.parent().addClass(e)},onLoad:function(){var a=d.closest(".thumbnail-carousel").data("thumbnailCarousel");$('<span class="loading small ontop"><span></span></span>').appendTo("#cboxContent"),$("#cboxContent").addClass("cbox-photo-wrapper");var b=d.parents(".thumbs, .thumbnail-carousel__list").find("li."+e);b.removeClass(e),d.parent().addClass(e),a&&a.scrollToActive()},onComplete:function(){$("#cboxContent .loading").remove(),$("#cboxClose").show()},onCleanup:function(){b.addClass(e),d.parent().removeClass(e)},onClosed:function(){d.blur()}})})},MediaSaturn.Product.pinchToZoom={setUp:function(a){var b=a,c=b.find("img.img-preview"),d=b.children(),e=b.prop("href"),f=$('<a href="#" class="zoom zoom-pinch"></a>');c.attr("src",e),d.unwrap().wrapAll(f),c.panzoom({startTransform:"scale(1.0)",increment:.3,minScale:1,maxScale:786/325,contain:"invert"})}},MediaSaturn.Product.easyZoom={setUp:function(a){function b(){a.on("mouseenter.eventTracker",function(a){"s"!==MediaSaturn.mediaQuery.getScreenSize()&&MediaSaturn.eventTracker.fire("image-zoom-layer")}).one("mouseenter",function(a){$(this).easyZoom({initialEvent:a})})}"s"!==MediaSaturn.mediaQuery.getScreenSize()?b():($(window).off("resize.easyzoom"),$(window).on("resize.easyzoom",$.debounce(250,function(){"s"!==MediaSaturn.mediaQuery.getScreenSize()&&(b(),$(window).off("resize.easyzoom"))})))}};var productSidebar={productSidebarElement:null,productDetails:null,setWaypoints:function(){var a,b,c=this,d=c.productSidebarElement,e=$("#product-details .price-sidebar .price-button"),f=$("#product-details .product-anchors"),g=40;a=$("#product-details + .contentspot").not(function(){if(0===$(this).height())return!0}),0===a.length&&(a=$("#page-footer")),b=$("#header, #rise-header"),(b.hasClass("header-sticky")||b.hasClass("ms-glue--fixed"))&&(g+=b.outerHeight()),b.hasClass("ms-glue--fixed")&&d.addClass("sticky--with-rise"),e.length||(e=$("#product-details h1")),$(".breadcrumbs").waypoint(c.onTopReach),a.waypoint(c.onBottomReach,{offset:function(){return d.outerHeight()+g}}),e.waypoint(c.onCartButtonReach,{offset:-e.height()}),f.waypoint(c.onDescReach,{offset:-f.height()})},onTopReach:function(a){var b=productSidebar.productSidebarElement;if(b.hasClass("stickable")&&!b.hasClass("reflowed")){var c;"down"===a?(b.addClass("sticky").removeClass("hold"),c=b.find(".preview").position().top):(b.removeClass("sticky").removeClass("on-bottom").addClass("hold"),c=b.find(".preview").offset().top-$("#product-wrapper").offset().top),$(".zoomWin").css("top",c)}},onBottomReach:function(a){MediaSaturn.Product.SidebarPositionFix();var b=productSidebar.productSidebarElement;if(b.hasClass("stickable")&&!b.hasClass("reflowed")&&!b.hasClass("hold")){"down"===a?b.removeClass("sticky").addClass("on-bottom"):b.removeClass("on-bottom").addClass("sticky");var c=b.find(".preview").position().top;$(".zoomWin").css("top",c)}},onCartButtonReach:function(a){var b=productSidebar.productSidebarElement;b.hasClass("stickable")&&!b.hasClass("reflowed")&&("down"===a?(b.find(".support, .additional, .thumbs, .screenshots, .thumbnail-carousel").slideUp(),$(".sidebar-form, .product-name").removeClass("hide")):(b.find(".support, .additional, .thumbs, .screenshots, .thumbnail-carousel").slideDown(),$(".sidebar-form, .product-name").addClass("hide")))},onDescReach:function(a){var b=productSidebar.productSidebarElement,c=b.find(".premiumboxes");b.hasClass("stickable")&&!b.hasClass("reflowed")&&"s"!==MediaSaturn.mediaQuery.getScreenSize()&&("down"===a?c.addClass("state-shown"):c.removeClass("state-shown"))},preventOverflowWithPriceSidebar:function(){function a(a,b){return a>0&&a<b}var b,c,d=$("#product-details").find(".price-sidebar");0!==d.length&&(b=$("#product-sidebar").find(".thumbs, .support"),c=d.offset().top+d.height(),$.each(b,function(b,d){var e=$(d),f=e.offset().top;a(f,c)&&e.addClass("no-overlapping")}))},reflowToSmall:function(){var a=productSidebar.productSidebarElement,b=$("#product-details h1"),c=$("#product-details .price-sidebar"),d=b.outerHeight();a.removeClass("sticky on-bottom"),a.find(".support, .additional, .thumbs, .screenshots, .thumbnail-carousel").show(),1===a.find(".thumbs li:visible, .thumbnail-carousel li:visible").length&&a.find(".thumbs, .thumbnail-carousel").hide(),a.find(".sidebar-form, .product-name").addClass("hide"),b.css({top:$("#product-sidebar").position().top+"px"}),a.css({paddingTop:d+"px"}),c.css({top:$("#product-sidebar .preview").position().top+"px"}),this.preventOverflowWithPriceSidebar(),$.waypoints("disable")},reflowToBig:function(){var a=productSidebar.productSidebarElement,b=$("#product-details h1"),c=$("#product-details .price-sidebar");a.removeClass("reflowed"),b.css({top:""}),c.css({top:""}),a.css({paddingTop:""}),Modernizr.touchevents||(a.hasClass("reflowed")?$.waypoints("refresh"):productSidebar.setWaypoints()),$.waypoints("enable")},init:function(){if(this.productSidebarElement=$("#product-sidebar"),this.productDetails=$("#product-details"),0!==this.productSidebarElement.length){var a=this,b=this.productSidebarElement;"s"!==MediaSaturn.mediaQuery.getScreenSize()?Modernizr.touchevents||a.setWaypoints():a.reflowToSmall();var c="s"===MediaSaturn.mediaQuery.getScreenSize();$(window).resize($.throttle(250,function(){"s"===MediaSaturn.mediaQuery.getScreenSize()?(c===!1&&(a.reflowToSmall(),b.addClass("reflowed")),c=!0):(c===!0&&(a.reflowToBig(),a.onDescReach()),c=!1)})),Modernizr.touchevents||(a.productDetails.resize(function(){$.waypoints("refresh")}),$("#product-sidebar").resize($.throttle(500,function(){$.waypoints("refresh")}))),$(document).on("fee_productcontainer_update_rendered_elements",$.debounce(250,function(){Modernizr.touchevents||productSidebar.setWaypoints()}))}}};MediaSaturn.Product.SidebarPositionFix=function(){var a=$("#product-details").next(".contentspot");if(0!==$("#product-sidebar").length||0!==a.length){var b=$("#product-sidebar"),c=a.height(),d=Math.floor(c+20);b.css("bottom",d+"px")}},MediaSaturn.TestLogo=function(){var a=$(this).parent().find(".tl-show"),b=a.find("img");a.parent().addClass("launch"),b.width(100),b.height(55),a.css({display:"block"}),b.animate({width:"400px",height:"218px"},200),$(".testlogo.launch").find(".close").on("click",function(a){a.preventDefault()})},MediaSaturn.TestLogoClose=function(){$(".testlogo.launch .tl-show img").animate({width:"100px",height:"55px"},200),setTimeout(function(){$(".testlogo.launch .tl-show").hide()},200),$(".testlogo.launch").removeClass(".launch")},MediaSaturn.Product.GuaranteePlus=function(a,b){this.$el=a,this.model={},this.elements=[],this.onChange=void 0!==b?b:function(){},this.init()},MediaSaturn.Product.GuaranteePlus.prototype={onChange:function(){},init:function(){this.$el.each($.proxy(function(a,b){0===a&&(this.model=new this.GuaranteePlusModel(b)),this.addElement(b)},this))},addElement:function(a){var b=$(a),c=this;this.elements.push(b),this.updateWithModel(a),b.find("[type=checkbox]").on("change",function(a){var d,e=$(this),f=b.find("[type=checkbox]").index(this);for(c.model.setChecked(f,e.prop("checked")),d=0;d<c.elements.length;d++)c.updateWithModel(c.elements[d][0],this)}),b.hasClass("premiumopts-collapsible")&&b.find(".toggle-button").on("click",function(){b.toggleClass("state-expanded"),$("#colorbox").colorbox.resize()}),b.find(".more-info-toggle").on("click",function(a){MediaSaturn.eventTracker.fire("individual-guarantee-information");var b=$(this),c=b.parents("li"),d=c.find(".more-info"),e=c.parents("#cboxLoadedContent");a.preventDefault(),e.css("overflow","hidden"),b.toggleClass("state-shown"),d.toggleClass("state-shown"),$.colorbox.customPreventReposition(!0),$(document).trigger("fee.fgrid_refresh",{afterCallback:function(){$.colorbox.resize(),setTimeout(function(){$.colorbox.customPreventReposition(!1)},1e3),e.css("overflow","")}})})},updateWithModel:function(a,b){var c=$(a),d=this;c.find("[type=checkbox]").each(function(a,c){var e=$(c),f=e.parents("li"),g=d.model.isAnyChecked();g?d.model.isChecked(a)?e.is(":checked")?d.onChange(e,!1):(e.prop("checked",!0).prop("disabled",!1),f.removeClass("faded")):(e.prop("checked",!1).prop("disabled",!0),f.addClass("faded")):(c===b&&d.onChange(e,!0),e.prop("checked",!1).prop("disabled",!1),f.removeClass("faded"))})},GuaranteePlusModel:function(a){var b=[];$(a).find("[type=checkbox]").each($.proxy(function(a,c){var d=$(c);b.push(d.prop("checked"))},this)),this.isChecked=function(a){return b[a]},this.isAnyChecked=function(){var a,c=!1;for(a=0;a<b.length;a++)b[a]===!0&&(c=!0);return c},this.setChecked=function(a,c){var d;for(d=0;d<b.length;d++)b[d]=!1;c&&(b[a]=!0)}}},MediaSaturn.Product.GuaranteePlusInit=function(){var a=function(a,b){var c,d,e,f,g,h,i,j,k,l;f=a.attr("name"),k=$("#product-details .price-sidebar a.add-to-cart"),l=$("#product-sidebar .sidebar-form a.add-to-cart"),i=k.attr("data-href"),c=a.data("warr-id"),d=a.val(),e=a.data("warr-id-val"),g=$.param.querystring(i),h=$.deparam(g),b?(delete h[f],delete h[c],MediaSaturn.eventTracker.fire("remove-guarantee")):(h[f]=d,h[c]=e,MediaSaturn.eventTracker.fire("add-guarantee")),j=$.param.querystring(i,h,2),k.attr("data-href",j),l.attr("data-href",j)};new MediaSaturn.Product.GuaranteePlus($(".premiumopts"),a);$(".premiumopts").find("ul .icon.icon-info").on("click",function(){MediaSaturn.eventTracker.fire("individual-guarantee-information")}),$(".premiumopts").find("h2 .icon.icon-info").on("click",function(){MediaSaturn.eventTracker.fire("overall-guarantee-information")})},MediaSaturn.Product.ServiceBox=function(){function a(){var a=$(this);b(a),c(a);var d=$("#product-service").data("onchange-callback");"undefined"!=typeof d&&""!==d&&executeFunctionByName(d,window),MediaSaturn.eventTracker.fire("service-change-service-item-name",{service:$(this).val()})}function b(a){var b=a.attr("name");a.prop("checked")===!0&&$('input:checkbox[name="'+b+'"]').not(a).prop("checked",!1)}function c(a){var b,c=a.attr("name"),f=$("#product-service input:checked").val(),g=$("#product-details .price-sidebar a.add-to-cart").attr("data-href");b=d(g,c,f),e(b)}function d(a,b,c){var d=$.deparam($.param.querystring(a));return"undefined"!=typeof c?d[b]=c:delete d[b],$.param.querystring(a,d,2)}function e(a){$("#product-details .price-sidebar a.add-to-cart, #product-sidebar .sidebar-form a.add-to-cart ").attr("data-href",a)}function f(){var b=$("#product-service"),d=b.find("input:checked");d.length>0&&c(d),b.find("input:checkbox").on("change",a)}f()},MediaSaturn.Product.SortProductAnchors=function(){function a(a,b){return{href:a,label:b,offsetTop:0}}function b(a,b){return a.offsetTop<b.offsetTop?-1:a.offsetTop>b.offsetTop?1:0}function c(){for(var a="",b=d.length,c=0;c<b;c++)d[c].offsetTop>0&&(a+='<a href="'+d[c].href+'">'+d[c].label+"</a>");$(".product-anchors").html(a),$(".product-anchors").localScroll(MediaSaturn.localScrollSettings)}var d=[],e=0;$(".product-anchors a").each(function(){d.push(a($(this).attr("href"),$(this).html()))}),e=d.length;for(var f=0;f<e;f++)"undefined"==typeof $(""+d[f].href).offset()?d[f].offsetTop=0:d[f].offsetTop=$(""+d[f].href).offset().top;d.sort(b),c()},$.fn.tooltips=function(a){var b=$.extend({title:null,textElement:!1,button:!1,contentAfter:!1},a);return this.each(function(){for(var a,c,d=$(this).addClass("enhanced"),e='<span class="arrow">',f=0;f<10;f++)e+='<span class="arrow-element arrow-element-'+(f+1)+'"></span>';if(e+="</span>",b.contentAfter===!0)a=d.next(".tooltip_content").hide(),a.wrapInner('<span class="tooltip-wrapper"></span>').append($(e)),a.find(".tooltip-header").prependTo(a);else{a=d.find(".tooltip_content").hide(),a.wrapInner('<span class="tooltip-wrapper"></span>').append($(e)),c=$('<span class="tooltip-header"></span>').prependTo(a);var g=d.find(".tooltip_value");c.text(g.text())}if(b.textElement===!0&&a.children(".tooltip-wrapper").append('<span class="txt"></span>'),b.button!==!1){var h='<span class="button-wrapper"><span class="button"><span>'+b.button+"</span></span></span>";a.children(".tooltip-wrapper").append(h)}var i;b.contentAfter===!0?(a.bind("show",function(){var b;b=a.parents(".row-wrapper").length?d.offset().top-a.height()-13:d.offset().top-a.height()-20;var c=d.offset().left-a.width()/2+d.width()/2;a.appendTo("body").css({top:b+"px",left:c+"px",zIndex:"9990"}),a.stop(!0,!0).fadeIn(function(){a.addClass("active")})}),a.bind("hide",function(){a.stop(!0,!0).fadeOut(function(){a.insertAfter(d).removeClass("active")})}),d.mouseenter(function(){clearTimeout(i),a.hasClass("active")||($(".has-active-tooltip").removeClass("has-active-tooltip"),d.addClass("has-active-tooltip"),a.trigger("show"))}),d.mouseleave(function(){i=setTimeout(function(){a.trigger("hide"),d.removeClass("has-active-tooltip")},200)}),a.mouseenter(function(){clearTimeout(i)}),a.mouseleave(function(){i=setTimeout(function(){a.trigger("hide")},200)})):d.mouseenter(function(){clearTimeout(i);var b=a.height(),c=d.offset(),e=c.left,f=$(window).width()-e-d.width();f<a.outerWidth()/2?a.addClass("left"):e<a.outerWidth()/2&&a.addClass("right"),a.css({top:-b+"px"}),a.stop(!0,!0).fadeIn()}).mouseleave(function(){i=setTimeout(function(){a.stop(!0,!0).fadeOut(function(){a.appendTo(d),a.removeClass("left right")})},200)}),Modernizr.touchevents!==!1&&(a.find(".tooltip-header").before('<button type="button" class="layer-close"></button>'),a.find(".layer-close").on("click touchstart",function(b){b.preventDefault(),setTimeout(function(){a.trigger("hide")},200)}))})},function(a){a.fn.keywordTooltip=function(b){return this.each(function(){var b=a(this),c=b.find(".tooltip"),d=c.filter("a"),e=c.filter("span");e.each(function(){var b=a(this),c=b.find(".tooltip_value").text(),e=d.filter(function(){return a(this).find(".tooltip_value").text()===c}).first().attr("href");"undefined"!=typeof e&&b.replaceWith('<a href="'+e+'" class="tooltip">'+b.html()+"</a>")}),c=b.find(".tooltip"),c.tooltips({title:"Infoportal",textElement:!0})})}}(jQuery),jQuery(document).ready(function(a){MediaSaturn.product_gallery=new MediaSaturn.Product.FullscreenGallery,productSidebar.init(),MediaSaturn.Product.SidebarPositionFix(),MediaSaturn.Product.ServiceBox=new MediaSaturn.Product.ServiceBox,MediaSaturn.Product.GuaranteePlusInit(),a(".testlogo .tl-thumb").on("click",MediaSaturn.TestLogo),a(".testlogo .tl-show").on("click",MediaSaturn.TestLogoClose),a(".testlogo .tl-show").on("mouseleave",MediaSaturn.TestLogoClose),a("#product-details").keywordTooltip(),a(".price-details .tooltip, .product-price .tooltip").click(function(){return!1}).tooltips({contentAfter:!0});var b=a(".header-stickable").data("stickyHeight");a("#rise-header").length>0&&(b=90),MediaSaturn.localScrollSettings={hash:!0,onBefore:function(b,c,d){return!a(b.target).is("[data-layer]")&&void a(document).trigger("fee_localscroll_before",c)},offset:{top:-b,left:0}},a.localScroll(MediaSaturn.localScrollSettings),a("#product-service li:odd").addClass("odd"),a("#product-service li:even").addClass("even");var c=a(".preview .zoom").not(".cms-slider .preview .zoom");if(Modernizr.touchevents===!0&&c.length>0?MediaSaturn.modules.require("touchpdp",function(a,b,d){MediaSaturn.Product.pinchToZoom.setUp(c)}):MediaSaturn.Product.easyZoom.setUp(c),a(".product-accessories:not(.product-container)").productAccessories(),MediaSaturn.agerating.conditionalHide(a("#product-wrapper"),".js-media-play",function(){MediaSaturn.product_gallery.hideVideos()}),MediaSaturn.scrollToHashOnPageLoad=function(){window.location.hash.length>0&&a('a[href="'+window.location.hash+'"]:not(.js-product-reviews-filter):first').click()},a(document).on("fee_respoflex_updated",function(){a("#product-sidebar").length>0&&"s"===MediaSaturn.mediaQuery.getScreenSize()&&productSidebar.reflowToSmall()}),a(".collapsible-features").length>0){var d=parseInt(a(".features-list").css("max-height"),10),e=a(".features-list").css("max-height","none").hide().show(0).height();if(a(".features-list").css("max-height","").scrollTop(0),e>d){var f=a(".features-list");a(".js-toggle-collapsed").on("click",function(b){var c,d,e=a(this).closest(".collapsible-features");b.preventDefault(),g(e),c=e.prev(),c.is(".header")!==!0&&(c=e),e.is(".collapsed")&&(d=a(".header-stickable").data("stickyHeight"),a("#rise-header").length>0&&(d=90),a(document).scrollTo(c,"fast",{offset:{top:-d,left:0}}))}),a(document).on("fee_localscroll_before",function(b,c){var d=a(c).is(".collapsible-features, .collapsed"),e=a(c).siblings(".collapsible-features, .collapsed");d?g(a(c)):e.length>0&&g(e)}),a(".collapsible-features").append('<div class="collapse-fade"></div>')}else a(".js-toggle-collapsed").remove(),a(".collapsible-features").removeClass("collapsed").removeClass("collapsible-features"),a(document).trigger("fee.fgrid_refresh");var g=function(b){var c,d,e;e=b.find(".js-toggle-collapsed"),b.toggleClass("collapsed"),c=e.data("alternate-text"),d=e.find("span").html(),e.find("span").html(c),e.data("alternate-text",d),f.css("min-height","auto"),setTimeout(function(){a(document).trigger("fee.fgrid_refresh")},300)}}a(".price-details, .price-box").each(function(b,c){var d=a(c).find(".price-old").length;d>0&&a(c).addClass("has-old-price")})}),$(document).on("fee_ready",function(){$("#product-wrapper").find(".js-product-attributes").each(function(){new MediaSaturn.ProductAttributes({$element:$(this),action:function(a){window.location.href=a}})})}),jQuery(window).resize($.throttle(200,MediaSaturn.Product.SidebarPositionFix)),$(window).load(function(){MediaSaturn.Product.SortProductAnchors(),setTimeout(MediaSaturn.scrollToHashOnPageLoad,700)}),function(a){a(function(){a(document).trigger("fee_ready")})}(jQuery),function(a,b){void 0!==a.__alien_globals&&void 0!==a.__alien_globals.jQuery&&a.__alien_globals.jQuery!==b.jQuery&&(b.jQuery=b.$=a.__alien_globals.jQuery)}(MediaSaturn,window);
})(jQuery, jQuery);